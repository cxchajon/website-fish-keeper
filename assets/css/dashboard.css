/* --- Page base --- */
:root{
  --bg: #0f1720;                 /* stays dark navy */
  --grid-line: rgba(255,255,255,.05);
  --gutter: clamp(16px, 6vw, 40px);
  --section-gap: clamp(28px, 6vh, 56px);
  --maxw-desktop: 1200px;        /* keep a sane max on huge displays */
}

/* Full-bleed grid background */
body.dashboard-bg{
  background: var(--bg);
  background-image:
    linear-gradient(var(--grid-line) 1px, transparent 1px),
    linear-gradient(90deg, var(--grid-line) 1px, transparent 1px);
  background-size: 48px 48px, 48px 48px; /* blueprint grid */
  background-position: center top;
  overflow-x: hidden;
}

/* Top-level container now uses the full viewport */
#dash-root.dash-full{
  width: 100%;
  max-width: none;
  padding-inline: var(--gutter);
  padding-block: clamp(20px, 5vh, 48px);
  margin: 0 auto;
}

/* Content sections sit directly on background */
.dash-block{
  width: min(100%, var(--maxw-desktop));
  margin-inline: auto;
  margin-block: var(--section-gap);
}

/* Headline + meta spacing tuned for mobile */
.dash-title{
  margin-bottom: 18px;
}
.dash-sub{
  margin-bottom: 20px;
}

/* Filters / controls row: full width on mobile, wrap nicely */
.controls{
  display: grid;
  grid-template-columns: 1fr;
  gap: 14px;
}
@media (min-width: 640px){
  .controls{ grid-template-columns: repeat(2, minmax(0,1fr)); }
}
@media (min-width: 900px){
  .controls{ grid-template-columns: repeat(3, minmax(0,1fr)); }
}

/* Tab buttons stretch, lose heavy shadows */
.tab-row{
  display: grid;
  grid-template-columns: 1fr;
  gap: 12px;
  margin-top: 14px;
}
.tab{
  width: 100%;
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 16px;
  padding: 14px 16px;
  box-shadow: none;               /* remove card feel */
}
.tab.is-active{
  background: rgba(56,189,248,.08);
  border-color: rgba(56,189,248,.35);
}

/* Chart section — use full width with soft rounded mask drawn by chart itself */
.chart-wrap{
  width: 100%;
  margin-top: 16px;
}
.chart-legend{
  display: flex; gap: 18px; align-items: center; flex-wrap: wrap;
  margin: 6px 0 12px;
  font-size: 15px;
  color: rgba(255,255,255,.86);
}

/* Give charts generous height, responsive to viewport */
.chart-viewport{
  width: 100%;
  height: clamp(260px, 48vh, 520px);
}

/* Tighten mobile typography so it doesn’t feel crowded */
h1.dash-title{
  font-size: clamp(26px, 5.5vw, 44px);
  line-height: 1.08;
  color: #e8f1ff;
  text-shadow: 0 1px 0 rgba(0,0,0,.3);
}
h2.section-title{
  font-size: clamp(20px, 4.6vw, 32px);
  color: #e6edf7;
  margin-bottom: 8px;
}

/* Remove any leftover card styles this page may inherit */
#dash-root .card,
#dash-root .panel,
#dash-root .surface{
  background: transparent !important;
  border: 0 !important;
  box-shadow: none !important;
  backdrop-filter: none !important;
}

/* Ensure nothing reintroduces a fixed max-width wrapper */
#dash-root .container, 
#dash-root .shell, 
#dash-root .wrap {
  max-width: none !important;
  width: 100% !important;
  padding: 0 !important;
  margin: 0 !important;
}

/* Avoid horizontal scrollbars from inner elements */
#dash-root *{
  max-width: 100%;
}

/* Recharts SVG should fill the container */
.recharts-responsive-container{
  width: 100% !important;
  height: 100% !important;
}

/* Extra breathing room below the last section */
#dash-root .dash-block:last-child{ padding-bottom: 12vh; }

/* iOS safe-area nudge */
@supports(padding:max(0px)){
  #dash-root{ padding-bottom: max(12vh, env(safe-area-inset-bottom)); }
}
