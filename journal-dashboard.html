<!DOCTYPE html>
<html lang="en" data-page="journal-dashboard">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>29G Aquarium Dashboard — The Tank Guide</title>
  <meta
    name="description"
    content="Interactive dashboard for the FishKeepingLifeCo 29-gallon journal featuring nitrate trends, dosing totals, and maintenance insights."
  />
  <link rel="canonical" href="https://thetankguide.com/journal-dashboard.html" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="The Tank Guide" />
  <meta property="og:title" content="29G Aquarium Dashboard — The Tank Guide" />
  <meta
    property="og:description"
    content="Monitor nitrate, dosing, and maintenance trends across the FishKeepingLifeCo 29-gallon aquarium journal."
  />
  <meta property="og:url" content="https://thetankguide.com/journal-dashboard.html" />
  <meta property="og:image" content="https://thetankguide.com/logo.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@fishkeepinglife" />
  <meta name="twitter:title" content="29G Aquarium Dashboard — The Tank Guide" />
  <meta
    name="twitter:description"
    content="Track nitrate, dosing, and maintenance data from the FishKeepingLifeCo 29G planted tank journal."
  />
  <meta name="twitter:image" content="https://thetankguide.com/logo.png" />
  <link rel="icon" href="/favicon.ico" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link rel="stylesheet" href="/css/site.css?v=2025-10-27c" />
  <link rel="stylesheet" href="/css/style.css?v=1.0.9" />
  <link rel="stylesheet" href="/assets/css/dashboard.css" />
  <link rel="stylesheet" href="/assets/css/journal-dashboard.css" />
  <link rel="stylesheet" href="/css/journal-dashboard.overrides.css?v=2025-10-27-1" />
  <script defer src="/js/nav.js?v=1.1.0"></script>
  <!-- React + ReactDOM + Babel (for JSX in-browser) -->
  <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <!-- Recharts UMD -->
  <script src="https://unpkg.com/recharts/umd/Recharts.min.js"></script>
  <!-- Lucide icons (UMD) -->
  <script src="https://unpkg.com/lucide@latest"></script>
  <style>
    :root { color-scheme: dark; }
    .dash-wrap {
      max-width: 1120px;
      margin: 0 auto;
      padding: clamp(28px, 4vw, 72px) clamp(12px, 3.8vw, 48px) clamp(88px, 8vw, 120px);
      display: flex;
      flex-direction: column;
      gap: clamp(32px, 6vh, 68px);
    }
    @media (max-width: 640px) {
      .dash-wrap {
        padding-inline: clamp(10px, 3.6vw, 24px);
        gap: clamp(28px, 8vh, 56px);
      }
    }
    .section {
      margin: 0;
      display: flex;
      flex-direction: column;
      gap: clamp(14px, 3vh, 26px);
    }
    .chart-card {
      margin: 0;
      padding: clamp(12px, 3vw, 22px) 0 clamp(22px, 5vw, 32px);
      border-radius: 0;
      background: transparent;
      border: none;
      box-shadow: none;
    }
    .chart-shell {
      position: relative;
      width: 100%;
      height: 100%;
      min-height: 320px;
    }
    /* Ensure ResponsiveContainer has a reserved height */
    .chart-h400,
    .chart-h440 {
      position: relative;
      width: 100%;
      min-height: 360px;
    }
    .chart-h400 { height: 400px; }
    .chart-h440 { height: 420px; }
    @media (max-width: 640px) {
      .chart-h400,
      .chart-h440 {
        min-height: 320px;
      }
      .chart-h440 { height: 360px; }
    }
    .title {
      font-size: clamp(24px, 4.5vw, 42px);
      font-weight: 800;
      color: #e6eef8;
      letter-spacing: 0.2px;
      text-shadow: 0 1px 0 #000;
    }
    .sub {
      color: #afc2d6;
      margin-top: 6px;
      font-size: clamp(15px, 3.6vw, 18px);
    }
    .legend-row {
      display: flex;
      gap: clamp(12px, 4vw, 24px);
      align-items: center;
      color: #cfe2ff;
      font-size: 14px;
      margin: 4px clamp(4px, 2vw, 10px) 2px;
      padding-inline: clamp(8px, 4vw, 20px);
      flex-wrap: wrap;
    }
    @media (max-width: 480px) {
      .legend-row {
        align-items: flex-start;
      }
    }
    .dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      display: inline-block;
    }
    .chart-h440 .recharts-responsive-container,
    .chart-h400 .recharts-responsive-container {
      width: 100% !important;
      height: 100% !important;
    }
    main#dash-root {
      width: 100%;
      padding: 0;
      position: relative;
    }
    main#dash-root .dash-block {
      padding: 0;
    }
    .tab-trigger {
      display: inline-flex;
      flex-wrap: wrap;
      gap: 8px;
    }
  </style>
</head>
<body class="dashboard-page dashboard-blueprint dashboard-bg">
  <div id="site-nav"></div>
  <main id="dash-root" class="dash-full bleed">
    <section class="dash-block" id="main-content">
      <div id="root"></div>
    </section>
  </main>
  <script src="/js/footer-loader.js?v=1.4.7" defer></script>
  <div id="site-footer" data-footer-src="/footer.html?v=1.4.7"></div>
  <script type="module" src="/assets/js/journal-dashboard.js?v=2025-10-27c"></script>
  <script>
(function(){
  if (document.documentElement.getAttribute('data-page') !== 'journal-dashboard') return;
  const kill = ['glass','elevated','card','panel','module','section-card'];
  const selectors = kill.map(k=>'.'+k).join(',');
  const scrub = (root = document) => {
    root.querySelectorAll(selectors).forEach(el => {
      kill.forEach(k => el.classList.remove(k));
      // Also remove inline styles that set background/shadow
      el.style.background = 'transparent';
      el.style.boxShadow = 'none';
      el.style.backdropFilter = 'none';
    });
  };

  const run = () => scrub();

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', run, { once: true });
  } else {
    run();
  }

  const observer = new MutationObserver(mutations => {
    for (const mutation of mutations) {
      mutation.addedNodes.forEach(node => {
        if (node.nodeType === 1) {
          scrub(node);
        }
      });
    }
  });

  observer.observe(document.body, { childList: true, subtree: true });
})();
</script>
  <script type="text/babel">
  const {
    LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend,
    ResponsiveContainer, ReferenceLine, BarChart, Bar
  } = Recharts;

  function AquariumDashboard() {
    const [tab, setTab] = React.useState("nitrate");

    const nitrateData = [
      { date: "Oct 1",  nitrate: 7.5, wc: false, thrive: 4,  excel: 1.5 },
      { date: "Oct 2",  nitrate: 7.5, wc: false, thrive: 4,  excel: 0 },
      { date: "Oct 3",  nitrate: 20,  wc: false, thrive: 0,  excel: 0 },
      { date: "Oct 6",  nitrate: 20,  wc: true,  thrive: 0,  excel: 2 },
      { date: "Oct 7",  nitrate: null, wc: false, thrive: 0,  excel: 1.5 },
      { date: "Oct 8",  nitrate: null, wc: false, thrive: 4,  excel: 0 },
      { date: "Oct 9",  nitrate: 7.5, wc: false, thrive: 4,  excel: 0 },
      { date: "Oct 10", nitrate: 10,  wc: true,  thrive: 0,  excel: 0 },
      { date: "Oct 14", nitrate: 7.5, wc: false, thrive: 4,  excel: 0 },
      { date: "Oct 15", nitrate: 10,  wc: false, thrive: 0,  excel: 0 },
      { date: "Oct 16", nitrate: 12,  wc: false, thrive: 0,  excel: 0 },
      { date: "Oct 22", nitrate: 5,   wc: false, thrive: 4,  excel: 0.5 },
      { date: "Oct 23", nitrate: 5,   wc: false, thrive: 4,  excel: 1.5 },
      { date: "Oct 26", nitrate: 20,  wc: true,  thrive: 0,  excel: 1.5 },
      { date: "Oct 27", nitrate: 5,   wc: false, thrive: 0,  excel: 1.5 }
    ];

    const dosingData = [
      { week: "Oct 1–6",   thrive: 8,  excel: 3.5 },
      { week: "Oct 7–10",  thrive: 8,  excel: 1.5 },
      { week: "Oct 14–16", thrive: 4,  excel: 0   },
      { week: "Oct 22–26", thrive: 8,  excel: 3.5 }
    ];

    const CustomDot = (props) => {
      const { cx, cy, payload } = props;
      if (payload.nitrate == null) return null;
      const isWC = !!payload.wc;
      return (
        <g>
          <circle cx={cx} cy={cy} r={isWC ? 7 : 5} fill={isWC ? "#f59e0b" : "#3b82f6"} stroke="#fff" strokeWidth="2" />
        </g>
      );
    };

    const useMatchMedia = (query) => {
      const getMatch = () => {
        if (typeof window === "undefined" || typeof window.matchMedia !== "function") {
          return false;
        }
        return window.matchMedia(query).matches;
      };

      const [matches, setMatches] = React.useState(getMatch);

      React.useEffect(() => {
        if (typeof window === "undefined" || typeof window.matchMedia !== "function") {
          return;
        }
        const mql = window.matchMedia(query);
        const handler = (event) => setMatches(event.matches);
        handler(mql);

        if (typeof mql.addEventListener === "function") {
          mql.addEventListener("change", handler);
          return () => mql.removeEventListener("change", handler);
        }

        if (typeof mql.addListener === "function") {
          mql.addListener(handler);
          return () => mql.removeListener(handler);
        }
      }, [query]);

      return matches;
    };

    const isNarrow = useMatchMedia("(max-width: 540px)");
    const isVeryNarrow = useMatchMedia("(max-width: 420px)");

    const axisTickStyle = { fontSize: 12, fill: "#BFD0E5" };
    const xTickAngle = isNarrow ? -32 : 0;
    const xTickAnchor = isNarrow ? "end" : "middle";
    const xTickDy = isNarrow ? 22 : 12;
    const xTickMargin = isNarrow ? 18 : 8;
    const xTickInterval = isVeryNarrow ? "preserveStartEnd" : 0;
    const xTickHeight = isNarrow ? 62 : 40;

    const barTickAngle = isNarrow ? -28 : 0;
    const barTickHeight = isNarrow ? 60 : 36;
    const barTickDy = isNarrow ? 18 : 12;
    const barTickMargin = isNarrow ? 16 : 8;
    const barTickInterval = isVeryNarrow ? "preserveStartEnd" : 0;

    const chartMargins = React.useMemo(() => (
      isNarrow
        ? { top: 16, right: 20, left: 20, bottom: 56 }
        : { top: 16, right: 28, left: 28, bottom: 40 }
    ), [isNarrow]);

    const barChartMargins = React.useMemo(() => (
      isNarrow
        ? { top: 16, right: 16, left: 16, bottom: 52 }
        : { top: 18, right: 28, left: 28, bottom: 36 }
    ), [isNarrow]);

    return (
      <div className="dash-wrap">
        <h1 className="title">29G Aquarium Dashboard</h1>
        <div className="sub">September 29 – October 27, 2025</div>

        <div className="section" style={{display:"flex", gap:8, flexWrap:"wrap", marginTop:16}}>
          {["nitrate","dosing","maintenance"].map(key => (
            <button
              key={key}
              onClick={() => setTab(key)}
              style={{
                borderRadius: 9999,
                padding: "10px 16px",
                border: "1px solid rgba(255,255,255,0.12)",
                background: tab===key ? "rgba(59,130,246,.18)" : "rgba(255,255,255,0.04)",
                color: "#E6EEF8",
                fontWeight: 600
              }}
            >
              {key==="nitrate" ? "Nitrate" : key==="dosing" ? "Dosing" : "Maintenance"}
            </button>
          ))}
        </div>

        {tab === "nitrate" && (
          <div className="section chart-card">
            <div className="legend-row">
              <span><span className="dot" style={{background:"#3b82f6"}}></span> Nitrate (ppm)</span>
              <span><span className="dot" style={{background:"#f59e0b"}}></span> Water-change day</span>
            </div>
            <div className="chart-h440 chart-shell">
              <ResponsiveContainer width="100%" height="100%">
                <LineChart data={nitrateData} margin={chartMargins}>
                  <CartesianGrid strokeDasharray="2 6" stroke="rgba(191,208,229,.28)" vertical />
                  <XAxis
                    dataKey="date"
                    tick={{ ...axisTickStyle, textAnchor: xTickAnchor }}
                    angle={xTickAngle}
                    height={xTickHeight}
                    dy={xTickDy}
                    tickMargin={xTickMargin}
                    interval={xTickInterval}
                    allowDuplicatedCategory={false}
                    scale="point"
                  />
                  <YAxis
                    tick={axisTickStyle}
                    width={40}
                    domain={[0, 25]}
                    label={{ value: "ppm", angle: -90, position: "insideLeft", fill:"#BFD0E5", fontSize:12 }}
                  />
                  <Tooltip
                    contentStyle={{ background:"rgba(7,24,39,.92)", border:"1px solid rgba(191,208,229,.2)", color:"#E6EEF8" }}
                    cursor={{ stroke: "rgba(56,189,248,0.7)", strokeWidth: 1.2, strokeDasharray: "3 3" }}
                  />
                  <ReferenceLine y={20} stroke="#fbbf24" strokeDasharray="5 5" />
                  <Line type="monotone" dataKey="nitrate" stroke="#60a5fa" strokeWidth={3} dot={<CustomDot />} connectNulls />
                </LineChart>
              </ResponsiveContainer>
            </div>
          </div>
        )}

        {tab === "dosing" && (
          <div className="section chart-card">
            <div className="legend-row">
              <span><span className="dot" style={{background:"#10b981"}}></span> Thrive Plus (pumps)</span>
              <span><span className="dot" style={{background:"#8b5cf6"}}></span> Excel (capfuls)</span>
            </div>
            <div className="chart-h440 chart-shell">
              <ResponsiveContainer width="100%" height="100%">
                <BarChart data={dosingData} margin={barChartMargins}>
                  <CartesianGrid strokeDasharray="2 6" stroke="rgba(191,208,229,.28)" vertical />
                  <XAxis
                    dataKey="week"
                    tick={{ ...axisTickStyle, textAnchor: xTickAnchor }}
                    angle={barTickAngle}
                    height={barTickHeight}
                    dy={barTickDy}
                    tickMargin={barTickMargin}
                    interval={barTickInterval}
                    scale="band"
                  />
                  <YAxis tick={axisTickStyle} width={44} />
                  <Tooltip contentStyle={{ background:"rgba(7,24,39,.92)", border:"1px solid rgba(191,208,229,.2)", color:"#E6EEF8" }}/>
                  <Bar dataKey="thrive" fill="#10b981" radius={[8,8,0,0]} maxBarSize={48} />
                  <Bar dataKey="excel"  fill="#8b5cf6" radius={[8,8,0,0]} maxBarSize={48} />
                </BarChart>
              </ResponsiveContainer>
            </div>
          </div>
        )}

        {tab === "maintenance" && (
          <div className="section chart-card" style={{color:"#DDE8F6"}}>
            <h3 style={{margin:"8px 0 12px", fontWeight:700}}>Maintenance Timeline</h3>
            <ul style={{lineHeight:1.7, color:"#BFD0E5"}}>
              <li>Oct 06 — Major WC (95% sump / 80% display), major trim</li>
              <li>Oct 10 — WC + Filter (90% sump / 80% display)</li>
              <li>Oct 26 — WC + Trim (90% sump / 75% display), glass clean</li>
            </ul>
          </div>
        )}
      </div>
    );
  }

  const root = ReactDOM.createRoot(document.getElementById("root"));
  root.render(<AquariumDashboard />);
  </script>
</body>
</html>
