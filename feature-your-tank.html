<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:image" content="https://thetankguide.com/assets/img/logos/logo-1200x630.png" />
  <meta name="twitter:image:alt" content="FishKeepingLifeCo logo (1200√ó630)." />
  <meta property="og:image" content="https://thetankguide.com/assets/img/logos/logo-1200x630.png" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property="og:image:alt" content="FishKeepingLifeCo logo (1200√ó630)." />
  <meta property="og:type" content="website" />
  <link rel="preload" href="/footer.html?v=1.5.2" as="fetch" crossorigin="anonymous">
  <meta charset="UTF-8" />
  <meta property="og:site_name" content="The Tank Guide" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Feature Your Tank ‚Äî The Tank Guide</title>
  <meta name="description" content="Submit your aquarium‚Äôs Quick Facts to be featured on The Tank Guide: size, stock, substrate, filtration, lighting, and more." />
  <meta name="robots" content="index,follow" />
  <meta property="og:title" content="Feature Your Tank ‚Äî The Tank Guide" />
  <meta property="og:description" content="Submit your aquarium‚Äôs Quick Facts to be featured on The Tank Guide: size, stock, substrate, filtration, lighting, and more." />
  <meta property="og:url" content="https://thetankguide.com/feature-your-tank.html" />
  <meta name="twitter:title" content="Feature Your Tank ‚Äî The Tank Guide" />
  <meta name="twitter:description" content="Submit your aquarium‚Äôs Quick Facts to be featured on The Tank Guide: size, stock, substrate, filtration, lighting, and more." />
  <meta name="twitter:url" content="https://thetankguide.com/feature-your-tank.html" />
  <link rel="canonical" href="https://thetankguide.com/feature-your-tank.html">
  <link rel="preconnect" href="https://pagead2.googlesyndication.com">
  <link rel="preconnect" href="https://fundingchoicesmessages.google.com">
  <link rel="preconnect" href="https://static.cloudflareinsights.com">
  <link rel="preconnect" href="https://widget.cloudinary.com">
  <link rel="stylesheet" href="css/style.css?v=1.0.10" />
  <script defer src="js/nav.js?v=1.1.0"></script>
  <!-- Consent Mode defaults (load FIRST) -->
  <script src="/assets/js/consent-mode.js" defer></script>
  <!-- Google tag (gtag.js) ‚Äî GA4 -->
  <!--#include virtual="/includes/ga4.html" -->

  <!-- AdSense loader (keep one global instance only) -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9905718149811880"
    crossorigin="anonymous"></script>
  <!-- Cloudflare Web Analytics -->
  <script defer src="https://static.cloudflareinsights.com/beacon.min.js"
    data-cf-beacon='{"token": "fef22cbf19e3473db5ec987a8f3bf4f3"}'></script>
  <!-- End Cloudflare Web Analytics -->
  <!-- --- Google CMP (Funding Choices) START --- -->
  <script async src="https://fundingchoicesmessages.google.com/i/pub-9905718149811880?ers=1"></script>
  <script>
    // Required bootstrap per Google; signals CMP presence
    (function() {
      function signalGooglefcPresent() {
        if (!window.frames['googlefcPresent']) {
          if (document.body) {
            const iframe = document.createElement('iframe');
            iframe.style.cssText = 'display:none';
            iframe.name = 'googlefcPresent';
            document.body.appendChild(iframe);
          } else {
            setTimeout(signalGooglefcPresent, 0);
          }
        }
      }
      signalGooglefcPresent();
    })();
  </script>
  <script>
    // IAB TCF v2.2 stub to allow __tcfapi interactions
    (function() {
      var TCF_LOCATOR_NAME = '__tcfapiLocator';
      var queue = [];
      var win = window;
      var cmpFrame;

      function addFrame() {
        if (!win.frames[TCF_LOCATOR_NAME]) {
          if (document.body) {
            cmpFrame = document.createElement('iframe');
            cmpFrame.style.cssText = 'display:none';
            cmpFrame.name = TCF_LOCATOR_NAME;
            document.body.appendChild(cmpFrame);
          } else {
            setTimeout(addFrame, 5);
          }
        }
      }

      function tcfAPIHandler() {
        var gdprApplies;
        var args = arguments;

        if (!args.length) {
          return queue;
        }

        if (args[0] === 'setGdprApplies') {
          gdprApplies = args[1];
          if (typeof args[2] === 'function') {
            args[2]('set', true);
          }
        } else if (args[0] === 'ping') {
          var retr = {
            gdprApplies: gdprApplies,
            cmpLoaded: false,
            cmpStatus: 'stub'
          };
          if (typeof args[2] === 'function') {
            args[2](retr);
          }
        } else {
          queue.push(args);
        }
      }

      function postMessageEventHandler(event) {
        var msgIsString = typeof event.data === 'string';
        var json = {};

        try {
          json = msgIsString ? JSON.parse(event.data) : event.data;
        } catch (ignore) {}

        var payload = json.__tcfapiCall;

        if (payload) {
          window.__tcfapi(payload.command, payload.version, function(retValue, success) {
            var returnMsg = {
              __tcfapiReturn: {
                returnValue: retValue,
                success: success,
                callId: payload.callId
              }
            };
            if (msgIsString) {
              returnMsg = JSON.stringify(returnMsg);
            }
            event.source.postMessage(returnMsg, '*');
          }, payload.parameter);
        }
      }

      addFrame();
      win.__tcfapi = tcfAPIHandler;
      win.addEventListener('message', postMessageEventHandler, false);
    })();
  </script>
  <script defer src="/assets/js/ttg-cmp-consent-bridge.js"></script>
  <!-- --- Google CMP (Funding Choices) END --- -->
</head>
<body class="page-gradient">
  <a href="#feature-main" class="skip-link">Skip to main content</a>
  <div id="site-nav"></div>

  <main class="feature-main" id="feature-main">
    <section class="panel" aria-labelledby="feature-tank-title">
      <h1 id="feature-tank-title">Feature Your Tank ‚Äî Quick Facts</h1>
      <div class="divider" aria-hidden="true"></div>
      <p class="tiny" style="opacity:.9;">
        Want your setup featured on <strong>The Tank Guide</strong>? Fill out the Quick Facts below.
        We‚Äôll review submissions and reach out if selected.<br>
        <em>Features are only accepted through this website form.</em>
      </p>

      <section id="feature-tank-form" class="ft-wrap" aria-labelledby="ft-title">
        <h2 id="ft-title" class="ft-title">Feature Your Tank</h2>

        <form id="featureForm" action="https://formspree.io/f/xnngnwld" method="POST" novalidate>
          <!-- ===== BASICS (keep minimal) ===== -->
          <div class="grid-2">
            <div class="ft-field">
              <label for="name" class="ft-label">Name</label>
              <input id="name" name="name" type="text" class="ft-input" placeholder="Your name" required />
            </div>
            <div class="ft-field">
              <label for="email" class="ft-label">Email</label>
              <input id="email" name="email" type="email" class="ft-input" placeholder="you@example.com" required />
            </div>
          </div>

          <!-- ===== ELIGIBILITY NOTICE ===== -->
          <aside class="eligibility-note" aria-labelledby="eligibility-heading" role="note">
            <h2 id="eligibility-heading">Eligibility</h2>
            <ul>
              <li>You must be subscribed to our <strong>YouTube channel (@FishKeepingLifeCo)</strong> AND follow at least one other social (Instagram or TikTok).</li>
              <li>Provide your actual account handle(s) so we can verify before approval.</li>
              <li>If selected, post a story or short mention announcing your upcoming feature and <strong>tag @FishKeepingLifeCo</strong>. We‚Äôll provide official hashtags to include.</li>
              <li>When your feature goes live, we‚Äôll add it to our website and socials. You agree to let us tag you and keep handles taggable/visible.</li>
            </ul>
          </aside>

          <!-- ===== SOCIALS (YouTube + one other required) ===== -->
          <div id="socials-block" class="channel-wrap">
            <label class="channel-title">Social Media (YouTube + one other required)</label>

            <!-- Row 1 (REQUIRED) -->
            <div class="channel-row" data-row="1">
              <select class="channel-select" aria-label="Platform (required)">
                <option value="YouTube" selected>YouTube</option>
                <option value="Instagram">Instagram</option>
                <option value="TikTok">TikTok</option>
                <option value="Facebook">Facebook</option>
                <option value="Other">Other</option>
              </select>
              <input class="channel-handle" type="text" inputmode="text"
                     placeholder="e.g., @YourChannel or full URL"
                     aria-label="Handle or URL (required)" required>
            </div>

            <!-- Row 2 (OPTIONAL) -->
            <div class="channel-row" data-row="2">
              <select class="channel-select" aria-label="Platform (optional)">
                <option value="" selected disabled>Choose platform (optional)</option>
                <option value="YouTube">YouTube</option>
                <option value="Instagram">Instagram</option>
                <option value="TikTok">TikTok</option>
                <option value="Facebook">Facebook</option>
                <option value="Other">Other</option>
              </select>
              <input class="channel-handle" type="text" inputmode="text"
                     placeholder="e.g., @YourHandle or full URL"
                     aria-label="Handle or URL (optional)">
            </div>

            <!-- Row 3 (OPTIONAL) -->
            <div class="channel-row" data-row="3">
              <select class="channel-select" aria-label="Platform (optional)">
                <option value="" selected disabled>Choose platform (optional)</option>
                <option value="YouTube">YouTube</option>
                <option value="Instagram">Instagram</option>
                <option value="TikTok">TikTok</option>
                <option value="Facebook">Facebook</option>
                <option value="Other">Other</option>
              </select>
              <input class="channel-handle" type="text" inputmode="text"
                     placeholder="e.g., @YourHandle or full URL"
                     aria-label="Handle or URL (optional)">
            </div>

            <small class="field-note">
              Paste a full profile URL or just your handle. We‚Äôll normalize it. Eligibility requires <strong>YouTube + Instagram or TikTok</strong>.
            </small>

            <!-- Hidden structured payload for Formspree -->
            <input type="hidden" name="socials_structured" id="socialsStructured" value="">
          </div>

          <!-- ===== TANK BASICS (condensed) ===== -->
          <div class="grid-3">
            <div class="ft-field">
              <label for="tank_size" class="ft-label">Tank Size</label>
              <input id="tank_size" name="tank_size" type="text" class="ft-input" placeholder="e.g., 29G" />
            </div>
            <div class="ft-field">
              <label for="planted" class="ft-label">Planted?</label>
              <select id="planted" name="planted" class="ft-input">
                <option value="Yes">Yes</option>
                <option value="No">No</option>
                <option value="Low-tech">Low-tech</option>
                <option value="High-tech">High-tech</option>
              </select>
            </div>
            <div class="ft-field">
              <label for="filtration" class="ft-label">Filtration</label>
              <input id="filtration" name="filtration" type="text" class="ft-input" placeholder="e.g., canister + sponge" />
            </div>
          </div>

          <div class="ft-field">
            <label for="livestock" class="ft-label">Livestock & Cleanup Crew</label>
            <textarea id="livestock" name="livestock" class="ft-input" rows="3" placeholder="List your fish, inverts, and cleanup crew‚Ä¶"></textarea>
          </div>

          <div class="ft-field">
            <label for="notes" class="ft-label">Other Notes (optional)</label>
            <textarea id="notes" name="notes" class="ft-input" rows="3" placeholder="What you love, what you‚Äôd improve, anything we should know‚Ä¶"></textarea>
          </div>

          <!-- ===== DIRECT UPLOADS ‚Äî Cloudinary ===== -->
          <div id="media-upload-block" class="upload-card" aria-labelledby="upload-title">
            <div class="upload-head">
              <h3 id="upload-title">Upload Photos / Videos</h3>
              <p class="muted">Attach images or short clips from your device. Files are hosted securely via Cloudinary.</p>
            </div>

            <div class="upload-actions">
              <button type="button" id="openUploader" class="btn-primary">+ Add Photos/Videos</button>
              <button type="button" id="clearUploads" class="btn-ghost">Clear</button>
            </div>

            <!-- Hidden fields sent to Formspree -->
            <input type="hidden" name="media_urls" id="mediaUrls" value="" />
            <input type="hidden" name="media_playable_urls" id="mediaPlayableUrls" value="" />
            <input type="hidden" name="media_preview_urls" id="mediaPreviewUrls" value="" />

            <!-- Optional: show users the originals list -->
            <label for="mediaUrlsReadonly" class="sr-only">Uploaded URLs</label>
            <textarea id="mediaUrlsReadonly" class="urls-readonly ft-input" rows="3" readonly
              placeholder="No files uploaded yet."></textarea>

            <!-- Preview grid -->
            <div id="uploadPreview" class="upload-preview" aria-live="polite"></div>

            <div class="ft-help small">Max 10 files, up to ~80 MB each. Allowed: jpg, jpeg, png, webp, heic, mp4, mov.</div>
          </div>

          <!-- ===== CONSENT ===== -->
          <div class="consent-row">
            <input type="checkbox" id="ownMedia" name="own_media" value="yes" class="consent-checkbox" aria-describedby="consent-help" />
            <label for="ownMedia" class="consent-label">
              I confirm I own these photos/videos and give <strong>The Tank Guide</strong> permission to showcase them (with credit).
            </label>
          </div>
          <p id="consent-help" class="consent-help">
            Tick this box to enable submission and let us share your media with credit.
          </p>
          <div class="consent-row">
            <input type="checkbox" id="feature-permission-contact" name="permission_contact" value="yes" class="consent-checkbox" aria-describedby="feature-contact-help" required />
            <label for="feature-permission-contact" class="consent-label">
              I consent to being contacted about this tank submission. <strong>(Required)</strong>
            </label>
          </div>
          <p id="feature-contact-help" class="consent-help">
            We‚Äôll only use your email to follow up about this feature or ask clarifying questions.
          </p>
          <div class="consent-row">
            <input type="checkbox" id="feature-permission-newsletter" name="permission_newsletter" value="yes" class="consent-checkbox" aria-describedby="feature-newsletter-help" />
            <label for="feature-permission-newsletter" class="consent-label">
              Yes, I‚Äôd like occasional email updates about new guides, tools, and books from FishKeepingLifeCo &amp; The Tank Guide.
            </label>
          </div>
          <p id="feature-newsletter-help" class="consent-help">
            No spam ‚Äî just important updates. You can unsubscribe anytime.
          </p>

          <!-- ===== SUBMIT ===== -->
          <button type="submit" id="submitBtn" class="btn-primary" disabled aria-disabled="true">Submit Tank</button>
        </form>

        <!-- Inline thank-you message -->
        <div id="thankYou" style="display:none; margin-top:1rem; color:#10b981; font-weight:600;">
          ‚úÖ Thanks! Your submission has been sent. We‚Äôll review and contact you if selected.
        </div>
        <div id="errorMessage" role="alert" style="display:none; margin-top:0.75rem; color:#f87171; font-weight:600;"></div>
      </section>

      <!-- Cloudinary Upload Widget -->
      <script src="https://widget.cloudinary.com/v2.0/global/all.js" defer></script>

      <script>
      document.addEventListener('DOMContentLoaded', function() {
        // ======= Config (Cloudinary + limits) =======
        const CLOUD_NAME = 'fishkeepinglifeco';
        const UPLOAD_PRESET = 'ttg_unsigned';
        const UPLOAD_FOLDER = 'feature-tanks';
        const MAX_FILES = 10;
        const MAX_SIZE_BYTES = 80 * 1024 * 1024; // 80 MB

        // ======= Elements =======
        const form = document.getElementById('featureForm');
        const thankYou = document.getElementById('thankYou');
        const submitBtn = document.getElementById('submitBtn');
        const consent = document.getElementById('ownMedia');

        const socialsBlock = document.getElementById('socials-block');
        const socialsStructured = document.getElementById('socialsStructured');

        const openUploaderBtn = document.getElementById('openUploader');
        const clearUploadsBtn = document.getElementById('clearUploads');
        const preview = document.getElementById('uploadPreview');
        const urlsHidden = document.getElementById('mediaUrls');
        const playableHidden = document.getElementById('mediaPlayableUrls');
        const previewsHidden = document.getElementById('mediaPreviewUrls');
        const urlsReadonly = document.getElementById('mediaUrlsReadonly');
        const errorBox = document.getElementById('errorMessage');
        const contactConsent = document.getElementById('feature-permission-contact');

        if (!form || !submitBtn || !consent || !contactConsent) {
          return;
        }

        // ======= State =======
        let uploaded = [];   // originals (secure_url)
        let playable = [];   // safe-to-play links
        let previews = [];   // thumbnails/posters
        let uploadsInFlight = 0;
        let uploaderReady = false;

        function markUploaderReady() {
          if (window.cloudinary && typeof cloudinary.createUploadWidget === 'function') {
            uploaderReady = true;
            return true;
          }
          console.error('Cloudinary uploader is not available yet.');
          return false;
        }

        markUploaderReady();
        window.addEventListener('load', markUploaderReady);

        // ======= Helpers: Socials =======
        function normHandle(val){
          if (!val) return '';
          let v = ('' + val).trim();
          v = v.replace(/\s+/g, '');
          if (/^https?:\/\//i.test(v)) return v;
          v = v.replace(/^@+/, '').replace(/\/+$/, '');
          return v;
        }
        function canonicalSocial(platform, value){
          if (!platform || !value) return { handle: '', url: '' };
          let handle = value;
          let urlValue = value;
          if (/^https?:\/\//i.test(value)){
            try {
              const parsed = new URL(value);
              const segments = parsed.pathname.split('/').filter(Boolean);
              if (platform === 'Instagram'){
                handle = segments[0] ? segments[0].replace(/^@+/, '') : '';
              } else if (platform === 'TikTok'){
                const last = segments.pop() || '';
                handle = last.replace(/^@+/, '');
              } else if (platform === 'YouTube'){
                const last = segments.pop() || '';
                handle = last.replace(/^@+/, '');
              } else if (platform === 'Facebook'){
                handle = segments[0] || '';
              }
            } catch (err) {
              handle = value.replace(/^@+/, '').replace(/\/+$/, '');
            }
          }
          handle = (handle || '').replace(/^@+/, '').replace(/\/+$/, '');
          let url = '';
          if (handle){
            if (platform === 'Instagram'){
              url = `https://www.instagram.com/${handle}/`;
            } else if (platform === 'TikTok'){
              url = `https://www.tiktok.com/@${handle}`;
            } else if (platform === 'YouTube'){
              url = `https://www.youtube.com/@${handle}`;
            } else if (platform === 'Facebook'){
              url = `https://www.facebook.com/${handle}`;
            }
          }
          if (!url){
            url = urlValue;
          }
          return { handle, url };
        }
        function collectSocials(){
          const rows = socialsBlock.querySelectorAll('.channel-row');
          const items = [];
          rows.forEach((row) => {
            const sel = row.querySelector('.channel-select');
            const inp = row.querySelector('.channel-handle');
            const platform = (sel && sel.value) ? sel.value : '';
            const raw = (inp && inp.value) ? inp.value : '';
            const rawHandle = normHandle(raw);
            if (platform && rawHandle){
              const { handle, url } = canonicalSocial(platform, rawHandle);
              if (handle && url){
                items.push({ platform, handle, url });
              }
            }
          });
          return items;
        }
        function hasPlatform(list, name){
          return list.some((i) => i.platform === name);
        }
        function validateSocials(){
          const firstRow = socialsBlock.querySelector('[data-row="1"]');
          const sel1 = firstRow.querySelector('.channel-select');
          const inp1 = firstRow.querySelector('.channel-handle');
          if (!sel1.value || !inp1.value.trim()){
            alert('Please provide at least one profile ‚Äî the first row is required.');
            inp1.focus();
            return false;
          }
          const items = collectSocials();
          if (items.length === 0){
            alert('Please provide at least one profile handle.');
            inp1.focus();
            return false;
          }
          const hasYT = hasPlatform(items, 'YouTube');
          const hasIGorTT = hasPlatform(items, 'Instagram') || hasPlatform(items, 'TikTok');
          if (!hasYT || !hasIGorTT){
            alert('Eligibility requires YouTube plus at least one of Instagram or TikTok.');
            return false;
          }
          socialsStructured.value = JSON.stringify(items);
          return true;
        }

        // ======= Helpers: Uploads =======
        function setSubmitEnabled(enabled) {
          submitBtn.disabled = !enabled;
          submitBtn.setAttribute('aria-disabled', String(!enabled));
        }
        function syncSubmitAvailability() {
          // Submit allowed only when: consent checked and uploads finished
          const canSubmit = consent.checked && contactConsent.checked && uploadsInFlight === 0;
          setSubmitEnabled(canSubmit);
        }
        function isVideoUrl(url) {
          // Cloudinary videos come from /video/upload/, but extensions can vary
          return /\/video\/upload\//.test(url) || /\.(mp4|mov|m4v)(\?|$)/i.test(url);
        }
        function makePreviewUrl(url) {
          // A small, square jpg/webp; for video, pg_1 grabs the first frame
          return url.replace('/upload/', '/upload/pg_1,c_fill,w_600,h_600,q_auto,f_auto/');
        }
        function makePlayableUrl(url) {
          // For videos: force MP4/H.264 + AAC; for images: deliver f_auto
          if (isVideoUrl(url)) {
            return url.replace('/upload/', '/upload/f_mp4,vc_h264,ac_aac/');
          }
          return url.replace('/upload/', '/upload/q_auto,f_auto/');
        }
        function renderPreviews() {
          preview.innerHTML = '';
          uploaded.forEach((u, i) => {
            const div = document.createElement('div');
            div.className = 'thumb';
            const p = previews[i] || makePreviewUrl(u);
            const img = document.createElement('img');
            img.src = p;
            img.alt = isVideoUrl(u) ? 'Video preview' : 'Image preview';
            div.appendChild(img);
            if (isVideoUrl(u)) {
              const badge = document.createElement('span');
              badge.className = 'badge';
              badge.textContent = 'Video';
              div.appendChild(badge);
            }
            preview.appendChild(div);
          });
          urlsHidden.value = uploaded.join(',');
          playableHidden.value = playable.join(',');
          previewsHidden.value = previews.join(',');
          urlsReadonly.value = uploaded.join('\n');
        }
        function lockSubmitWhileUploading(lock) {
          uploadsInFlight += lock ? 1 : -1;
          if (uploadsInFlight < 0) uploadsInFlight = 0;
          syncSubmitAvailability();
        }
        function openWidget() {
          if (!uploaderReady && !markUploaderReady()) {
            if (errorBox) {
              errorBox.textContent = 'Uploader not ready yet. Please wait a moment and try again.';
              errorBox.style.display = 'block';
            } else {
              alert('Uploader not ready yet. Please wait a moment and try again.');
            }
            return;
          }
          const widget = cloudinary.createUploadWidget({
            cloudName: CLOUD_NAME,
            uploadPreset: UPLOAD_PRESET,
            multiple: true,
            maxFiles: MAX_FILES,
            // Allow both generic types and explicit extensions (some devices report generically)
            clientAllowedFormats: ['image','video','jpg','jpeg','png','webp','heic','mp4','mov'],
            maxFileSize: MAX_SIZE_BYTES,
            resourceType: 'auto',
            cropping: false,
            folder: UPLOAD_FOLDER,
            sources: ['local', 'camera', 'url'],
            showPoweredBy: false
          }, (error, result) => {
            if (result && result.event === 'queues-start') {
              lockSubmitWhileUploading(true);
            }
            if (result && result.event === 'success') {
              const info = result.info || {};
              const url = info && info.secure_url ? info.secure_url : null;
              if (url) {
                if (uploaded.length >= MAX_FILES) {
                  alert(`You can upload up to ${MAX_FILES} files per submission.`);
                } else {
                  uploaded.push(url);
                  playable.push(makePlayableUrl(url));
                  previews.push(makePreviewUrl(url));
                  renderPreviews();
                }
              }
            }
            if (result && (result.event === 'queues-end' || result.event === 'close')) {
              lockSubmitWhileUploading(false);
            }
            if (error) {
              console.error('Cloudinary widget error:', error);
              const code = (error && (error.statusText || error.message || error.http_code)) || 'unknown';
              if (/max file size/i.test(code) || error.http_code === 400) {
                alert('Your video is too large. Please keep files at or under ~80 MB.');
              } else if (/invalid format/i.test(code)) {
                alert('Unsupported format. Allowed: jpg, jpeg, png, webp, heic, mp4, mov.');
              } else {
                alert('There was a problem uploading. Please try again.');
              }
              lockSubmitWhileUploading(false);
            }
          });
          widget.open();
        }

        // ======= Wire events =======
        consent.addEventListener('change', syncSubmitAvailability);
        contactConsent.addEventListener('change', syncSubmitAvailability);
        if (openUploaderBtn) openUploaderBtn.addEventListener('click', openWidget);
        if (clearUploadsBtn) clearUploadsBtn.addEventListener('click', function() {
          uploaded = []; playable = []; previews = [];
          renderPreviews();
          syncSubmitAvailability();
        });

        // Initial state
        syncSubmitAvailability();

        // ======= AJAX Submit to Formspree (no redirect) =======
        form.addEventListener('submit', async function(e) {
          // Validate channel entries first
          if (!validateSocials()){
            e.preventDefault();
            e.stopImmediatePropagation();
            return false;
          }
          // Gate on consent + uploads
          if (!consent.checked || !contactConsent.checked || uploadsInFlight > 0) {
            e.preventDefault();
            if (!consent.checked) alert('Please confirm you own the media and grant permission.');
            if (!contactConsent.checked) alert('Please allow us to email you back about this submission.');
            if (uploadsInFlight > 0) alert('Please wait for uploads to finish.');
            return false;
          }

          e.preventDefault();
          setSubmitEnabled(false);
          thankYou.style.display = 'none';
          if (errorBox) {
            errorBox.style.display = 'none';
            errorBox.textContent = '';
          }

          try {
            const data = new FormData(form);
            const resp = await fetch(form.action, {
              method: 'POST',
              body: data,
              headers: { 'Accept': 'application/json' }
            });

            if (resp.ok) {
              form.reset();
              uploaded = []; playable = []; previews = [];
              renderPreviews();
              thankYou.style.display = 'block';
              if (errorBox) {
                errorBox.style.display = 'none';
              }
            } else {
              if (errorBox) {
                errorBox.textContent = 'There was a problem sending your submission. Please try again.';
                errorBox.style.display = 'block';
              } else {
                alert('‚ùå There was a problem sending your submission. Please try again.');
              }
            }
          } catch (err) {
            console.error(err);
            if (errorBox) {
              errorBox.textContent = 'Network error. Please try again.';
              errorBox.style.display = 'block';
            } else {
              alert('‚ùå Network error. Please try again.');
            }
          } finally {
            syncSubmitAvailability();
          }
        });

      });
      </script>
      <p class="tiny" style="margin-top:12px;opacity:.75;">
        üìå Features are <strong>only</strong> accepted through this website. We don‚Äôt take submissions via YouTube comments or social DMs.
      </p>

      <section class="feature-faq" aria-labelledby="feature-faq-heading">
        <h2 id="feature-faq-heading">Feature Your Tank ‚Äî FAQ</h2>
        <!-- TODO: Populate common questions & answers about the submission process. -->
      </section>
    </section>
    <div class="ttg-ad-slot" aria-label="Advertisement" id="ad-feature-your-tank-bottom" data-ad-label="TTG_FeatureYourTank_Bottom ‚Ä¢ Slot 7540927750">
      <!-- TTG_FeatureYourTank_Bottom -->
      <ins class="adsbygoogle"
           style="display:block"
           data-ad-client="ca-pub-9905718149811880"
           data-ad-slot="7540927750"
           data-ad-format="auto"
           data-full-width-responsive="true"></ins>
      <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
    </div>
  </main>
<script>
  (function() {
    var QA_MODE = false;
    var body = document.body;
    if (QA_MODE && body) {
      body.setAttribute('data-ad-qa', 'true');
    }

    var slots = document.querySelectorAll('.ttg-ad-slot');
    if (!slots.length) {
      return;
    }

    var evaluateSlot = function(slot, ins) {
      if (!slot || !ins) return;
      var hasIframe = ins.querySelector('iframe');
      var height = ins.offsetHeight;
      if (hasIframe && height > 40) {
        slot.classList.remove('ttg-ad-slot--empty');
      } else {
        slot.classList.add('ttg-ad-slot--empty');
      }
    };

    slots.forEach(function(slot) {
      var ins = slot.querySelector('ins.adsbygoogle');
      if (!ins) {
        return;
      }

      var refresh = function() { evaluateSlot(slot, ins); };
      refresh();

      var observer = new MutationObserver(refresh);
      observer.observe(ins, { childList: true, subtree: true });

      window.addEventListener('load', function() {
        setTimeout(refresh, 1800);
      });

      window.addEventListener('ttg:consent-change', refresh);
    });
  })();
</script>

  <script src="/js/footer-loader.js?v=1.5.2" defer></script>
  <section class="legal-links" aria-label="Site legal links">
    <a href="/privacy-legal.html">Privacy Policy</a>
    <a href="/terms.html">Terms</a>
    <a href="/contact-feedback.html">Contact</a>
  </section>
  <noscript>
    <section class="legal-links" aria-label="Site legal links (noscript)">
      <a href="/privacy-legal.html">Privacy Policy</a>
      <a href="/terms.html">Terms</a>
      <a href="/contact-feedback.html">Contact</a>
    </section>
  </noscript>

<div id="site-footer" data-footer-src="/footer.html?v=1.5.2"></div>

  <!-- WebPage schema: Feature Your Tank submission hub -->
  <!-- TODO: Add FAQPage schema when FAQ content is published. -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@graph": [
      {
        "@type": "Organization",
        "@id": "https://thetankguide.com/#organization",
        "name": "FishKeepingLifeCo",
        "url": "https://thetankguide.com/",
        "logo": {
          "@type": "ImageObject",
          "url": "https://thetankguide.com/assets/img/logos/logo-1200x630.png",
          "width": 1200,
          "height": 630
        },
        "sameAs": [
          "https://x.com/FishKeepingLife",
          "https://www.instagram.com/FishKeepingLifeCo",
          "https://www.tiktok.com/@FishKeepingLifeCo",
          "https://www.facebook.com/fishkeepinglifeco",
          "https://www.youtube.com/@fishkeepinglifeco"
        ]
      },
      {
        "@type": "WebSite",
        "@id": "https://thetankguide.com/#website",
        "url": "https://thetankguide.com/",
        "name": "The Tank Guide",
        "publisher": { "@id": "https://thetankguide.com/#organization" },
        "potentialAction": {
          "@type": "SearchAction",
          "target": "https://thetankguide.com/?q={search_term_string}",
          "query-input": "required name=search_term_string"
        }
      },
      {
        "@type": "WebPage",
        "@id": "https://thetankguide.com/feature-your-tank.html#webpage",
        "url": "https://thetankguide.com/feature-your-tank.html",
        "name": "Feature Your Tank ‚Äî The Tank Guide",
        "description": "Submit your aquarium‚Äôs Quick Facts to be featured on The Tank Guide: size, stock, substrate, filtration, lighting, and more.",
        "isPartOf": { "@id": "https://thetankguide.com/#website" },
        "publisher": { "@id": "https://thetankguide.com/#organization" },
        "inLanguage": "en-US",
        "mainEntity": {
          "@type": "WebApplication",
          "name": "Feature Your Tank Submission Form",
          "applicationCategory": "ProductivityApplication",
          "url": "https://thetankguide.com/feature-your-tank.html#feature-tank-form",
          "description": "Secure form that gathers aquarium specs, livestock, and media uploads for editorial review."
        }
      },
      {
        "@type": "BreadcrumbList",
        "@id": "https://thetankguide.com/feature-your-tank.html#breadcrumb",
        "itemListElement": [
          { "@type": "ListItem", "position": 1, "name": "Home", "item": "https://thetankguide.com/" },
          { "@type": "ListItem", "position": 2, "name": "Feature Your Tank", "item": "https://thetankguide.com/feature-your-tank.html" }
        ]
      }
    ]
  }
  </script>
</body>
</html>
