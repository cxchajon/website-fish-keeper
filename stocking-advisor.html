<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="preload" href="/footer.html?v=1.5.2" as="fetch" crossorigin="anonymous">
  <meta charset="UTF-8" />
  <title>Aquarium Stocking Calculator: Fish Compatibility &amp; Bioload Tool</title>
  <meta name="description" content="Use our free aquarium stocking calculator to plan your freshwater tank. Check fish compatibility, estimate bioload, and get stocking ideas. From The Tank Guide." />
  <meta name="robots" content="index,follow" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#0a1020" />
  <link rel="manifest" href="/manifest.webmanifest" />
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/img/logos/favicon-16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/img/logos/favicon-32.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/img/Logo-Master-180x180.PNG">
  <link rel="apple-touch-icon" sizes="512x512" href="/assets/img/Logo-Master-512x512.PNG">

  <meta property="og:site_name" content="The Tank Guide" />
  
  <!--#include virtual="/includes/schema-organization.html" -->
  <link rel="canonical" href="https://thetankguide.com/stocking-advisor.html" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://thetankguide.com/stocking-advisor.html" />
  <meta property="og:title" content="Aquarium Stocking Calculator: Fish Compatibility &amp; Bioload Tool" />
  <meta property="og:description" content="Use our free aquarium stocking calculator to plan your freshwater tank. Check fish compatibility, estimate bioload, and get stocking ideas. From The Tank Guide." />
  <meta property="og:image" content="https://thetankguide.com/assets/img/Logo-Master-1200x630.PNG" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property="og:image:alt" content="The Tank Guide logo" />
  <meta property="og:locale" content="en_US" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@fishkeepinglife" />
  <meta name="twitter:creator" content="@fishkeepinglife" />
  <meta name="twitter:url" content="https://thetankguide.com/stocking-advisor.html" />
  <meta name="twitter:title" content="Aquarium Stocking Calculator: Fish Compatibility &amp; Bioload Tool" />
  <meta name="twitter:description" content="Use our free aquarium stocking calculator to plan your freshwater tank. Check fish compatibility, estimate bioload, and get stocking ideas. From The Tank Guide." />
  <meta name="twitter:image" content="https://thetankguide.com/assets/img/Logo-Master-1200x630.PNG" />
  <meta name="twitter:image:alt" content="The Tank Guide logo" />
  <link rel="stylesheet" href="/css/main.bundle.css?v=2025-11-07" />
  <link rel="stylesheet" href="/assets/css/utilities.css?v=2025-11-07" />
  <link rel="stylesheet" href="/css/ui.css?v=2024-09-15" />
  <link rel="stylesheet" href="/css/stocking-advisor.css?v=2025-10-31" />
  <style>
    /* PROTOTYPE ONLY — block any lingering legacy UI from appearing */
    .filtration-card,
    .filtration-summary,
    .filter-setup-legacy,
    .filter-rows,
    .filter-row,
    .add-another-filter,
    .total-flow,
    .turnover,
    #filtration-summary,
    [data-card="filtration-summary"],
    #filtration-trigger {
      display: none !important;
    }
  </style>
  <style>
    .prototype-stock-page .info-badge {
      position: relative;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      pointer-events: auto;
    }

    .proto-info-tooltip {
      position: absolute;
      max-width: 320px;
      padding: 12px 14px;
      border-radius: 10px;
      background: rgba(6, 12, 24, 0.96);
      border: 1px solid rgba(163, 200, 255, 0.32);
      color: rgba(238, 243, 255, 0.92);
      font-size: 0.88rem;
      line-height: 1.5;
      box-shadow: 0 18px 36px rgba(4, 10, 30, 0.4);
      z-index: 1100;
      pointer-events: auto;
    }

    .proto-info-tooltip[hidden] {
      display: none !important;
    }

    .proto-info-tooltip__body {
      margin: 0;
    }
  </style>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@graph": [
      {
        "@type": "ImageObject",
        "@id": "https://thetankguide.com/stocking-advisor.html#primaryimage",
        "url": "/assets/img/Logo-Master-1200x630.PNG",
        "width": 1200,
        "height": 630
      },
      {
        "@type": "WebPage",
        "@id": "https://thetankguide.com/stocking-advisor.html#webpage",
        "url": "https://thetankguide.com/stocking-advisor.html",
        "name": "Aquarium Stocking Calculator: Fish Compatibility & Bioload Tool",
        "description": "Use our free aquarium stocking calculator to plan your freshwater tank. Check fish compatibility, estimate bioload, and get stocking ideas. From The Tank Guide.",
        "inLanguage": "en-US",
        "isPartOf": {
          "@id": "https://thetankguide.com/#organization"
        },
        "primaryImageOfPage": {
          "@id": "https://thetankguide.com/stocking-advisor.html#primaryimage"
        },
        "mainEntityOfPage": {
          "@id": "https://thetankguide.com/stocking-advisor.html#webapp"
        },
        "dateModified": "2025-11-01T18:02:39Z",
        "publisher": {
          "@id": "https://thetankguide.com/#organization"
        },
        "author": {
          "@id": "https://thetankguide.com/#organization"
        }
      },
      {
        "@type": "WebApplication",
        "@id": "https://thetankguide.com/stocking-advisor.html#webapp",
        "name": "Stocking Advisor",
        "url": "https://thetankguide.com/stocking-advisor.html",
        "description": "An interactive aquarium stocking calculator to help freshwater hobbyists check fish compatibility and estimate bioload.",
        "applicationCategory": "LifestyleApplication",
        "operatingSystem": "Web",
        "image": {
          "@id": "https://thetankguide.com/stocking-advisor.html#primaryimage"
        },
        "author": {
          "@id": "https://thetankguide.com/#organization"
        },
        "publisher": {
          "@id": "https://thetankguide.com/#organization"
        }
      },
      {
        "@type": "BreadcrumbList",
        "@id": "https://thetankguide.com/stocking-advisor.html#breadcrumb",
        "itemListElement": [
          {
            "@type": "ListItem",
            "position": 1,
            "name": "Home",
            "item": "https://thetankguide.com/"
          },
          {
            "@type": "ListItem",
            "position": 2,
            "name": "Stocking Advisor",
            "item": "https://thetankguide.com/stocking-advisor.html"
          }
        ]
      },
      {
        "@type": "FAQPage",
        "@id": "https://thetankguide.com/stocking-advisor.html#faq",
        "mainEntity": [
          {
            "@type": "Question",
            "name": "What data powers the compatibility alerts?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Compatibility alerts use species behavior profiles, water chemistry needs, adult size, aggression, territorial requirements, environmental preferences, and a conservative model built from verified husbandry references and hobbyist outcomes to avoid risky combinations such as mixing aggressive cichlids with peaceful tetras or pairing long-fin fish with fast nippers."
            }
          },
          {
            "@type": "Question",
            "name": "How is aquarium bioload calculated?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Bioload is estimated from each species' adult size, activity level, feeding response, and habitat preference, using conservative waste assumptions so active schooling fish count heavier than slow bottom-dwellers."
            }
          },
          {
            "@type": "Question",
            "name": "What if my fish or invertebrate isn’t listed?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "If a species is missing you can use the closest match for planning, note any special needs, and request an addition through the Contact & Feedback page when the species is common or frequently requested."
            }
          },
          {
            "@type": "Question",
            "name": "What is the aquarium nitrogen cycle?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "The nitrogen cycle is the multi-week process where beneficial bacteria convert ammonia into nitrite and then nitrate, helping you know when a tank is ready for stocking and safer additions."
            }
          },
          {
            "@type": "Question",
            "name": "How often should I update my stocking plan?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Update your plan whenever tank size, filtration, or livestock changes, when behavior or water tests look off, or when plant growth, maturity, or filter performance shifts bioload."
            }
          },
          {
            "@type": "Question",
            "name": "Can I use this tool for saltwater tanks?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Not yet; the Advisor currently supports freshwater setups such as community, semi-aggressive, planted, and low-tech tanks, with saltwater support planned for a future expansion."
            }
          },
          {
            "@type": "Question",
            "name": "How accurate is the bioload calculation?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Bioload estimates are intentionally conservative for new aquarists and are most accurate with common community fish, but results vary with species rarity, tank maturity, plant density, and filtration."
            }
          },
          {
            "@type": "Question",
            "name": "What’s the difference between bioload and the inch-per-gallon rule?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "The inch-per-gallon rule counts only fish length, while bioload modeling accounts for activity, body mass, oxygen demand, waste production, and behavior, making it safer and more realistic for modern tanks."
            }
          },
          {
            "@type": "Question",
            "name": "Can I override compatibility warnings?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Yes; compatibility alerts flag potential risks but experienced aquarists can override them when they understand the species and environment, while beginners should follow the warnings to reduce stress and losses."
            }
          }
        ]
      }
    ]
  }
  </script>
  <script defer src="/js/nav.js?v=1.1.0"></script>
  <style>
    body > .skip-link {
      position: absolute;
      top: -48px;
      left: 18px;
      padding: 10px 16px;
      border-radius: 10px;
      background: rgba(6, 14, 30, 0.92);
      color: #eef3ff;
      text-decoration: none;
      font-weight: 600;
      transition: top 0.2s ease;
      z-index: 9999;
    }

    body > .skip-link:focus {
      top: 14px;
    }

    html,
    body {
      margin: 0;
      padding: 0;
      color: var(--fg);
      background: var(--page-bg);
      font-family: "Inter", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      min-height: 100vh;
    }

    .ttg-ad-slot {
      --ttg-ad-border: rgba(129, 155, 211, 0.72);
      --ttg-ad-bg: rgba(12, 20, 36, 0.22);
      --ttg-ad-label-bg: rgba(12, 20, 36, 0.85);
      --ttg-ad-label-color: rgba(226, 235, 255, 0.96);
      margin: 10rem auto;
      padding: clamp(1.5rem, 4vw, 2.75rem);
      max-width: min(100%, 970px);
      min-height: 280px;
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 20px;
      border: 2px dashed transparent;
      background: transparent;
      text-align: center;
      transition: background 0.3s ease, border-color 0.3s ease;
    }

    body[data-ad-qa="true"] .ttg-ad-slot,
    .ttg-ad-slot.ttg-ad-slot--empty {
      border-color: var(--ttg-ad-border);
      background: var(--ttg-ad-bg);
    }

    .ttg-ad-slot::before {
      content: "";
      position: absolute;
      top: 12px;
      left: 16px;
      padding: 4px 10px;
      border-radius: 999px;
      background: var(--ttg-ad-label-bg);
      color: var(--ttg-ad-label-color);
      font-size: 0.78rem;
      font-weight: 600;
      letter-spacing: 0.02em;
      pointer-events: none;
      opacity: 0;
      transform: translateY(-6px);
      transition: opacity 0.2s ease, transform 0.2s ease;
      white-space: nowrap;
      z-index: 2;
    }

    body[data-ad-qa="true"] .ttg-ad-slot::before,
    .ttg-ad-slot.ttg-ad-slot--empty::before {
      content: attr(data-ad-label);
      opacity: 1;
      transform: translateY(0);
    }

    .ttg-ad-slot::after {
      content: attr(data-ad-label);
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: clamp(1rem, 4vw, 1.75rem);
      background: var(--ttg-ad-label-bg);
      color: var(--ttg-ad-label-color);
      border-radius: inherit;
      pointer-events: none;
      opacity: 0;
      visibility: hidden;
      z-index: 1;
    }

    .ttg-ad-slot.ttg-ad-slot--empty::after {
      opacity: 1;
      visibility: visible;
    }

    .ttg-ad-slot ins.adsbygoogle {
      display: block;
      width: 100%;
      position: relative;
      z-index: 3;
    }

    a {
      color: var(--link);
    }

    .wrap {
      max-width: 1160px;
      margin: 0 auto;
      padding: 0 18px;
    }

      .stocking-page {
        position: relative;
        isolation: isolate;
      }

    .page-content {
      padding-bottom: 96px;
    }

    .hero {
      padding: 12px 0 32px;
      text-align: left;
    }

    .hero-surface {
      background: var(--card-raised);
      border: 1px solid var(--line);
      border-radius: 22px;
      padding: clamp(1.5rem, 5vw, 2.75rem) clamp(1.25rem, 4vw, 2.8rem);
      box-shadow: 0 32px 60px -36px var(--shadow);
      backdrop-filter: blur(12px);
    }

    .hero-title {
      margin: 0 0 4px;
    }

    .hero-subline {
      margin: 0 0 6px;
      color: var(--muted);
    }

    .brand-name {
      font-weight: 800;
      font-size: clamp(2.4rem, 3vw, 2.9rem);
      letter-spacing: -0.01em;
    }

    .brand-sub {
      font-size: 0.95rem;
      opacity: 0.85;
      color: var(--muted);
    }

      .tagline {
        font-size: 1.05rem;
        opacity: 0.85;
        color: var(--muted);
      }

    .hero .lead {
      max-width: 36rem;
      margin: 6px 0 10px;
      color: var(--muted);
      font-size: 1.05rem;
      line-height: 1.5;
    }

    .quick-answer {
      margin: 0 auto 28px;
      padding: 18px clamp(1.25rem, 4vw, 2rem);
      border-radius: 18px;
      background: var(--card-raised);
      border: 1px solid var(--line);
      box-shadow: 0 32px 60px -36px var(--shadow);
      color: var(--muted);
      font-size: 1.02rem;
      line-height: 1.6;
      backdrop-filter: blur(12px);
    }

    .quick-answer p {
      margin: 0;
    }

    .page-content > .panel:first-of-type {
      margin-top: 10px;
    }

    .panel {
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: 18px;
      padding: 20px 20px 22px;
      box-shadow: 0 28px 56px -34px var(--shadow);
      margin-bottom: 20px;
      backdrop-filter: blur(10px);
    }

    .faq-section {
      margin-top: 40px;
    }

    .faq-section .section-title {
      margin: 0 0 18px;
    }

    .faq-accordion {
      display: grid;
      gap: 12px;
    }

    .faq-item {
      border: 1px solid var(--line);
      border-radius: 14px;
      background: var(--card);
      box-shadow: 0 24px 50px -36px var(--shadow);
      overflow: hidden;
    }

    .faq-trigger {
      width: 100%;
      padding: 16px 18px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 16px;
      background: transparent;
      border: 0;
      color: inherit;
      font-size: 1.05rem;
      font-weight: 600;
      text-align: left;
      cursor: pointer;
      list-style: none;
    }

    .faq-trigger::-webkit-details-marker {
      display: none;
    }

    .faq-trigger::after {
      content: "+";
      font-weight: 700;
      transition: transform 0.2s ease;
    }

    .faq-trigger[aria-expanded="true"]::after {
      transform: rotate(45deg);
    }

    .faq-panel {
      padding: 0 18px 18px;
      color: var(--muted);
      font-size: 0.98rem;
      line-height: 1.6;
    }

    .faq-panel p {
      margin: 0;
    }

    .controls-row .control-field {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: 6px;
    }

    .control-field label {
      font-size: 0.92rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--muted);
    }

    .field-label-row {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .filter-catalog-debug {
      margin-top: 8px;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      font-size: 0.85rem;
      letter-spacing: 0.01em;
      color: var(--muted);
      background: var(--card);
      border-radius: 12px;
      padding: 6px 12px;
      border: 1px solid var(--line);
      box-shadow: 0 16px 32px -28px var(--shadow);
    }

    .filter-catalog-debug[data-source='CATALOG'] {
      color: var(--ok);
    }

    .filter-catalog-debug[data-source='FALLBACK'] {
      color: var(--warn);
    }

    .field-label-row .info-btn,
    .filter-turnover-label .info-btn {
      --info-btn-visible: 30px;
      --info-btn-hit: 44px;
      font-size: 0.95rem;
      transform: none;
    }

    .filter-turnover {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      align-items: baseline;
    }

    .filter-turnover-label {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-weight: 600;
    }

    .filter-turnover-value {
      font-variant-numeric: tabular-nums;
    }

    .link-like:focus-visible,
    button:focus-visible:not(.info-btn),
    .toggle:focus-visible {
      outline: 2px solid var(--link);
      outline-offset: 3px;
    }

    .link-like {
      background: none;
      border: 0;
      padding: 0;
      margin-left: 0.5rem;
      text-decoration: underline;
      cursor: pointer;
      font: inherit;
      color: var(--link);
    }

    .link-like:hover {
      text-decoration: underline;
    }

    /* prototype-only modal styles */
    .modal-backdrop.hidden {
      display: none;
    }

    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(6, 14, 30, 0.55);
      backdrop-filter: blur(2px);
      z-index: 9999;
      display: grid;
      place-items: center;
    }

    .modal.card {
      width: min(92vw, 640px);
      max-height: 85vh;
      overflow: auto;
      background: var(--card-raised);
      color: var(--fg);
      border-radius: 16px;
      padding: 20px 22px;
      border: 1px solid var(--line);
      box-shadow: 0 36px 64px -32px var(--shadow);
      position: relative;
    }

    .icon-btn.modal-close {
      position: absolute;
      top: 10px;
      right: 12px;
      font-size: 22px;
      background: transparent;
      border: 0;
      color: inherit;
      cursor: pointer;
    }

    .modal .spaced li {
      margin: 12px 0;
    }

    .link-underline {
      text-decoration: underline;
      font-weight: 600;
    }

    .muted.small {
      font-size: 0.95rem;
      opacity: 0.9;
      margin-top: 0.5rem;
    }

    [data-role="tank-spec"] {
      pointer-events: none;
      text-decoration: none;
    }

    .conditions-list {
      display: grid;
      gap: 10px;
      margin: 18px 0 0;
      padding: 0;
      list-style: none;
    }

    .condition-item {
      display: grid;
      grid-template-columns: minmax(180px, 1fr) auto;
      gap: 10px;
      align-items: center;
      padding: 10px 12px;
      border-radius: 12px;
      border: 1px solid var(--line);
      background: var(--card);
    }

    .condition-item .label {
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 600;
    }

    .condition-item .value {
      color: var(--muted);
      font-size: 0.95rem;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .condition-item[data-state="ok"] {
      border-color: var(--ok);
    }

    .condition-item[data-state="warn"] {
      border-color: var(--warn);
    }

    .condition-item[data-state="bad"] {
      border-color: var(--bad);
    }

    .condition-icon {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 22px;
      height: 22px;
      border-radius: 50%;
      font-weight: 700;
      font-size: 0.85rem;
    }

    .condition-item[data-state="ok"] .condition-icon {
      background: var(--ok-soft);
      color: var(--ok);
    }

    .condition-item[data-state="warn"] .condition-icon {
      background: var(--warn-soft);
      color: var(--warn);
    }

    .condition-item[data-state="bad"] .condition-icon {
      background: var(--bad-soft);
      color: var(--bad);
    }

    .bars {
      display: grid;
      gap: 18px;
    }

    .bar-card {
      display: grid;
      gap: 10px;
    }

    .bar-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 12px;
    }

    .bar-header h3 {
      margin: 0;
      font-size: 1.1rem;
    }

    .bar-wrapper {
      position: relative;
      height: 22px;
      border-radius: 999px;
      background: var(--bar-bg);
      overflow: hidden;
    }

    .bar-fill,
    .bar-ghost {
      position: absolute;
      top: 0;
      left: 0;
      bottom: 0;
      border-radius: 999px;
      transition: width 140ms ease;
    }

    .bar-fill {
      background: var(--ok);
    }

    .bar-ghost {
      background: var(--ghost);
      pointer-events: none;
    }

    .bar-text {
      font-size: 0.96rem;
      color: var(--muted);
    }

    .status-strip {
      border-radius: 12px;
      padding: 12px 14px;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 1.02rem;
      color: var(--fg);
      background: var(--card-raised);
      border: 1px solid var(--line);
      box-shadow: 0 20px 40px -28px var(--shadow);
    }

    .status-strip[data-state="ok"] {
      background: var(--ok-soft);
      border-color: var(--ok);
    }

    .status-strip[data-state="warn"] {
      background: var(--warn-soft);
      border-color: var(--warn);
    }

    .status-strip[data-state="bad"] {
      background: var(--bad-soft);
      border-color: var(--bad);
    }

    #stocking-page #stock-warnings {
      display: flex;
      flex-direction: column;
      gap: var(--space-sm);
      margin: var(--space-sm) 0 0;
    }

    #stocking-page #stock-warnings .status-strip {
      width: 100%;
      flex-direction: column;
      align-items: flex-start;
      gap: 6px;
      font-size: 1rem;
      color: #0b1228;
    }

    #stocking-page #stock-warnings .warning-title {
      font-weight: 700;
    }

    #stocking-page #stock-warnings .warning-message {
      font-size: 0.96rem;
      opacity: 0.92;
    }

    .chips {
      margin-top: 14px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .chip {
      background: var(--chip);
      border: 1px solid var(--chip-border);
      border-radius: 999px;
      padding: 6px 12px;
      font-size: 0.92rem;
      color: var(--fg);
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .chip.warning,
    .chip[data-tone="warn"] {
      border-color: var(--chip-warn-border);
      color: var(--chip-warn-text);
    }

    .chip.danger,
    .chip[data-tone="bad"] {
      border-color: var(--chip-bad-border);
      color: var(--chip-bad-text);
    }

    .chip__icon {
      font-size: 0.95em;
      line-height: 1;
    }

    .chip__text {
      display: inline;
    }

    .stock-grid {
      display: grid;
      gap: 16px;
    }

    .stock-row {
      display: grid;
      gap: 10px;
      grid-template-columns: 1fr;
    }

    .stock-row .see-gear {
      width: 100%;
      justify-content: center;
      margin-top: 0;
    }

    @media (min-width: 540px) {
      .stock-row {
        grid-template-columns: repeat(2, minmax(0, 1fr));
        align-items: end;
      }

      .stock-row .see-gear {
        grid-column: 1 / -1;
      }
    }

    @media (min-width: 780px) {
      .stock-row {
        grid-template-columns: minmax(160px, 1.4fr) repeat(2, minmax(120px, 1fr)) auto;
      }

      .stock-row .see-gear {
        grid-column: auto;
        width: auto;
        justify-self: end;
      }
    }

    .stock-list {
      display: grid;
      gap: 12px;
    }

    .stock-entry {
      display: grid;
      grid-template-columns: minmax(0, 1fr);
      gap: 8px;
      padding: 12px 14px;
      border-radius: 12px;
      border: 1px solid var(--line);
      background: var(--card);
      box-shadow: 0 20px 44px -32px var(--shadow);
    }

    .stock-entry__name {
      font-weight: 600;
      font-size: 1rem;
    }

    .stock-entry__meta {
      color: var(--muted);
      font-size: 0.95rem;
    }

    .stock-entry__remove {
      appearance: none;
      border: 0;
      border-radius: 10px;
      padding: 8px 12px;
      background: var(--chip);
      color: inherit;
      font-weight: 600;
      cursor: pointer;
      justify-self: start;
    }

    .stock-entry__remove:hover {
      background: var(--chip-border);
    }

    @media (min-width: 640px) {
      .stock-entry {
        grid-template-columns: minmax(0, 1fr) auto auto;
        align-items: center;
      }

      .stock-entry__meta {
        justify-self: end;
      }

      .stock-entry__remove {
        justify-self: end;
      }
    }

    .stock-empty {
      padding: 10px 2px;
      color: var(--muted);
      font-size: 0.95rem;
    }

    .secondary-text {
      color: var(--muted);
      font-size: 0.92rem;
    }

    .subtle {
      color: var(--muted);
      font-size: 0.95rem;
    }

    .see-gear {
      margin-top: 24px;
      display: inline-flex;
      align-items: center;
      gap: 10px;
      background: linear-gradient(90deg, rgba(77, 140, 255, 0.9), rgba(77, 200, 255, 0.88));
      color: #0b1228;
      border: none;
      border-radius: 12px;
      padding: 12px 18px;
      font-size: 1.02rem;
      font-weight: 700;
      cursor: pointer;
      box-shadow: 0 16px 28px -20px rgba(52, 120, 255, 0.8);
      text-decoration: none;
    }

    .diagnostics {
      margin-top: 18px;
      background: rgba(10, 16, 32, 0.82);
      border: 1px dashed rgba(163, 200, 255, 0.4);
      border-radius: 14px;
      padding: 16px;
      display: grid;
      gap: 10px;
      color: var(--muted);
      font-size: 0.95rem;
    }

    .diagnostics h3 {
      margin: 0 0 4px;
      font-size: 1.05rem;
      color: var(--fg);
    }

    .diagnostics ul {
      margin: 0;
      padding-left: 20px;
      display: grid;
      gap: 4px;
    }

    .water-grid {
      display: grid;
      gap: 12px;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    }

    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }

    @media (prefers-reduced-motion: reduce) {
      *,
      *::before,
      *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
      }
    }

    /* --- Compact vertical rhythm for Stocking Advisor --- */
    #stocking-page {
      --space-xxs: 4px;
      --space-xs: 6px;
      --space-sm: 10px;
      --space-md: 14px;
      --space-lg: 18px;
    }

    #stocking-page .card,
    #stocking-page .panel {
      padding: var(--space-md) var(--space-md) calc(var(--space-md) + 2px);
      margin-bottom: var(--space-lg);
    }

    #stocking-page .ttg-card {
      padding: 12px 14px 14px;
    }

    @media (max-width: 480px) {
      #stocking-page .ttg-card {
        padding: 10px 12px 12px;
      }
    }

    #stocking-page .card + .card,
    #stocking-page .panel + .card,
    #stocking-page .card + .panel,
    #stocking-page .panel + .panel {
      margin-top: 0;
    }

    #stocking-page .card-title,
    #stocking-page .panel > h2 {
      margin: 0;
      line-height: 1.15;
    }

    #stocking-page .panel > h2 {
      margin-bottom: var(--space-sm);
    }

    #stocking-page .toggle-title {
      margin: 0;
    }

    #stocking-page .row {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    #stocking-page .row.title-row {
      margin: 4px 0 4px;
    }

    #stocking-page .row.title-row.between {
      justify-content: space-between;
    }

    #stocking-page .env-header {
      position: relative;
      overflow: visible;
    }

    #stocking-page #env-card {
      overflow: visible;
      position: relative;
    }

    #stocking-page #env-card.is-tooltip-open {
      z-index: 30;
    }

    #stocking-page .env-header .title-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      position: relative;
    }

    @media (orientation: portrait) and (max-width: 480px) {
      #stocking-page .env-header {
        position: relative;
      }

      #stocking-page .env-header .title-row {
        display: grid;
        grid-template-columns: 1fr auto;
        grid-template-rows: auto;
        align-items: center;
        column-gap: 10px;
        justify-content: initial;
      }

      #stocking-page .env-header .title-row .card-title {
        grid-column: 1 / 2;
        margin: 0;
        line-height: 1.15;
      }

      #stocking-page #env-info-btn {
        grid-column: 2 / 3;
        align-self: start;
        margin-top: 2px;
      }

      #stocking-page .env-header .card-subtitle {
        margin-top: 4px;
        grid-column: 1 / -1;
      }
    }

    #stocking-page .card-header {
      margin-bottom: 8px;
    }

    #stocking-page .card-header .card-subtitle {
      margin: 2px 0 0;
      font-size: 13px;
      line-height: 1.35;
      color: var(--muted);
    }

    #stocking-page .card p,
    #stocking-page .panel p {
      margin-top: var(--space-xs);
      margin-bottom: var(--space-sm);
    }

    #stocking-page .tank-size-card .form-row {
      margin-bottom: var(--space-xs);
    }

    #stocking-page .select-wrap {
      margin: 8px 0 10px;
    }

    #stocking-page .select-wrap select {
      min-height: 44px;
      padding-right: 44px;
    }

    #stocking-page .tank-size-card .facts-line {
      margin-top: var(--space-sm);
      margin-bottom: var(--space-sm);
    }

    #stocking-page #stock-list {
      gap: var(--space-sm);
    }

    #stocking-page #stock-list .stock-entry {
      padding: var(--space-sm) var(--space-md);
      gap: var(--space-xs);
    }

    #stocking-page #stock-list .stock-entry__meta {
      margin-top: var(--space-xxs);
    }

    #stocking-page #stock-list .stock-entry__remove {
      min-height: 44px;
    }

    #stocking-page #stock-list .stock-entry + .stock-entry {
      margin-top: 0;
    }

    #stocking-page #stock-list-card .stock-empty {
      padding: var(--space-sm) var(--space-xs);
    }

    #stocking-page .env-card .section-lead {
      margin-bottom: var(--space-sm);
    }

    #stocking-page .env-card .env-divider {
      margin: var(--space-sm) 0;
    }

    #stocking-page .env-card table {
      border-spacing: 0;
    }

    #stocking-page .env-card table th,
    #stocking-page .env-card table td {
      padding: 10px 12px;
      line-height: 1.25;
    }

    #stocking-page .env-bars {
      margin-top: 10px;
      row-gap: 10px;
    }

    #stocking-page .env-bars .env-bar,
    #stocking-page .env-bars .bar-row {
      margin-bottom: var(--space-xs);
      padding-top: var(--space-xs);
      padding-bottom: var(--space-xs);
    }

    #stocking-page .env-bars .env-bar:last-child,
    #stocking-page .env-bars .bar-row:last-child {
      margin-bottom: 0;
    }

    /* ----- Compact Bioload/Aggression card adjustments ----- */
    #stocking-page #bioagg-card {
      min-height: 0 !important;
      height: auto !important;
      flex: 0 0 auto !important;
    }

    #stocking-page #bioagg-card.is-compact {
      padding-top: 8px;
      padding-bottom: 10px;
    }

    @media (orientation: portrait) and (max-width: 480px) {
      #stocking-page #bioagg-card.is-compact {
        padding-top: 6px;
        padding-bottom: 8px;
      }
    }

    #stocking-page button:not(.info-btn),
    #stocking-page select {
      min-height: 44px;
    }

    @media (max-width: 480px) {
      #stocking-page {
        --space-sm: 8px;
        --space-md: 12px;
        --space-lg: 16px;
      }

      #stocking-page .ttg-card {
        padding: 10px 12px 12px;
      }

      #stocking-page .row {
        gap: 8px;
      }

      #stocking-page .row.title-row {
        margin: 2px 0 2px;
      }

      #stocking-page .card-header {
        margin-bottom: 6px;
      }

      #stocking-page .card-header .card-subtitle {
        font-size: 12.5px;
      }

      #stocking-page .env-card table th,
      #stocking-page .env-card table td {
        padding: 8px 10px;
      }
    }

    @media (min-width: 1024px) {
      .hero {
        padding-top: 16px;
      }

      .page-content > .panel:first-of-type {
        margin-top: 14px;
      }
    }

    #stocking-page .tank-size-card + .card-spacer:empty {
      display: none !important;
    }

  </style>
  <!-- Consent Mode defaults (load FIRST) -->
  <script src="/assets/js/consent-mode.js" defer></script>
  <!-- Google tag (gtag.js) — GA4 -->
  <!--#include virtual="/includes/ga4.html" -->

  <!-- AdSense loader (keep one global instance only) -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9905718149811880"
    crossorigin="anonymous"></script>

  <!-- --- Google CMP (Funding Choices) START --- -->
  <script async src="https://fundingchoicesmessages.google.com/i/pub-9905718149811880?ers=1"></script>
  <script>
    // Required bootstrap per Google; signals CMP presence
    (function() {
      function signalGooglefcPresent() {
        if (!window.frames['googlefcPresent']) {
          if (document.body) {
            const iframe = document.createElement('iframe');
            iframe.style.cssText = 'display:none';
            iframe.name = 'googlefcPresent';
            document.body.appendChild(iframe);
          } else {
            setTimeout(signalGooglefcPresent, 0);
          }
        }
      }
      signalGooglefcPresent();
    })();
  </script>
  <!-- --- Google CMP (Funding Choices) END --- -->
  
</head>
<body class="proto-stock theme-dark prototype-stock-page">
  <a class="skip-link" href="#main-content">Skip to main content</a>
  <div id="site-nav"></div>
  <main id="main-content" class="page-main" role="main">
    <div id="stocking-page" class="stocking-page proto-stock">
    <header class="hero">
      <div class="wrap">
        <div class="hero-surface">
          <div class="hero-header">
          <h1 class="brand-name hero-title" id="page-title">Stocking Advisor</h1>
          <p class="hero-subline">By The Tank Guide, from FishKeepingLifeCo</p>
          <p class="tagline hero-tagline lead">Plan a healthy community by checking bioload, compatibility — and get recommended water parameters for your tank.</p>
          <div id="stocking-status" class="sr-only" role="status" aria-live="polite" aria-atomic="true"></div>
          </div>
        </div>
      </div>
    </header>


    <div class="wrap">
      <div class="quick-answer" role="note">
        <p>The Tank Guide Stocking Advisor is a free tool to help you plan a healthy freshwater aquarium. Use it to check fish compatibility, estimate bioload, and get instant recommendations on temperature and pH for your community.</p>
      </div>
    </div>


    <div class="wrap">
      <!-- Display Ad: TTG_StockingAdvisor_Top — Slot 8419879326 -->
      <div class="ttg-ad-slot" id="ad-stocking-top" data-ad-label="TTG_StockingAdvisor_Top • Slot 8419879326" aria-label="Advertisement">
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-9905718149811880"
             data-ad-slot="8419879326"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      </div>
    </div>

    <div class="wrap page-content">
      <div class="ad-container ad-hero" role="complementary" aria-label="Advertisement" data-prototype-ad="hero-disabled">
        <span class="ad-label sr-only">Advertisement</span>
      </div>
      
      <!-- Tank Size card -->
      <div class="card ttg-card tank-size-card" id="tank-size-card">
        <div class="card-header">
          <div class="row title-row between">
            <div class="sa-proto-tank-size-label">
              <h2 class="card-title" id="tank-size-heading">Tank Size</h2>
              <div class="info-trigger" data-info-scope="tank-size">
                <button
                  type="button"
                  class="proto-info-trigger info-btn"
                  aria-haspopup="dialog"
                  aria-controls="pop-tank-size"
                  aria-expanded="false"
                  aria-label="How tank size selections work"
                  data-proto-popover="pop-tank-size"
                >i</button>
                <div id="pop-tank-size" class="proto-popover" role="dialog" aria-labelledby="pop-tank-size-title" tabindex="-1" hidden>
                  <header>
                    <h3 id="pop-tank-size-title">Tank size picker</h3>
                    <button type="button" data-close aria-label="Close">×</button>
                  </header>
                  <div role="document" aria-labelledby="pop-tank-size-title">
                    <ul>
                      <li>Select your aquarium volume to anchor stocking, parameter, and filter calculations.</li>
                      <li>Preset options reflect popular tank footprints, but you can type a custom gallon value anytime.</li>
                      <li>Adjustments update every card instantly so you can compare scenarios before buying equipment.</li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <p class="card-subtitle">Select a tank size to begin.</p>
        </div>

        <div class="form-row">
          <div class="select-wrap" id="tank-size-select-wrap">
            <select id="tank-size" name="tank-size" data-role="tank-size" aria-label="Tank size" data-testid="tank-gallons"></select>
            <svg class="chevron" aria-hidden="true" focusable="false" viewBox="0 0 24 24">
              <path d="M7 10l5 5 5-5" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
        </div>

          <!-- Facts line stays; starts EMPTY to avoid duplicate helper text -->
          <div class="facts-line muted-text" data-role="tank-spec" aria-live="polite"></div>

          <div class="filter-flow-control" data-role="filter-setup">
            <div class="filter-product-field">
              <div class="field-label-row">
                <label for="filter-product">Filter Product</label>
                <div class="info-trigger" data-info-scope="filter-product">
                  <button
                    type="button"
                    class="proto-info-trigger info-btn"
                    aria-haspopup="dialog"
                    aria-controls="pop-filter-product"
                    aria-expanded="false"
                    aria-label="More info about selecting a filter product"
                    data-proto-popover="pop-filter-product"
                  >i</button>
                  <div id="pop-filter-product" class="proto-popover" role="dialog" aria-labelledby="pop-filter-product-title" tabindex="-1" hidden>
                    <header>
                      <h3 id="pop-filter-product-title">Picking a filter</h3>
                      <button type="button" data-close aria-label="Close">×</button>
                    </header>
                    <div role="document" aria-labelledby="pop-filter-product-title">
                      <ul>
                        <li>Select a model rated for your tank volume or one size larger for heavy stocking plans.</li>
                        <li>Choosing a product fills in its rated gallons-per-hour so turnover math stays accurate.</li>
                        <li>Switch to a custom entry if you run multiple filters or throttle the manufacturer flow.</li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
              <div class="proto-inline-controls" data-role="filter-product-controls">
                <div class="select-wrap proto-inline-controls__field">
                  <select id="filter-product" name="filter-product" aria-describedby="filter-product-note">
                    <option value="">— Select a product —</option>
                  </select>
                  <svg class="chevron" aria-hidden="true" focusable="false" viewBox="0 0 24 24">
                    <path d="M7 10l5 5 5-5" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                  </svg>
                </div>
                <button
                  type="button"
                  id="filter-product-add"
                  class="proto-add-button proto-add-button--primary"
                  disabled
                  aria-disabled="true"
                >Add Selected</button>
              </div>
              <p class="filter-product-note" id="filter-product-note">Choose a filter matched to your tank size and use Add Selected when ready.</p>
            </div>
            <div class="filter-setup">
              <p class="muted">Choose a filter to estimate how much water flow your tank has per hour.</p>

              <div class="filter-setup__row" role="group" aria-label="Add custom filter">
                <label class="sr-only" for="fs-type">Filter type</label>
                <select id="fs-type" class="fs-input fs-select">
                  <option value="" selected disabled>Filter type…</option>
                  <option>HOB</option>
                  <option>Canister</option>
                  <option>Internal</option>
                  <option>Sponge</option>
                  <option>Powerhead</option>
                </select>

                <label class="sr-only" for="fs-gph">Rated flow (GPH)</label>
                <input
                  id="fs-gph"
                  class="fs-input fs-gph"
                  inputmode="numeric"
                  pattern="[0-9]*"
                  placeholder="GPH"
                  aria-describedby="fs-gph-hint"
                >

                <button id="fs-add-custom" type="button" class="btn btn-primary btn-compact" aria-disabled="true">
                  Add custom
                </button>
              </div>

              <p class="hint" id="fs-gph-hint">Tip: press Enter in the GPH field to add quickly.</p>
            </div>
            <div class="filter-flow-meta">
              <div
                class="proto-filter-chips fp-chip-list"
                data-role="proto-filter-chips"
                role="list"
                aria-live="polite"
              ></div>
              <p class="proto-filter-empty" data-role="proto-filter-empty">No filters added yet.</p>
              <div class="filter-turnover turnover-block" id="filter-turnover" aria-live="polite">
                <div class="field-label-row">
                  <label class="field-label" for="turnoverValue">Estimated turnover</label>
                  <button
                    type="button"
                    class="info-btn ttg-tooltip-trigger"
                    data-info="turnover"
                    data-tooltip-id="turnover-tip"
                    aria-expanded="false"
                    aria-controls="turnover-tip"
                    aria-label="More info about turnover"
                    title="More info"
                  >i</button>
                </div>
                <p class="proto-filter-summary" data-role="proto-filter-summary">Filtration: 0 GPH • 0.0×/h</p>
                <div class="heads-up-note" role="note">
                  <p><strong>Heads-up for later:</strong> As your tank matures—especially if you add lots of healthy, fast-growing plants—your effective capacity can change. Keep testing your water and revisit your plan after cycling.</p>
                </div>
                <span class="filter-turnover-value" data-role="filter-turnover-value" aria-hidden="true" hidden>—</span>
                <!-- Mirrors .filter-flow-input__field > input styling from Rated flow (GPH) field -->
                <!-- PROTOTYPE-ONLY: Compact turnover field -->
                <div class="proto-input-group proto-turnover">
                  <input
                    id="turnoverValue"
                    class="proto-input proto-input--compact"
                    type="text"
                    inputmode="decimal"
                    aria-label="Estimated turnover in tank volumes per hour"
                    value="5.0"
                    placeholder="—"
                    readonly
                  />
                  <span class="proto-input-suffix" aria-hidden="true">×/h</span>
                </div>
              </div>
            </div>
          </div>
      </div>

      <style>
        /* Layout tightening */
        .tank-size-card .form-row {
          margin-bottom: 8px;
        }

        /* --- Tank Size chevron styles (scoped) --- */
        .tank-size-card .select-wrap {
          position: relative;
        }
        .tank-size-card .select-wrap select {
          display: block;
          width: 100%;
          height: 44px;
          line-height: 44px;
          padding: 0 44px 0 14px;
          border-radius: 12px;
          border: 1px solid var(--line);
          background: var(--card);
          color: inherit;
          -webkit-appearance: none;
          -moz-appearance: none;
          appearance: none;
          /* iOS: keeps native picker while allowing custom icon */
        }
        .tank-size-card .select-wrap .chevron {
          position: absolute;
          right: 14px;
          top: 50%;
          width: 16px;
          height: 16px;
          transform: translateY(-50%);
          opacity: 0.8;
          pointer-events: none;
          /* IMPORTANT: never block taps on the select */
          transition: transform 0.18s ease, opacity 0.18s ease;
        }
        .tank-size-card .select-wrap:hover .chevron {
          opacity: 0.95;
        }
        .tank-size-card .select-wrap.open .chevron {
          transform: translateY(-50%) rotate(180deg);
        }
        .tank-size-card .select-wrap select:focus {
          outline: 2px solid var(--info-btn-focus);
          outline-offset: 2px;
        }
        @media (prefers-reduced-motion: reduce) {
          .tank-size-card .select-wrap .chevron {
            transition: none;
          }
        }

          /* Facts line (empty when none selected) */
          .tank-size-card .facts-line {
            margin-top: 8px;
          }

          .heads-up-note {
            margin-top: 12px;
            padding: 12px 14px;
            border-radius: 12px;
            background: var(--card);
            border: 1px solid var(--line);
            font-size: 0.95rem;
            line-height: 1.5;
            color: var(--muted);
          }

          .heads-up-note strong {
            color: var(--fg);
          }

        /* Ensure the card can host positioned children safely */
        .tank-size-card { position: relative; }

        /* Info buttons adopt Cycling Coach parity */
        #stocking-page .info-btn {
          --info-btn-hit: 44px;
          --info-btn-visible: 30px;
          --info-btn-icon: var(--fg);
          font-size: 0.95rem;
          transform: none;
        }

        /* Env. Recommendations single icon “expanded” state (if present) */
        #stocking-page [data-role="env-info"][aria-expanded="true"] {
          --info-btn-bg: rgba(20, 203, 168, 0.9);
          --info-btn-bg-hover: rgba(20, 203, 168, 0.95);
          --info-btn-bg-active: rgba(20, 203, 168, 0.82);
          --info-btn-border: rgba(20, 203, 168, 0.95);
          --info-btn-border-hover: rgba(20, 203, 168, 1);
          --info-btn-border-active: rgba(20, 203, 168, 0.92);
          --info-btn-focus: rgba(20, 203, 168, 0.55);
          color: #0b1b18;
        }

        #stocking-page [data-role="env-info"][aria-expanded="true"]::before {
          box-shadow: 0 0 0 2px rgba(20, 203, 168, 0.25);
        }

        /* Environmental legend collapsed by default */
        #stocking-page #env-card [data-role="env-legend"] {
          display: none;
          margin: 0;
          padding-top: 0;
          opacity: 0;
          transition: opacity 160ms ease;
        }

        #stocking-page #env-card.info-open [data-role="env-legend"] {
          display: block;
          opacity: 1;
        }

        #stocking-page #env-card .env-bars .env-bar,
        #stocking-page #env-card .env-bars .bar-row {
          margin-bottom: 0;
        }

        #stocking-page #env-card.info-open .env-bars .env-bar,
        #stocking-page #env-card.info-open .env-bars .bar-row {
          margin-bottom: var(--space-xs);
        }

        #stocking-page #env-card.info-open .env-bars .env-bar:last-child,
        #stocking-page #env-card.info-open .env-bars .bar-row:last-child {
          margin-bottom: 0;
        }

      </style>

      <section class="card ttg-card" id="stock-list-card" aria-live="polite">
        <div class="card-header">
          <div class="row title-row between">
            <div class="card-title-row">
              <h2 class="card-title">Current Stock</h2>
              <div class="info-trigger" data-info-scope="stocking-checklist">
                <button
                  type="button"
                  id="stocking-checklist-btn"
                  class="proto-info-trigger info-btn"
                  aria-haspopup="dialog"
                  aria-controls="pop-stocking-checklist"
                  aria-expanded="false"
                  aria-label="View Responsible Stocking Checklist"
                  data-proto-popover="pop-stocking-checklist"
                >i</button>
                <div id="pop-stocking-checklist" class="proto-popover" role="dialog" aria-labelledby="pop-stocking-checklist-title" tabindex="-1" hidden>
                  <header>
                    <h3 id="pop-stocking-checklist-title">Responsible Stocking Checklist</h3>
                    <button type="button" data-close aria-label="Close">×</button>
                  </header>
                  <div role="document" aria-labelledby="pop-stocking-checklist-title">
                    <ul>
                      <li>Verify your nitrogen cycle is stable with zero ammonia and nitrite before introducing new species.</li>
                      <li>Match species by temperature, pH, and hardness tolerances, leaning into the overlapping sweet spot.</li>
                      <li>Stage livestock additions over several weeks so the biofilter can adjust without stress spikes.</li>
                      <li>Seed extra bio media to buffer bioload swings as you expand the community.</li>
                      <li>Keep a quick log of maintenance, feedings, and behavior shifts so you can course-correct early.</li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <p class="card-subtitle">Your selected fish and inverts appear here. No stock yet. Add species to begin.</p>
        </div>
        <div id="stock-list" class="stock-list" data-testid="species-list"></div>
        <div id="stock-warnings" class="stock-warnings" hidden aria-live="polite"></div>
      </section>

      <section class="card ttg-card tank-env-card env-card" id="env-card" data-role="env-card" aria-live="polite">
        <div class="card-header env-header">
          <div class="row title-row">
            <h2 class="card-title">Environmental Recommendations</h2>
            <div class="info-trigger" data-info-scope="env-info">
              <button
                type="button"
                class="proto-info-trigger info-btn"
                aria-haspopup="dialog"
                id="env-info-btn"
                data-role="env-info"
                aria-controls="pop-env-info"
                aria-expanded="false"
                aria-label="More info and tips about Environmental Recommendations"
                data-proto-popover="pop-env-info"
              >i</button>
              <div id="pop-env-info" class="proto-popover" role="dialog" aria-labelledby="pop-env-info-title" tabindex="-1" hidden>
                <header>
                  <h3 id="pop-env-info-title">Environmental Card Guide</h3>
                  <button type="button" data-close aria-label="Close">×</button>
                </header>
                <div role="document" aria-labelledby="pop-env-info-title">
                  <ul>
                    <li>Ranges blend the overlapping temperature, pH, hardness, and flow preferences of the fish you add.</li>
                    <li>Alerts surface when your planned community drifts outside that shared band so you can adjust stock or gear.</li>
                    <li>Use these guardrails as a starting point and verify with your own water tests before introducing livestock.</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
          <p class="card-subtitle">Based on your selected stock.</p>
          <div class="env-compact-summary" data-role="env-compact-summary" aria-hidden="true" hidden>
            <span data-field="summary-text">Add species to see recommendations.</span>
          </div>
        </div>

        <div class="card-body" data-role="env-body">
          <div id="env-warnings" class="env-warnings" hidden></div>
          <div id="env-reco" class="env-list" role="list" data-role="env-table"></div>
          <div id="env-reco-xl" class="env-grid-xl env-table" hidden data-role="env-table"></div>

          <hr class="env-divider" aria-hidden="true" />

          <div id="env-bars" class="env-bars" data-testid="stock-bars">
            <!-- populated by JS: Bioload Capacity + Compatibility chips -->
          </div>

          <div id="env-more-tips" class="env-more-tips env-tips" data-role="env-legend" hidden>
            <!-- brief bullets about GH/KH, salinity, blackwater, and flow zones -->
          </div>
        </div>
      </section>

      <section class="panel" aria-labelledby="stock-title">
        <h2 id="stock-title">Plan Your Stock</h2>
        <div class="stock-grid">
          <div
            class="stock-row"
            role="group"
            aria-labelledby="candidate-label"
          >
            <div class="control-field">
              <label id="candidate-label" for="plan-species">Species</label>
              <select id="plan-species" class="control" data-testid="species-search"></select>
            </div>
            <div class="control-field">
              <label for="plan-qty">Quantity</label>
              <input
                class="control"
                id="plan-qty"
                name="quantity"
                type="text"
                inputmode="numeric"
                pattern="[0-9]*"
                placeholder="Qty"
                autocomplete="off"
                enterkeyhint="done"
              />
            </div>
            <button id="plan-add" class="see-gear" type="button" data-testid="btn-add-species">Add to Stock</button>
          </div>
          <div class="chips" id="candidate-chips"></div>
          <div
            id="candidate-banner"
            class="status-strip"
            data-state="bad"
            style="display:none;"
            data-testid="status-banner"
          >
            Stocking safeguards: fix highlighted issues before adding.
          </div>
        </div>
      </section>


      <a class="see-gear" id="btn-gear" href="/gear/" data-testid="btn-gear">See Gear Suggestions</a>

      <section id="post-results-explainer" class="ttg-explainer--bg">
        <h2>Plan Your Aquarium with Confidence</h2>
        <p>The Stocking Advisor helps you build a calm, healthy tank. It uses real-world stocking data and hobby feedback to show you—at a glance—how your choices affect bioload, filtration needs, and species mix. No spreadsheets. No guesswork.</p>

        <h2>The Science Behind the Recommendations</h2>

        <h3>Bioload, not “inches per gallon”</h3>
        <p>The Advisor estimates bioload—how much waste your stock produces—using conservative rules plus activity multipliers. Fast swimmers (like danios) add more load than slow cruisers (like gouramis). Because this walkthrough assumes a fresh setup, only your filtration setup increases the tank’s effective biological capacity; revisit your plan after cycling if you grow a dense plant canopy.</p>

        <h3>Water chemistry guardrails</h3>
        <p>Each species carries preferred ranges for temperature, pH, and hardness. If your plan mixes fish outside a shared range, the Environmental card highlights it so you can adjust stock, remineralize, or tweak heat and flow.</p>

        <h3>Compatibility and behavior</h3>
        <p>The Advisor warns about known problem pairs—fin nippers with long fins, shrimp-unsafe hunters with inverts, or aggressive fish with peaceful schooling species—so you can fix issues before they’re in the water.</p>

        <p>
          When your plan looks good, head to the 
          <a href="https://thetankguide.com/gear/" target="_blank" rel="noopener noreferrer">Gear Guide</a> 
          to match filters, heaters, and lights, or brush up on testing in the 
          <a href="https://thetankguide.com/cycling-coach/" target="_blank" rel="noopener noreferrer">Cycling Coach</a>.
          And if you’d like, you can even have your tank featured by us — 
          <a href="https://thetankguide.com/feature-your-tank.html" target="_blank" rel="noopener noreferrer">Submit your tank</a> 
          or 
          <a href="https://thetankguide.com/pages/community-video-picks.html" target="_blank" rel="noopener noreferrer">see featured tanks from the community</a>.
        </p>
      </section>

      <!-- Display Ad: TTG_StockingAdvisor_Mid — Slot 5996977454 -->
      <div class="ttg-ad-slot" id="ad-stocking-mid" data-ad-label="TTG_StockingAdvisor_Mid • Slot 5996977454" aria-label="Advertisement">
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-9905718149811880"
             data-ad-slot="5996977454"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      </div>

      <section class="panel" aria-labelledby="educational-title">
        <h2 id="educational-title">Aquarium Bioload &amp; The Nitrogen Cycle</h2>
        <p>Every fish you preview in the Stocking Advisor contributes to the system's bioload, which is the sum of waste, respiration, and uneaten food the filters must process. That waste is converted from ammonia to nitrite and nitrate by beneficial bacteria living on hard surfaces. Keeping the nitrogen cycle stable means adding livestock slowly, rinsing filter media in dechlorinated water, and tracking test results so you can dial in water changes before nutrients creep beyond safe ranges.</p>
      </section>

      <section class="panel faq-section" id="faq" aria-labelledby="faq-title">
        <h2 id="faq-title" class="section-title">Stocking Advisor FAQ</h2>
        <div class="faq-section-wrapper">
          <div class="faq-accordion" data-faq-accordion>
            <details class="faq-item" id="faq-item-compatibility">
              <summary
                class="faq-trigger"
                id="faq-question-compatibility"
                aria-expanded="false"
                aria-controls="faq-panel-compatibility"
              >
                What data powers the compatibility alerts?
              </summary>
              <div
                class="faq-panel"
                id="faq-panel-compatibility"
                role="region"
                aria-labelledby="faq-question-compatibility"
                hidden
              >
                <p>Compatibility alerts are generated using species-specific behavior profiles, water chemistry requirements, adult size, aggression tendencies, territorial needs, and environmental preferences. The system also uses a conservative model built from verified husbandry references and hobbyist-reported outcomes to avoid risky combinations.</p>
                <p>Examples include: aggressive cichlids flagged when paired with peaceful tetras, long-fin slow swimmers flagged with fast nippy species, and soft-water species flagged when mixed with hard-water species.</p>
              </div>
            </details>
            <details class="faq-item" id="faq-item-bioload">
              <summary
                class="faq-trigger"
                id="faq-question-bioload"
                aria-expanded="false"
                aria-controls="faq-panel-bioload"
              >
                How is aquarium bioload calculated?
              </summary>
              <div
                class="faq-panel"
                id="faq-panel-bioload"
                role="region"
                aria-labelledby="faq-question-bioload"
                hidden
              >
                <p>Bioload is estimated from each species’ adult size, activity level, feeding response, and habitat preference. A conservative model is used—meaning the system intentionally assumes higher waste output to provide a safety margin, especially for beginners. Active schooling fish generate higher bioload than slow bottom-dwellers of similar size.</p>
              </div>
            </details>
            <details class="faq-item" id="faq-item-unlisted">
              <summary
                class="faq-trigger"
                id="faq-question-unlisted"
                aria-expanded="false"
                aria-controls="faq-panel-unlisted"
              >
                What if my fish or invertebrate isn’t listed?
              </summary>
              <div
                class="faq-panel"
                id="faq-panel-unlisted"
                role="region"
                aria-labelledby="faq-question-unlisted"
                hidden
              >
                <p>If a species you keep isn’t included, use the closest match for general planning and note any unique needs. You can also request a new species be added through the <a href="/contact-feedback.html">Contact &amp; Feedback page</a>, especially if it’s common in the hobby or frequently requested.</p>
              </div>
            </details>
            <details class="faq-item" id="faq-item-nitrogen">
              <summary
                class="faq-trigger"
                id="faq-question-nitrogen"
                aria-expanded="false"
                aria-controls="faq-panel-nitrogen"
              >
                What is the aquarium nitrogen cycle?
              </summary>
              <div
                class="faq-panel"
                id="faq-panel-nitrogen"
                role="region"
                aria-labelledby="faq-question-nitrogen"
                hidden
              >
                <p>The nitrogen cycle is the biological process where beneficial bacteria convert harmful ammonia into nitrite, then into nitrate. This process typically develops over several weeks. Understanding it helps determine when a tank is ready for stocking and when it’s safer to add new fish.</p>
              </div>
            </details>
            <details class="faq-item" id="faq-item-updates">
              <summary
                class="faq-trigger"
                id="faq-question-updates"
                aria-expanded="false"
                aria-controls="faq-panel-updates"
              >
                How often should I update my stocking plan?
              </summary>
              <div
                class="faq-panel"
                id="faq-panel-updates"
                role="region"
                aria-labelledby="faq-question-updates"
                hidden
              >
                <p>Update your plan whenever your tank size, filtration, or livestock changes, or if you observe unusual behavior or concerning water test results. Significant changes in plant growth, tank maturity, or filter performance can also affect bioload and may warrant a new pass with the Advisor.</p>
              </div>
            </details>
            <details class="faq-item" id="faq-item-saltwater">
              <summary
                class="faq-trigger"
                id="faq-question-saltwater"
                aria-expanded="false"
                aria-controls="faq-panel-saltwater"
              >
                Can I use this tool for saltwater tanks?
              </summary>
              <div
                class="faq-panel"
                id="faq-panel-saltwater"
                role="region"
                aria-labelledby="faq-question-saltwater"
                hidden
              >
                <p>Not yet. The Advisor currently supports freshwater systems, including community tanks, semi-aggressive setups, planted and low-tech tanks, and beginner-friendly layouts. Saltwater support may be added in a future expansion, but isn’t available in this version.</p>
              </div>
            </details>
            <details class="faq-item" id="faq-item-accuracy">
              <summary
                class="faq-trigger"
                id="faq-question-accuracy"
                aria-expanded="false"
                aria-controls="faq-panel-accuracy"
              >
                How accurate is the bioload calculation?
              </summary>
              <div
                class="faq-panel"
                id="faq-panel-accuracy"
                role="region"
                aria-labelledby="faq-question-accuracy"
                hidden
              >
                <p>Bioload estimates are designed to be conservative to reduce risk for new aquarists. Accuracy is strongest with common community fish and may vary for uncommon or specialty species. Real-world results also depend on tank maturity, plant density, and filtration performance.</p>
              </div>
            </details>
            <details class="faq-item" id="faq-item-bioload-rule">
              <summary
                class="faq-trigger"
                id="faq-question-bioload-rule"
                aria-expanded="false"
                aria-controls="faq-panel-bioload-rule"
              >
                What’s the difference between bioload and the inch-per-gallon rule?
              </summary>
              <div
                class="faq-panel"
                id="faq-panel-bioload-rule"
                role="region"
                aria-labelledby="faq-question-bioload-rule"
                hidden
              >
                <p>The inch-per-gallon rule treats all fish as equal based only on length. Bioload models consider activity, body mass, oxygen demand, waste production, and behavior. That makes bioload-based guidance safer and more realistic than simple length-based rules, especially in modern aquariums.</p>
              </div>
            </details>
            <details class="faq-item" id="faq-item-overrides">
              <summary
                class="faq-trigger"
                id="faq-question-overrides"
                aria-expanded="false"
                aria-controls="faq-panel-overrides"
              >
                Can I override compatibility warnings?
              </summary>
              <div
                class="faq-panel"
                id="faq-panel-overrides"
                role="region"
                aria-labelledby="faq-question-overrides"
                hidden
              >
                <p>Yes. Compatibility alerts highlight potential risks but cannot account for every unique setup. Experienced aquarists may override them when they understand the species and environment well. For beginners, following the warnings is strongly recommended to reduce stress and losses.</p>
              </div>
            </details>
          </div>
          </div>
        </div>
      </section>

      <noscript>
        <nav class="no-js-footer-links" aria-label="Site policies">
          <a href="/contact-feedback.html">Contact &amp; Feedback</a>
          <span aria-hidden="true">·</span>
          <a href="/privacy-legal.html">Privacy &amp; Legal</a>
          <span aria-hidden="true">·</span>
          <a href="/terms.html">Terms</a>
        </nav>
      </noscript>

      <!-- Display Ad: TTG_StockingAdvisor_Bottom — Slot 9758352395 -->
      <div class="ttg-ad-slot" id="ad-stocking-bottom" data-ad-label="TTG_StockingAdvisor_Bottom • Slot 9758352395" aria-label="Advertisement">
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-9905718149811880"
             data-ad-slot="9758352395"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      </div>

    </div>

  <section class="seo-intro">
    <div class="wrap">
      <p>The Tank Guide Stocking Advisor calculates aquarium bioload and compatibility. Plan balanced communities of bettas, tetras, shrimp, and more, powered by FishKeepingLifeCo.</p>
    </div>
  </section>
  </div>
</main>

  <div
    id="bioload-info-panel"
    class="proto-info-panel"
    role="dialog"
    aria-modal="true"
    aria-labelledby="bioload-info-title"
    hidden
  >
    <div class="proto-info-panel__surface" data-info-surface>
      <header class="proto-info-panel__header">
        <h3 id="bioload-info-title" class="proto-info-panel__title">Bioload capacity guide</h3>
        <button type="button" class="proto-info-panel__close" aria-label="Close" data-info-close>×</button>
      </header>
      <div class="proto-info-panel__body">
        <p>Filtration increases your tank’s capacity to process waste. Stocking % is now calculated using your tank’s effective biological capacity (RBC).</p>
        <p><strong>Heads-up for later:</strong> As your tank matures—especially if you add lots of healthy, fast-growing plants—your effective capacity can change. Keep testing your water and revisit your plan after cycling.</p>
      </div>
    </div>
  </div>

  <div
    id="proto-info-overlay"
    class="proto-info-overlay"
    data-overlay-root
    hidden
    aria-hidden="true"
  >
    <div class="proto-info-overlay__backdrop" data-overlay-backdrop></div>
  </div>

  <div id="turnover-tip" class="ttg-tooltip" data-tooltip-panel data-role="info-tip" role="tooltip" hidden data-info="turnover"></div>

  <script type="module" src="/js/logic/compute.js"></script>
  <script type="module" src="/js/logic/conflicts.js"></script>
  <script type="module" src="/js/stocking.js?v=2024-09-01" id="js-stocking"></script>
  <script type="module" src="/js/tank-size-card.js?v=2024-09-01"></script>
  <script type="module" src="/js/stocking-advisor/filtration/controller.js"></script>
  <script type="module" src="/js/stocking-advisor/info-popovers.js" defer></script>
  <script type="module" src="/js/stocking-advisor/ui-meters.js" defer></script>
  <script src="/js/stocking-advisor/info-tooltip.js" defer></script>
  <script src="/js/stocking-advisor/info-popover-legacy.js" defer></script>
  <script src="/js/stocking-advisor/init.js" defer></script>

<!-- === TTG Cookie Consent START === -->
<div id="ttg-consent" class="ttg-consent" data-consent-banner>
  <div class="ttg-consent__inner" role="dialog" aria-labelledby="ttg-consent-title" aria-describedby="ttg-consent-desc">
    <h3 id="ttg-consent-title">Cookies & Advertising</h3>
    <p id="ttg-consent-desc">
      We use cookies to run this site and (if you allow) to show relevant ads from Google AdSense. You can accept all cookies, reject personalized ads, or manage preferences anytime.
    </p>
    <div class="ttg-consent__actions">
      <button type="button" class="ttg-btn ttg-btn--secondary js-consent-reject" id="ttg-consent-reject">Reject (Non-personalized)</button>
      <button type="button" class="ttg-btn ttg-btn--ghost" id="ttg-consent-manage">Manage</button>
      <button type="button" class="ttg-btn ttg-btn--primary js-consent-accept" id="ttg-consent-accept">Accept All</button>
    </div>
  </div>
</div>

<div id="ttg-consent-modal" class="ttg-consent-modal" hidden aria-modal="true" role="dialog" aria-labelledby="ttg-consent-modal-title">
  <div class="ttg-consent-modal__panel">
    <h3 id="ttg-consent-modal-title">Cookie Preferences</h3>
    <form id="ttg-consent-form">
      <label class="ttg-row">
        <input type="checkbox" checked disabled />
        <span><strong>Essential</strong> — required for core site functions.</span>
      </label>
      <label class="ttg-row">
        <input type="checkbox" id="ttg-c-analytics" />
        <span><strong>Analytics</strong> — understand usage (if enabled later).</span>
      </label>
      <label class="ttg-row">
        <input type="checkbox" id="ttg-c-ads" />
        <span><strong>Advertising</strong> — allow personalized ads (Google AdSense).</span>
      </label>
      <div class="ttg-consent-modal__actions">
        <button type="button" class="ttg-btn ttg-btn--ghost" id="ttg-consent-cancel">Cancel</button>
        <button type="submit" class="ttg-btn ttg-btn--primary">Save Preferences</button>
      </div>
    </form>
  </div>
</div>

<!-- === TTG Consent Banner Controller START === -->
  <script defer src="/assets/js/consent-banner.js"></script>
<!-- === TTG Consent Banner Controller END === -->


<!-- === TTG CMP Consent Bridge START === -->
<script>
(function(){
  // Helper: map TCF consent to our single "ads granted" flag.
  // We consider "granted" only when Purpose 1 (storage) AND Purpose 4 (select personalised ads)
  // are consented. If you want to allow NON-personalised ads when only Purpose 1 is granted,
  // set allowNPA=true below.
  var allowNPA = true; // if true, we’ll treat Purpose 1 only as "granted" for showing slots (Google will serve NPA ads).

  function setAdConsent(granted){
    document.documentElement.setAttribute('data-ad-consent', granted ? 'granted' : 'denied');
    document.documentElement.classList.toggle('is-ads-disabled', !granted);
    window.__TTG_ADS_DISABLED__ = !granted;
    // Inform any listeners (our ad loader later)
    window.dispatchEvent(new CustomEvent('ttg:consent-change', {detail:{granted}}));
  }

  // If Google CMP is present, it defines __tcfapi.
  function hookTCF(){
    if (typeof window.__tcfapi !== 'function') return false;

    // Hide our local cookie banner when Google CMP is running (EEA users).
    try{
      var banner = document.getElementById('ttg-consent');
      var modal  = document.getElementById('ttg-consent-modal');
      if (banner){ banner.hidden = true; banner.classList.remove('is-open'); }
      if (modal)  modal.hidden  = true;
    }catch(e){}

    // Listen for consent changes
    window.__tcfapi('addEventListener', 2, function(tcData, ok){
      if(!ok || !tcData) return;
      // Purpose 1 = storage; Purpose 4 = personalised ads
      var p = (tcData.purpose && tcData.purpose.consents) || {};
      var hasP1 = !!p[1];
      var hasP4 = !!p[4];

      var granted = allowNPA ? hasP1 : (hasP1 && hasP4);
      setAdConsent(granted);
    });

    // Also fetch current state once
    window.__tcfapi('getTCData', 2, function(tcData, ok){
      if(!ok || !tcData) return;
      var p = (tcData.purpose && tcData.purpose.consents) || {};
      var hasP1 = !!p[1];
      var hasP4 = !!p[4];
      var granted = allowNPA ? hasP1 : (hasP1 && hasP4);
      setAdConsent(granted);
    });

    return true;
  }

  // Try to hook immediately; if CMP loads a bit later, poll briefly
  if (!hookTCF()){
    var tries = 0, t = setInterval(function(){
      tries++;
      if (hookTCF() || tries > 40) clearInterval(t); // up to ~4s
    }, 100);
  }

  // Fallback for non-EEA visitors (no __tcfapi): keep using our local preference
  // Our existing local banner writes ttgConsentV2 with {ads:true|false}.
  // If CMP absent, keep existing behavior (do not force-show anything here).

})();
</script>
<!-- === TTG CMP Consent Bridge END === -->

<!-- === TTG Cookie Consent END === -->

<!-- === TTG Ad Slot View Tracking START === -->
<script src="/js/ad-slot-view-tracking.js" defer></script>
<!-- === TTG Ad Slot View Tracking END === -->

  <script>
    (function () {
      const TARGET_SELECTOR = '.filtration-card,.filtration-summary,.filter-setup-legacy,.filter-rows,.filter-row,.add-another-filter,.total-flow,.turnover,#filtration-summary,[data-card="filtration-summary"],#filtration-trigger';
      const purge = (root = document) => {
        root.querySelectorAll(TARGET_SELECTOR).forEach((node) => {
          node.remove();
        });
      };

      purge();

      const observer = new MutationObserver((mutations) => {
        mutations.forEach((mutation) => {
          mutation.addedNodes?.forEach((node) => {
            if (node.nodeType === 1) {
              purge(node);
            }
          });
        });
      });

      observer.observe(document.documentElement, { childList: true, subtree: true });
    })();
  </script>
  <script>
    (function () {
      const accordions = document.querySelectorAll('[data-faq-accordion]');
      accordions.forEach((accordion) => {
        accordion.querySelectorAll('details').forEach((item, index) => {
          const summary = item.querySelector('.faq-trigger');
          const panel = item.querySelector('.faq-panel');
          if (!summary || !panel) {
            return;
          }

          if (!summary.id) {
            summary.id = `faq-summary-${index}`;
          }

          if (!panel.id) {
            panel.id = `${summary.id}-panel`;
          }

          summary.setAttribute('aria-controls', panel.id);

          const syncState = () => {
            const expanded = item.open;
            summary.setAttribute('aria-expanded', String(expanded));
            panel.hidden = !expanded;
          };

          syncState();

          item.addEventListener('toggle', syncState);
        });
      });
    })();
  </script>

  <script>
    (function() {
      var QA_MODE = false;
      var body = document.body;
      if (QA_MODE && body) {
        body.setAttribute('data-ad-qa', 'true');
      }

      var slots = document.querySelectorAll('.ttg-ad-slot');
      if (!slots.length) {
        return;
      }

      var evaluateSlot = function(slot, ins) {
        if (!slot || !ins) return;
        var hasIframe = ins.querySelector('iframe');
        var height = ins.offsetHeight;
        if (hasIframe && height > 40) {
          slot.classList.remove('ttg-ad-slot--empty');
        } else {
          slot.classList.add('ttg-ad-slot--empty');
        }
      };

      slots.forEach(function(slot) {
        var ins = slot.querySelector('ins.adsbygoogle');
        if (!ins) {
          return;
        }

        var refresh = function() { evaluateSlot(slot, ins); };
        refresh();

        var observer = new MutationObserver(refresh);
        observer.observe(ins, { childList: true, subtree: true });

        window.addEventListener('load', function() {
          setTimeout(refresh, 1800);
        });

        window.addEventListener('ttg:consent-change', refresh);
      });
    })();
  </script>

  <script src="/js/footer-loader.js?v=1.5.2" defer></script>
  <section class="legal-links" aria-label="Site legal links">
    <a href="/privacy-legal.html">Privacy Policy</a>
    <a href="/terms.html">Terms</a>
    <a href="/contact-feedback.html">Contact</a>
  </section>
  <noscript>
    <section class="legal-links" aria-label="Site legal links (noscript)">
      <a href="/privacy-legal.html">Privacy Policy</a>
      <a href="/terms.html">Terms</a>
      <a href="/contact-feedback.html">Contact</a>
    </section>
  </noscript>

  <div id="site-footer" data-footer-src="/footer.html?v=1.5.2"></div>
</body>
</html>
