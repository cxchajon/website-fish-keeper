<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Stocking Calculator</title>
<style>
  :root {
    --gap: 12px;
    --radius: 14px;
    --ink: #0f172a;
    --muted: #475569;
    --muted-2: #94a3b8;
    --brand: #0284c7;
    --brand-2: #0369a1;
    --ok: #10b981;
    --warn: #f59e0b;
    --bad: #ef4444;
  }

  * { box-sizing: border-box; }
  body {
    margin:0;
    font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    color: var(--ink);
    background: linear-gradient(180deg, #0284c7, #0ea5e9, #38bdf8);
    background-attachment: fixed;
  }

  .wrap {
    max-width: 980px;
    margin: 0 auto;
    padding: 28px 20px 48px;
  }

  /* Brand */
  .brand {
    text-align: center;
    margin-bottom: 24px;
  }
  .brand svg {
    width: 100%;
    max-width: 720px;
    height: auto;
    display: inline-block;
  }

  header {
    margin-bottom: 18px;
    text-align: center;
    color: white;
  }
  h1 {
    font-size: clamp(1.35rem, 1.1rem + 1.2vw, 1.9rem);
    margin: 0;
  }

  /* Frosted glass cards */
  .card {
    background: rgba(255, 255, 255, 0.85);
    border-radius: var(--radius);
    border: 1px solid rgba(255,255,255,0.38);
    box-shadow: 0 12px 24px -10px rgba(2,6,23,.25);
    padding: 16px;
    margin-bottom: 16px;
    backdrop-filter: blur(10px) saturate(160%);
    -webkit-backdrop-filter: blur(10px) saturate(160%);
  }

  label { font-weight:600; margin-bottom:6px; display:block; }
  input, select {
    width:100%; padding:10px;
    border:1px solid #cbd5e1; border-radius:10px;
  }

  /* Generic button baseline */
  button {
    background: var(--brand); color:#fff; border:1px solid var(--brand-2);
    padding: 10px 14px; border-radius:10px; cursor:pointer;
    font-weight:600;
    box-shadow: 0 2px 8px rgba(2,6,23,.18);
    transition: transform .06s ease, background .2s ease, box-shadow .2s ease, opacity .2s ease;
  }
  button:hover { background: var(--brand-2); box-shadow: 0 4px 12px rgba(2,6,23,.22); }
  button:active { transform: translateY(1px); }

  /* Bars */
  .bar { height:26px; background:#e2e8f0; border-radius:999px; overflow:hidden; }
  .bar-fill { height:100%; width:0%; background: linear-gradient(90deg, var(--ok), var(--warn), var(--bad)); transition: width .25s ease; }
  .bar-note { display:flex; justify-content:space-between; font-size:.85rem; color:var(--muted); }

  small.note {
    color: var(--muted-2); font-size:.8rem; font-style:italic;
    display:block; margin-top:6px; padding-left:20px; position:relative;
  }
  small.note::before { content:"ℹ️"; position:absolute; left:0; }

  /* Layout helpers */
  .row { display: grid; gap: var(--gap); grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); }
  table { width: 100%; border-collapse: collapse; }
  th, td { padding: 8px 6px; border-bottom: 1px solid #e2e8f0; }
  th.right, td.right { text-align: right; }

  /* Current Stock buttons */
  tbody td:last-child {
    display:flex;
    justify-content:flex-end;
    gap:10px;
  }
  tbody td:last-child button {
    height: 40px;
    padding: 0 14px;
    border-radius: 8px;
    font-weight: 600;
    font-size: 0.9rem;
    color: #fff;
    border: none;
    box-shadow: 0 2px 6px rgba(0,0,0,.15);
    cursor: pointer;
    transition: background .2s ease, transform .05s ease;
    opacity: 1;
  }
  tbody td:last-child button:active { transform: translateY(1px); }

  /* Per-action colors */
  button.minus { background: var(--warn); min-width: 52px; }
  button.minus:hover { background: #d97706; }

  button.plus { background: var(--ok); min-width: 52px; }
  button.plus:hover { background: #059669; }

  button.delete { background: var(--bad); min-width: 90px; }
  button.delete:hover { background: #dc2626; }

  /* Clear Stock — danger style */
  #reset.clear-danger {
    background: var(--bad);
    border: none;
    color: #fff;
    box-shadow: 0 2px 6px rgba(0,0,0,.15);
  }
  #reset.clear-danger:hover { background: #dc2626; }
</style>
</head>
<body>
  <div class="wrap">
    <!-- Brand logo: vectorized fish plus wordmark -->
    <div class="brand" aria-label="FishkeepingLifeCo — Aquarium Education">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 200">
        <g transform="translate(0,14) scale(1.0)">
          <!-- Fish shape extracted from your reference image -->
          <path d="M 91,0 91,1 91,2 91,3 91,4 92,5 92,6 93,7 93,8 94,9 94,10 95,11 96,12 96,13 97,14 98,15 98,16 99,17 100,18 101,19 101,20 102,21 103,22 104,23 104,24 104,25 104,26 104,27 103,28 102,28 101,29 100,29 99,30 98,31 97,31 96,31 95,31 94,31 93,31 92,31 91,31 90,31 89,31 88,32 87,33 86,34 85,35 84,36 83,37 82,38 81,39 80,40 79,41 78,42 77,43 76,44 75,45 74,46 73,47 72,48 71,49 70,50 69,51 68,52 67,53 66,54 65,55 64,56 63,57 62,58 61,59 60,60 59,61 58,62 57,63 56,64 55,65 54,66 53,67 52,68 51,69 50,69 49,69 48,69 47,69 46,68 45,67 44,66 43,65 42,64 41,63 40,62 39,61 38,60 37,59 36,58 35,57 34,56 33,55 32,54 31,53 30,52 29,51 28,50 27,49 26,48 25,47 24,46 23,45 22,44 21,43 20,42 19,41 18,40 17,39 16,38 15,37 14,36 13,35 12,34 11,34 10,33 9,33 8,33 7,33 6,33 5,33 4,33 3,33 2,33 1,33 0,34 0,35 0,36 0,37 0,38 0,39 0,40 0,41 0,42 0,43 0,44 0,45 1,46 1,47 1,48 2,49 2,50 3,51 3,52 3,53 4,54 4,55 4,56 4,57 4,58 5,59 5,60 5,61 5,62 5,63 6,64 6,65 6,66 6,67 6,68 6,69 6,70 6,71 6,72 6,73 6,74 6,75 6,76 6,77 6,78 6,79 6,80 6,81 6,82 6,83 6,84 6,85 6,86 6,87 6,88 7,89 7,90 7,91 7,92 7,93 7,94 7,95 7,96 7,97 7,98 7,99 7,100 7,101 7,102 7,103 7,104 7,105 7,106 7,107 7,108 7,109 7,110 7,111 7,112 7,113 7,114 7,115 7,116 7,117 7,118 7,119 7,120 7,121 7,122 7,123 7,124 7,125 7,126 7,127 7,128 7,129 7,130 7,131 7,132 7,133 7,134 7,135 7,136 7,137 7,138 7,139 7,140 7,141 7,142 7,143 7,144 7,145 7,146 7,147 7,148 7,149 7,150 7,151 7,152 7,153 7,154 7,155 7,156 7,157 7,158 7,159 7,160 7,161 7,162 7,163 7,164 7,165 7,166 7,167 7,168 7,169 7,170 7,171 7,172 7,173 7,174 7,175 7,176 8,177 8,178 8,179 9,180 9,181 10,182 10,183 11,184 11,185 12,186 12,187 13,188 13,189 14,190 15,191 15,192 16,193 16,194 17,195 18,196 19,197 20,198 21,199 22,200 23,200 24,200 25,200 26,200 27,200 28,200 29,200 30,200 31,200 32,200 33,200 34,200 35,200 36,200 37,200 38,200 39,200 40,200 41,200 42,200 43,200 44,200 45,200 46,200 47,200 48,200 49,200 50,200 51,200 52,200 53,200 54,200 55,200 56,200 57,200 58,200 59,200 60,200 61,200 62,200 63,200 64,200 65,200 66,200 67,200 68,200 69,200 70,200 71,200 72,200 73,200 74,200 75,200 76,200 77,200 78,200 79,200 80,200 81,200 82,200 83,200 84,200 85,200 86,200 87,200 88,200 89,200 90,200 91,200 92,200 93,200 94,200 95,200 96,200 97,200 98,200 99,200 100,200 101,200 102,200 103,200 104,200 105,200 106,200 107,200 108,200 109,200 110,200 111,200 112,200 113,200 114,200 115,200 116,200 117,200 118,200 119,200 120,200 121,200 122,200 123,200 124,200 125,200 126,200 127,200 128,200 129,200 130,200 131,200 132,200 133,200 134,200 135,200 136,200 137,200 138,200 139,200 140,200 141,200 142,200 143,200 144,200 145,200 146,200 147,200 148,200 149,200 150,200 151,200 152,200 153,200 154,200 155,200 156,200 157,200 158,200 159,200 160,200 161,200 162,200 163,200 164,200 165,200 166,200 167,200 168,200 169,200 170,200 171,200 172,200 173,200 174,200 175,200 176,200 177,200 178,200 179,200 180,200 181,200 182,200 183,200 184,200 185,200 186,200 187,200 188,200 189,200 190,200 191,200 192,200 193,200 194,200 195,200 196,200 197,200 198,200 199,200 200,200 201,200 202,200 203,200 204,200 205,200 206,199 206,198 207,197 207,196 207,195 207,194 207,193 207,192 208,191 208,190 208,189 208,188 208,187 209,186 209,185 209,184 209,183 209,182 209,181 210,180 210,179 210,178 210,177 210,176 210,175 211,174 211,173 211,172 211,171 211,170 211,169 211,168 211,167 211,166 211,165 212,164 212,163 212,162 212,161 212,160 213,159 213,158 213,157 213,156 213,155 213,154 214,153 214,152 214,151 214,150 214,149 214,148 214,147 214,146 214,145 214,144 214,143 214,142 214,141 214,140 214,139 214,138 214,137 214,136 214,135 214,134 214,133 214,132 214,131 214,130 214,129 214,128 214,127 214,126 214,125 214,124 214,123 214,122 214,121 214,120 214,119 214,118 214,117 214,116 214,115 214,114 214,113 214,112 214,111 214,110 214,109 214,108 214,107 214,106 214,105 214,104 214,103 214,102 214,101 214,100 214,99 214,98 214,97 214,96 214,95 214,94 214,93 214,92 214,91 214,90 214,89 214,88 214,87 214,86 214,85 214,84 214,83 214,82 214,81 214,80 214,79 214,78 214,77 214,76 214,75 214,74 214,73 214,72 214,71 214,70 214,69 214,68 214,67 214,66 214,65 214,64 214,63 214,62 214,61 214,60 214,59 214,58 214,57 214,56 214,55 214,54 214,53 214,52 214,51 214,50 214,49 214,48 214,47 214,46 214,45 214,44 214,43 214,42 214,41 214,40 214,39 214,38 214,37 214,36 214,35 214,34 214,33 214,32 214,31 214,30 214,29 214,28 214,27 214,26 214,25 214,24 214,23 214,22 214,21 214,20 214,19 214,18 214,17 214,16 214,15 214,14 214,13 214,12 214,11 214,10 214,9 214,8 214,7 214,6 214,5 214,4 214,3 214,2 214,1 214,0 213,0 212,0 211,0 210,0 209,0 208,0 207,0 206,0 205,0 204,0 203,0 202,0 201,0 200,0 199,0 198,0 197,0 196,0 195,0 194,0 193,0 192,0 191,0 190,0 189,0 188,0 187,0 186,0 185,0 184,0 183,0 182,0 181,0 180,0 179,0 178,0 177,0 176,0 175,0 174,0 173,0 172,0 171,0 170,0 169,0 168,0 167,0 166,0 165,0 164,0 163,0 162,0 161,0 160,0 159,0 158,0 157,0 156,0 155,0 154,0 153,0 152,0 151,0 150,0 149,0 148,0 147,0 146,0 145,0 144,0 143,0 142,0 141,0 140,0 139,0 138,0 137,0 136,0 135,0 134,0 133,0 132,0 131,0 130,0 129,0 128,0 127,0 126,0 125,0 124,0 123,0 122,0 121,0 120,0 119,0 118,0 117,0 116,0 115,0 114,0 113,0 112,0 111,0 110,0 109,0 108,0 107,0 106,0 105,0 104,0 103,0 102,0 101,0 100,0 99,0 98,0 97,0 96,0 95,0 94,0 Z" fill="#ffffff"/>
          <!-- Eye -->
          <circle cx="102" cy="86" r="7" fill="#0ea5e9" />
        </g>
        <g font-family="Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial" fill="#ffffff">
          <text x="280" y="100" font-size="56" font-weight="700" letter-spacing="0.2">FishkeepingLifeCo</text>
          <text x="280" y="145" font-size="28" opacity="0.95">Aquarium Education</text>
        </g>
      </svg>
    </div>

    <header><h1>Stocking Calculator</h1></header>

    <!-- Tank setup card -->
    <section class="card">
      <div class="row">
        <div><label for="gallons">Tank size (US gallons)</label><input id="gallons" type="number" min="1" value="20"/></div>
        <div><label for="filtration">Filtration</label>
          <select id="filtration"><option value="low">Low — Sponge filter (gentle flow)</option><option value="standard" selected>Standard — Hang-on-back (≈4–10× turnover)</option><option value="high">High — Sump/Canister (oversized)</option></select>
        </div>
        <div><label>Planted?</label><div class="switch"><input id="planted" type="checkbox"/><span>Yes</span></div></div>
      </div>
      <div class="bars-wrap">
        <div class="bar-block"><h3>Bioload</h3><div class="bar" aria-live="polite"><div id="barFill" class="bar-fill"></div></div><div class="bar-note"><span>Low</span><span>High</span></div><small class="note">Bioload is an estimate. Filtration and plants adjust capacity.</small></div>
        <div class="bar-block"><h3>Aggression Risk (Average conflicts)</h3><div class="bar" aria-live="polite"><div id="aggBarFill" class="bar-fill"></div></div><div class="bar-note"><span>Low</span><span>High</span></div><small class="note">Serious conflicts automatically max this bar.</small></div>
      </div>
    </section>

    <!-- Add Fish -->
    <section class="card">
      <h2 style="margin-top:0">Add Fish</h2>
      <div class="row"><div style="flex:1 1 320px"><label for="fishSearch">Search species</label><input id="fishSearch" type="text" placeholder="Type to filter the list"/></div></div>
      <div class="row"><div style="flex:1 1 320px"><label for="fishSelect">Species</label><select id="fishSelect"></select></div></div>
      <div class="row"><div style="flex:1 1 200px"><label for="recMin">Recommended minimum</label><input id="recMin" type="number" value="" disabled/></div></div>
      <div class="row" style="align-items:flex-end"><div style="flex:1 1 200px"><label for="fQty">Quantity</label><input id="fQty" type="number" min="1" placeholder=""/></div><div><button id="addFish">Add</button></div></div>
    </section>

    <!-- Current Stock -->
    <section class="card">
      <h2 style="margin-top:0">Current Stock</h2>
      <table><thead><tr><th>Name</th><th class="right">Qty</th><th class="right">Aggression</th><th class="right">Actions</th></tr></thead><tbody id="tbody"></tbody></table>
      <div class="row" style="margin-top:8px"><div style="flex:1 1 200px"><button id="reset" class="clear-danger">Clear Stock</button></div></div>
    </section>

    <!-- Warnings -->
    <section class="card">
      <h2 style="margin-top:0">Aggression & Compatibility Warnings</h2>
      <div id="aggression-warnings"></div>
    </section>
  </div>

  <!-- Data + Logic + Glue -->
  <script src="js/fish-data.js"></script>
  <script src="js/aggression.js"></script>
  <script src="js/stocking_advisor.js"></script>
</body>
</html>