<!-- Updated: Added homepage About card while keeping the hero free of the global drawer. -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>The Tank Guide — Aquarium Stocking Advisor & Fishkeeping Tools</title>
  <meta name="description" content="Discover the aquarium stocking advisor, cycling coach, and fishkeeping guides to plan, build, and maintain healthy tanks with confidence — by FishKeepingLifeCo." />

  <link rel="stylesheet" href="css/style.css?v=1.0.8" />

  <style>
    :root{
      --bg:#0c2740;
      --fg:#ffffff;
      --muted:rgba(255,255,255,.85);
      --card-bg: rgba(255,255,255,.10);
      --card-line: rgba(255,255,255,.18);
      --btn-fg:#08324a;
      --btn-bg:#ffffff;
      --btn-bg-hover:#f3f6ff;
      --link-line: rgba(255,255,255,.22);
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;color:var(--fg);font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
    a{color:inherit;text-decoration:none}

    /* Hero gradient */
    .hero{
      min-height:100dvh;
      padding:28px 20px 38px;
      background:
        radial-gradient(1200px 800px at 75% -10%, #36c2cc 0%, rgba(54,194,204,0.0) 60%),
        radial-gradient(1200px 900px at -10% 120%, #0077c7 0%, rgba(0,119,199,0.0) 60%),
        linear-gradient(140deg,#0077c7 0%, #0b6ea6 40%, #0a4d87 100%);
    }

    .wrap{max-width:1080px;margin:0 auto}

    .visually-hidden{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}

    /* Brand */
    .site-brand{margin-bottom:48px;}
    .brand-name{font-weight:800;font-size:1.4rem}
    .brand-sub{font-size:1rem;opacity:.9}
    .tagline{margin-top:6px;font-size:1.05rem;opacity:.85}

    /* Headline (unused placeholder for now) */
    .headline{max-width:900px;font-weight:800;font-size:clamp(2rem,4vw,3.2rem);line-height:1.1;margin:40px 0 26px}

    /* Launch grid */
    .features-grid{
      display:grid;
      grid-template-columns: repeat(3, minmax(0,1fr));
      gap: 24px;
    }
    @media (max-width: 1024px){
      .features-grid{ grid-template-columns: repeat(2, minmax(0,1fr)); }
    }
    @media (max-width: 640px){
      .features-grid{ grid-template-columns: 1fr; }
    }

    .card{background:var(--card-bg);border:1px solid var(--card-line);border-radius:14px;padding:16px;backdrop-filter: blur(6px);display:grid;gap:10px}
    .card h3{margin:2px 0 4px;font-size:1.1rem}
    .card p{margin:0;color:var(--muted);min-height:3.2em}
    .actions{margin-top:8px}
    .btn{display:inline-block;padding:10px 14px;border-radius:10px;border:1px solid var(--link-line);background:var(--btn-bg);color:var(--btn-fg);font-weight:700;text-decoration:none}
    .btn:hover{background:var(--btn-bg-hover)}

    /* Follow strip (if included inside footer.html, you can keep these styles here) */
    nav.follow-strip{display:flex;justify-content:center;align-items:center;gap:12px;padding:16px 0 8px;border-top:1px solid var(--card-line);margin-top:40px;color:var(--muted);font-size:.95rem}
    nav.follow-strip .follow-label{margin-right:6px;font-weight:600}
    nav.follow-strip a.social{display:inline-flex;align-items:center;justify-content:center;width:26px;height:26px;border-radius:50%;background:#fff;border:1px solid rgba(0,0,0,.1);color:#0a3a57}
    nav.follow-strip a.social svg{width:16px;height:16px;fill:currentColor;display:block}
    nav.follow-strip a.social:hover{background:#f7f7f7}

    /* Footer */
    footer{padding:10px 20px 28px;color:var(--muted)}
    footer .foot-inner{max-width:1080px;margin:0 auto}
    .small{opacity:.9;font-size:.95rem}

    /* SEO intro (subtle, ~25% smaller) */
    .seo-intro{
      max-width:700px;
      margin:1rem auto 0;   /* sits close to socials */
      padding:0;
      font-size:0.75em;     /* ~25% smaller than body text */
      line-height:1.4;
      color:var(--muted);
      text-align:center;
    }
    .seo-intro strong{color:var(--fg)}
  </style>
  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "@id": "https://thetankguide.com/#organization",
  "name": "FishKeepingLifeCo",
  "alternateName": "The Tank Guide",
  "url": "https://thetankguide.com",
  "addressCountry": "US",
  "addressRegion": "NY",
  "logo": "https://thetankguide.com/logo.png",
  "image": "https://thetankguide.com/logo.png",
  "slogan": "Educational Aquarium Books & Tools",
  "description": "FishKeepingLifeCo publishes educational aquarium books and interactive online tools like The Tank Guide to help beginners and hobbyists set up, stock, and maintain thriving aquariums.",
  "brand": {
    "@type": "Brand",
    "name": "The Tank Guide"
  },
  "foundingDate": "2025-09-12",
  "publishingPrinciples": "https://thetankguide.com/about.html",
  "areaServed": ["United States", "New York"],
  "knowsAbout": [
    "Aquariums",
    "Fishkeeping",
    "Nitrogen Cycle",
    "Freshwater Aquariums",
    "Planted Tanks",
    "Beginner Aquarium Setup",
    "Water Parameters",
    "Aquarium Cycling"
  ],
  "contactPoint": [
    {
      "@type": "ContactPoint",
      "contactType": "customer support",
      "email": "info@thetankguide.com",
      "availableLanguage": ["en"]
    }
  ],
  "sameAs": [
    "https://www.instagram.com/fishkeepinglifeco/",
    "https://www.tiktok.com/@fishkeepinglifeco",
    "https://www.youtube.com/@fishkeepinglifeco",
    "https://amazon.com/author/fishkeepinglifeco",
    "https://www.facebook.com/fishkeepinglifeco"
  ]
}
  </script>
</head>
<body class="page-background">

  <!-- HERO -->
  <header class="hero">
    <div class="wrap">
      <!-- Brand -->
      <div class="site-brand">
        <h1 class="brand-name">The Tank Guide</h1>
        <div class="brand-sub">a product of <strong>FishKeepingLifeCo</strong></div>
        <p class="tagline" id="hero-blurb">Smart tools and guides to plan, stock, and set up your aquarium — all in one place.</p>
      </div>

      <!-- Launchpad -->
      <section id="features" aria-labelledby="features-title">
        <h2 id="features-title" class="visually-hidden">Tools &amp; Sections</h2>
        <div class="features-grid">
          <article class="card" aria-labelledby="card-stocking-title">
            <h3 id="card-stocking-title">Stocking Advisor</h3>
            <p>Smart stocking made simple — plan a thriving community with confidence.</p>
            <div class="actions"><a class="btn" href="/stocking.html" aria-label="Open Stocking Advisor tool">Launch</a></div>
          </article>

          <article class="card" aria-labelledby="card-gear-title">
            <h3 id="card-gear-title">Gear</h3>
            <p>The gear you need, matched to your tank and goals.</p>
            <div class="actions"><a class="btn" href="/gear.html" aria-label="Open Gear recommendations">Launch</a></div>
          </article>

          <article class="card" aria-labelledby="card-cycling-title">
            <h3 id="card-cycling-title">Cycling Coach</h3>
            <p>Master the nitrogen cycle with step-by-step guidance.</p>
            <div class="actions"><a class="btn" href="/params.html" aria-label="Open Cycling Coach tool">Launch</a></div>
          </article>

          <article class="card" aria-labelledby="card-media-title">
            <h3 id="card-media-title">Media</h3>
            <p>Watch • Read • Explore — videos and blogs for every aquarist.</p>
            <div class="actions"><a class="btn" href="/media.html" aria-label="Discover Media resources">Discover</a></div>
          </article>

          <article class="card" aria-labelledby="card-about-title">
            <h3 id="card-about-title">About</h3>
            <p>
              Learn who we are, our approach to guides and tools, and what’s next for The Tank Guide.
            </p>
            <div class="actions">
              <a class="btn" href="/about.html" aria-label="Open About page">Learn more</a>
            </div>
          </article>

          <article class="card" aria-labelledby="card-contact-title">
            <h3 id="card-contact-title">Contact &amp; Feedback</h3>
            <p>
              Questions, ideas, or spot a logic issue? Recommend a fish, suggest a product to review, or share your insights.
              We appreciate all feedback and information as we continue improving The Tank Guide.
            </p>
            <div class="actions">
              <a class="btn" href="/contact-feedback.html" aria-label="Open Contact &amp; Feedback form">Contact Us</a>
            </div>
          </article>
        </div>
      </section>
    </div>
  </header>

  <!-- SEO Intro (blurb, sits above footer) -->
<section class="seo-intro">
  <div class="wrap">
    <p>Welcome to <strong>The Tank Guide</strong>, your trusted resource for aquarium care. Whether you’re setting up your first fish tank or fine-tuning a planted community aquarium, we make the process simple and enjoyable. Our fishkeeping guides help you build confidence while you plan every stage.</p>
    <p>Our free tools include the <strong>Aquarium Stocking Advisor</strong>, <strong>Cycling Coach</strong>, and <strong>Gear Guide</strong> — each designed to give hobbyists clear answers without the confusion.</p>
    <p>Whether you keep bettas, tetras, shrimp, or snails, The Tank Guide helps you plan, stock, and maintain a thriving aquarium with confidence.</p>
  </div>
</section>

<div id="site-footer"></div>
<script>
  (async () => {
    const host = document.getElementById('site-footer');
    if (!host) return;
    const res = await fetch('footer.html?v=1.0.8', { cache: 'no-cache' });
    host.outerHTML = await res.text();
  })();
</script>
<!-- Load data and logic with updated version for cache busting -->
<script src="js/fish-data.js?v=1.0.3"></script>
<script type="module" src="js/modules/app.js?v=1.0.3"></script>
<style>
  /* TTG Popup Theme v1 — High-Contrast Minimal (scoped to #ttg-howitworks) */
  .ttg-visually-hidden{position:absolute!important;left:-9999px!important;top:auto!important;width:1px!important;height:1px!important;overflow:hidden!important}

  /* Inline (i) — crisp baseline, subtle pop, better tap target via invisible hitbox */
  .ttg-info-btn--inline{
    position:relative;
    display:inline-flex;align-items:center;justify-content:center;
    width:20px;height:20px;           /* slightly tighter */
    margin-left:.35rem;
    vertical-align:baseline;
    transform:translateY(1px);        /* tiny nudge for baseline */
    border-radius:999px;
    border:1px solid rgba(255,255,255,.22);
    background:linear-gradient(180deg,#1a1a1a,#0f0f0f);
    color:#f2f2f2;
    font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
    letter-spacing:.2px;
    cursor:pointer;
    box-shadow:
      0 0 0 1px rgba(255,255,255,.14),    /* subtle outer ring */
      inset 0 1px 0 rgba(255,255,255,.06);/* inner highlight */
  }
  /* Larger invisible hit area for mobile without changing visual size */
  .ttg-info-btn--inline::after{
    content:""; position:absolute; inset:-10px; border-radius:999px;
  }
  .ttg-info-btn--inline:hover{
    color:#ffffff;
    border-color:rgba(255,255,255,.32);
    box-shadow:
      0 0 0 1px rgba(155,220,255,.28),
      inset 0 1px 0 rgba(255,255,255,.08);
  }
  .ttg-info-btn--inline:focus{ outline:2px solid #9bdcff; outline-offset:2px; }
  .ttg-info-btn--inline:active{ transform:translateY(2px); }

  /* Under-hero "How it works" — TEXT ONLY (hard reset vs global button styles) */
  .ttg-howitworks-link{
    all: unset;                 /* wipe inherited button styles */
    display: inline;            /* no block box, no pill */
    cursor: pointer;
    margin-left: 0; margin-right: 0;
    /* Typography */
    font: inherit;
    font-size: .95rem;
    line-height: 1;
    /* Link look */
    text-decoration: underline;
    text-underline-offset: 2px;
  }
  .ttg-howitworks-link:hover{ opacity: .9; }
  .ttg-howitworks-link:focus{ outline: 2px solid currentColor; outline-offset: 2px; }
  /* tighten spacing under hero blurb */
  .ttg-howitworks-link-wrap{ margin-top: .35rem; }

  /* Overlay + Dialog */
  #ttg-howitworks .ttg-overlay{
    position:fixed;inset:0;display:none;align-items:center;justify-content:center;z-index:9999;
    background:rgba(0,0,0,.5);backdrop-filter:blur(2px);-webkit-backdrop-filter:blur(2px)
  }
  #ttg-howitworks .ttg-dialog{
    background:#0b0b0b;color:#f4f4f4;width:calc(100% - 2rem);max-width:560px;
    border:1px solid rgba(255,255,255,.14);border-radius:14px;box-shadow:0 10px 30px rgba(0,0,0,.35);
    padding:1.25rem 1.25rem 1rem;position:relative
  }

  /* Motion (respect reduced motion) */
  @media (prefers-reduced-motion:no-preference){
    #ttg-howitworks .ttg-overlay[data-state="open"] .ttg-dialog{transform:translateY(0);opacity:1;transition:transform 220ms ease,opacity 220ms ease}
    #ttg-howitworks .ttg-overlay[data-state="closed"] .ttg-dialog{transform:translateY(10px);opacity:0;transition:transform 140ms ease,opacity 140ms ease}
  }

  /* Mobile bottom sheet */
  @media (max-width:600px){
    #ttg-howitworks .ttg-overlay{align-items:flex-end}
    #ttg-howitworks .ttg-dialog{width:100%;max-width:none;border-radius:16px 16px 0 0;padding-bottom:env(safe-area-inset-bottom,16px)}
    .ttg-info-btn--inline{ width:20px;height:20px;transform:translateY(1px); }
  }

  #ttg-howitworks .ttg-title{margin:0 2rem .75rem 0;font-size:1.35rem;line-height:1.2;font-weight:800}
  #ttg-howitworks .ttg-close{
    position:absolute;top:10px;right:10px;border:none;background:transparent;color:inherit;font-size:1.25rem;line-height:1;cursor:pointer
  }
  #ttg-howitworks .ttg-close:focus{outline:2px solid currentColor;outline-offset:2px}

  #ttg-howitworks .ttg-list{margin:.25rem 0 .75rem 1.15rem;padding:0}
  #ttg-howitworks .ttg-list li{margin:.4rem 0}
  #ttg-howitworks .ttg-list a{color:#9bdcff;text-decoration:underline;text-underline-offset:2px}
  #ttg-howitworks .ttg-footnote{margin-top:.75rem;font-size:.95rem;color:#d7d7d7}
  #ttg-howitworks .ttg-footnote a{color:#9bdcff}

  #ttg-howitworks .ttg-actions{margin-top:1rem;display:flex;justify-content:flex-end}
  #ttg-howitworks .ttg-primary{
    border:none;background:#2279b5;color:#fff;padding:.6rem 1rem;border-radius:8px;font-weight:700;cursor:pointer;min-height:44px
  }
  #ttg-howitworks .ttg-primary:focus{outline:2px solid #9bdcff;outline-offset:2px}

  /* Show helper */
  #ttg-howitworks .ttg-overlay[aria-hidden="false"]{display:flex}
</style>

<!-- TTG How It Works (scoped) -->
<div id="ttg-howitworks">
  <div class="ttg-overlay" aria-hidden="true" data-state="closed">
    <div class="ttg-dialog" role="dialog" aria-modal="true" aria-labelledby="ttg-howitworks-title" aria-describedby="ttg-howitworks-desc" tabindex="-1">
      <button class="ttg-close" type="button" aria-label="Close">×</button>
      <h2 id="ttg-howitworks-title" class="ttg-title">How The Tank Guide Works</h2>
      <div id="ttg-howitworks-desc">
        <ol class="ttg-list">
          <li><strong>Plan what you keep in the <a href="/stocking.html">Stocking Advisor</a>.</strong><br/>Start with your ideas — we’ll help check if the fish are compatible.</li>
          <li><strong>Gear up in the <a href="/gear.html">Aquarium Gear Guide</a>.</strong><br/>Find the right equipment for the tank you’re building.</li>
          <li><strong>Get your water ready with the <a href="/params.html">Cycling Coach</a>.</strong><br/>Build a healthy environment for your tank.</li>
        </ol>
        <div class="ttg-footnote">Prefer reading or videos? Explore guides and videos in the <a href="/media.html">Media Hub</a>.</div>
      </div>
      <div class="ttg-actions">
        <button class="ttg-primary" type="button">Close</button>
      </div>
    </div>
  </div>
</div>

<script>
/* TTG How It Works — inline (i) button near title + subtle link; accessible modal */
(function(){
  const overlay = document.querySelector('#ttg-howitworks .ttg-overlay');
  const dialog  = document.querySelector('#ttg-howitworks .ttg-dialog');
  const btnClose= document.querySelector('#ttg-howitworks .ttg-close');
  const btnPrimary = document.querySelector('#ttg-howitworks .ttg-primary');

  // 1) Ensure an inline (i) button sits INSIDE the main H1 (after "The Tank Guide")
  (function attachInlineInfoButton(){
    const h1 = document.querySelector('h1');
    if(!h1) return;
    // Create once if not present
    if(!h1.querySelector('.ttg-info-btn--inline')){
      const btn = document.createElement('button');
      btn.type='button';
      btn.className='ttg-info-btn--inline';
      btn.setAttribute('aria-label','Open How it works');
      btn.title='How it works';
      btn.textContent='i';
      // Insert after the word "Guide" when possible; otherwise append at end
      // Try to split the first text node
      const tn = Array.from(h1.childNodes).find(n=>n.nodeType===Node.TEXT_NODE && n.textContent.includes('The Tank Guide'));
      if(tn){
        const parts = tn.textContent.split('The Tank Guide');
        tn.textContent = parts[0] + 'The Tank Guide';
        const rest = document.createTextNode(parts.slice(1).join('The Tank Guide'));
        h1.insertBefore(btn, tn.nextSibling);
        h1.insertBefore(rest, btn.nextSibling);
      } else {
        h1.appendChild(btn);
      }
      btn.addEventListener('click', ()=>openModal(btn));
    }
  })();

  // 2) Insert a subtle text-only "How it works" link directly under the hero blurb
  function insertUnderHero() {
    // Remove any previous button version so we don't inherit global styles
    document.getElementById('ttg-howitworks-opener')?.remove();

    const link = document.createElement('a');
    link.href = '#how-it-works';
    link.className = 'ttg-howitworks-link';
    link.id = 'ttg-howitworks-opener';
    link.setAttribute('role','button');
    link.setAttribute('aria-haspopup','dialog');
    link.textContent = 'How it works';

    // Wrap for controlled spacing (prevents full-width pill look)
    const wrap = document.createElement('div');
    wrap.className = 'ttg-howitworks-link-wrap';
    wrap.appendChild(link);

    // Preferred anchor: <p id="hero-blurb">
    let target = document.getElementById('hero-blurb');

    // If no explicit id, match the blurb text
    if (!target) {
      const candidate = Array.from((document.querySelector('main')||document.body).querySelectorAll('p'))
        .find(p => (p.textContent || '').trim().toLowerCase().startsWith('smart tools and guides to plan'));
      if (candidate) target = candidate;
    }

    // Fallback: first <p> inside <main>
    if (!target) {
      const main = document.querySelector('main') || document.body;
      target = main.querySelector('p');
    }

    if (target && target.parentNode) {
      target.parentNode.insertBefore(wrap, target.nextSibling);
    } else {
      (document.querySelector('main') || document.body).insertBefore(wrap, (document.querySelector('main') || document.body).firstChild);
    }

    // Click → open modal
    link.addEventListener('click', (e)=>{ e.preventDefault(); openModal(link); });
    return link;
  }
  const linkOpener = insertUnderHero();

  // Focus trap
  let focusables=[];
  function refreshFocusables(){
    focusables = dialog.querySelectorAll('a[href], button, input, textarea, select, [tabindex]:not([tabindex="-1"])');
  }
  function trapFocus(e){
    if(e.key!=='Tab'||focusables.length===0) return;
    const first=focusables[0], last=focusables[focusables.length-1];
    if(e.shiftKey && document.activeElement===first){ last.focus(); e.preventDefault(); }
    else if(!e.shiftKey && document.activeElement===last){ first.focus(); e.preventDefault(); }
  }

  let lastOpener=null;
  function openModal(opener){
    lastOpener = opener || document.activeElement;
    overlay.setAttribute('aria-hidden','false');
    overlay.setAttribute('data-state','open');
    refreshFocusables();
    dialog.focus({preventScroll:true});
    document.addEventListener('keydown', onKeydown);
    dialog.addEventListener('keydown', trapFocus);
  }
  function closeModal(){
    overlay.setAttribute('aria-hidden','true');
    overlay.setAttribute('data-state','closed');
    document.removeEventListener('keydown', onKeydown);
    dialog.removeEventListener('keydown', trapFocus);
    setTimeout(()=>{ if(overlay.getAttribute('aria-hidden')==='true'){ overlay.style.display='none'; overlay.style.display=''; } }, 150);
    if(lastOpener && lastOpener.focus) lastOpener.focus({preventScroll:true});
  }
  function onKeydown(e){ if(e.key==='Escape') closeModal(); }

  // Click handlers
  btnClose&&btnClose.addEventListener('click', closeModal);
  btnPrimary&&btnPrimary.addEventListener('click', closeModal);
  overlay&&overlay.addEventListener('click',(e)=>{ if(!dialog.contains(e.target)) closeModal(); });
  // Link opener added in insertUnderHero()
  
  // If inline (i) exists, its click handler was bound during creation
})();
</script>
</body>
</html>
