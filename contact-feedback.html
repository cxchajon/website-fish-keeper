<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Contact & Feedback | The Tank Guide</title>

  <!-- SEO / robots (as previously used) -->
  <link rel="canonical" href="https://thetankguide.com/contact-feedback.html" />
  <meta name="robots" content="index,follow,max-image-preview:large,max-snippet:-1,max-video-preview:-1" />
  <meta name="googlebot" content="index,follow" />
  <meta name="description" content="Contact The Tank Guide — recommend a fish, report logic issues, ask questions, suggest reviews, or share general ideas. We value your privacy." />
  <meta property="og:title" content="Contact & Feedback | The Tank Guide" />
  <meta property="og:site_name" content="The Tank Guide" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://thetankguide.com/contact-feedback.html" />
  <meta property="og:description" content="Recommend a fish, report logic issues, ask questions, suggest reviews, or share general ideas." />
  <meta name="twitter:card" content="summary" />

  <!-- Site styles / nav JS -->
  <link rel="stylesheet" href="css/style.css?v=1.0.9" />
  <script defer src="js/nav.js?v=1.0.9"></script>

  <style>
    :root{
      --background-dark:#0f1c2c;
      --background-light:#f4f7fb;
      --card-bg:#f9f9f6;
      --border-color:#c8ced6;
      --accordion-bg:#eef1f5;
      --checkbox-bg:#e5e9ef;
      --text:#1c2733;
      --accent:#2f8f83;
      --accent-focus:#38a3a0;
      --error:#c0392b;
      --btnA:#39b385; --btnB:#2e8a68; --btnAH:#2f9c74; --btnBH:#267256;
      --gap-xxs:6px; --gap-xs:8px; --gap-s:10px; --gap-m:16px; --gap-l:24px;
    }
    *{box-sizing:border-box}
    body{
      margin:0; color:var(--text);
      font-family: "Segoe UI","Helvetica Neue",Arial,sans-serif;
      background: linear-gradient(to bottom, var(--background-dark) 0%, var(--background-dark) 50%, var(--background-light) 100%);
      min-height:100vh;
    }
    a{color:inherit}

    /* --- layout --- */
    .page-wrapper{
      min-height:calc(100vh - 80px);
      display:flex; flex-direction:column; align-items:center;
      padding:40px 20px 80px;
    }
    .contact-card{
      width:100%; max-width:1000px;
      background:var(--card-bg);
      border-radius:18px;
      padding:48px 56px 56px;
      box-shadow:0 -18px 36px rgba(15,28,44,.35), 0 22px 40px rgba(15,28,44,.08);
    }
    @media (max-width:768px){
      .contact-card{padding:32px 24px 40px; box-shadow:0 12px 24px rgba(15,28,44,.18)}
    }
    h1{margin:0 0 28px; font-size:clamp(2.2rem,2.2vw + 1rem,3rem); font-weight:700; text-align:left}

    /* --- form base --- */
    form{display:flex; flex-direction:column}
    .field-group{display:flex; flex-direction:column; gap:6px; margin:0 0 var(--gap-m)}
    .subject-group{margin-bottom:0}
    label{font-weight:600; display:inline-flex; align-items:center; gap:6px}
    .required-asterisk{color:var(--error); font-weight:700}
    .required-note{margin:0; font-size:.85rem; color:var(--error)}

    input[type="text"],input[type="email"],input[type="url"],select,textarea{
      width:100%; padding:12px 14px; border-radius:10px; border:1px solid var(--border-color); background:#fff;
      font-size:1rem; color:var(--text);
      transition:border-color .18s ease, box-shadow .18s ease;
    }
    input[type="text"]:focus,input[type="email"]:focus,input[type="url"]:focus,textarea:focus{
      border-color:var(--accent-focus); box-shadow:0 0 0 3px rgba(56,163,160,.15); outline:none;
    }
    select:focus{outline:none}
    textarea{min-height:140px; resize:none}
    textarea::placeholder{color:rgba(28,39,51,.55)}

    .subject-wrapper{position:relative; display:flex; align-items:center}
    .subject-wrapper select{appearance:none; padding-right:44px}
    .chevron{position:absolute; right:16px; pointer-events:none; font-size:1.1rem; color:#9099a4}

    /* --- subject panels --- */
    .panel{border:2px solid #d3d9e1; border-radius:14px; background:var(--accordion-bg);
      padding:20px 20px 24px; margin:0; overflow:hidden;
      max-height:0; opacity:0; transition:max-height .45s ease, opacity .12s ease}
    .panel.active{margin-top:6px; max-height:1000px; opacity:1}
    .panel .field-group{margin:0 0 16px}

    /* --- spacing logic around Stay in touch --- */
    #feedbackForm:not(.has-subject) #stay-in-touch{ margin-top:6px }       /* when empty, hug subject */
    #feedbackForm.has-subject #stay-in-touch{ margin-top:10px }            /* when panel is open, small gap */

    /* --- stay in touch (bulletproof) --- */
    #stay-in-touch{
      background:var(--checkbox-bg); border-radius:14px; padding:18px 20px; margin-bottom:var(--gap-m);
    }
    #stay-in-touch *::before, #stay-in-touch *::after{content:none !important; display:none !important}
    #stay-in-touch .title{margin:0 0 8px; font-weight:600}
    /* Grid: checkbox | pill | sentence */
    #stay-in-touch .row{
      display:grid; grid-template-columns:auto auto 1fr; align-items:center; column-gap:10px;
      margin:8px 0; background:transparent !important;
    }
    #stay-in-touch .row input[type="checkbox"]{margin:0; align-self:center}
    #stay-in-touch .pill{
      display:inline-grid; place-items:center;
      white-space:nowrap; min-width:28px; padding:2px 10px; border-radius:999px;
      font-size:.85rem; line-height:1.4; color:#1c2733; background:#d3d9e1;
    }
    #stay-in-touch .pill.yes{background:#39b385; color:#fff}
    #stay-in-touch .text{
      display:block; background:transparent !important; border:0 !important; border-radius:0 !important; min-width:0;
    }
    #stay-in-touch .note{margin:8px 0 0; font-size:.88rem; line-height:1.5}
    #stay-in-touch a{text-decoration:underline}

    /* --- actions --- */
    .actions{display:flex; justify-content:flex-end; margin-top:var(--gap-m)}
    .actions button{
      padding:12px 32px; font-size:1rem; border-radius:12px; border:none; cursor:pointer; color:#fff; font-weight:600;
      background-image:linear-gradient(135deg,var(--btnA),var(--btnB));
      transition:background-image .16s ease, box-shadow .16s ease
    }
    .actions button:hover,.actions button:focus{background-image:linear-gradient(135deg,var(--btnAH),var(--btnBH))}
    .actions button:focus{outline:3px solid rgba(47,156,116,.35)}
    @media (max-width:600px){ .actions{justify-content:center} .actions button{width:100%} }

    .divider{margin:24px 0 16px; border:0; border-top:1px solid #d7dce3}
    .form-status{text-align:center; font-size:1.02rem; font-weight:600; min-height:1.2em; color:var(--accent)}
    .form-status.error{color:var(--error)}

    /* --- captcha --- */
    .captcha-wrapper{display:flex; flex-direction:column; gap:6px}
    .captcha-error{display:none; color:var(--error); font-size:.9rem}
    .captcha-error.visible{display:block}
    .hidden{display:none !important}
  </style>
  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "@id": "https://thetankguide.com/#organization",
  "name": "FishKeepingLifeCo",
  "alternateName": "The Tank Guide",
  "url": "https://thetankguide.com",
  "logo": "https://thetankguide.com/logo.png",
  "image": "https://thetankguide.com/logo.png",
  "slogan": "Educational Aquarium Books & Tools",
  "description": "FishKeepingLifeCo publishes educational aquarium books and interactive online tools like The Tank Guide to help beginners and hobbyists set up, stock, and maintain thriving aquariums.",
  "brand": {
    "@type": "Brand",
    "name": "The Tank Guide"
  },
  "foundingDate": "2025-09-12",
  "publishingPrinciples": "https://thetankguide.com/about.html",
  "areaServed": ["United States", "New York"],
  "knowsAbout": [
    "Aquariums",
    "Fishkeeping",
    "Nitrogen Cycle",
    "Freshwater Aquariums",
    "Planted Tanks",
    "Beginner Aquarium Setup",
    "Water Parameters",
    "Aquarium Cycling"
  ],
  "contactPoint": [
    {
      "@type": "ContactPoint",
      "contactType": "customer support",
      "email": "info@thetankguide.com",
      "availableLanguage": ["en"]
    }
  ],
  "sameAs": [
    "https://www.instagram.com/fishkeepinglifeco/",
    "https://www.tiktok.com/@fishkeepinglifeco",
    "https://www.youtube.com/@fishkeepinglifeco",
    "https://amazon.com/author/fishkeepinglifeco",
    "https://www.facebook.com/fishkeepinglifeco"
  ]
}
  </script>
</head>
<body>
  <!-- NAV (uniform) -->
  <header id="global-nav">
    <div class="inner">
      <button id="ttg-nav-open" class="hamburger" type="button" aria-controls="ttg-drawer" aria-expanded="false" aria-label="Open menu" data-nav="hamburger">
        <span class="hamburger__bars" aria-hidden="true"></span><span class="visually-hidden">Open menu</span>
      </button>
      <a class="site-brand brand" href="index.html" aria-label="The Tank Guide — Home">
        <span class="site-brand__title">The Tank Guide</span>
        <span class="site-brand__subtitle">a product of <span class="site-brand__em">FishKeepingLifeCo</span></span>
      </a>
      <nav class="site-links links" aria-label="Primary">
        <a href="index.html" class="nav__link">Home</a>
        <a href="stocking.html" class="nav__link">Stocking Advisor</a>
        <a href="gear.html" class="nav__link">Gear</a>
        <a href="params.html" class="nav__link">Cycling Coach</a>
        <a href="media.html" class="nav__link">Media</a>
        <a href="contact-feedback.html" class="nav__link">Contact &amp; Feedback</a>
        <a href="about.html" class="nav__link">About</a>
      </nav>
    </div>
    <aside id="ttg-drawer" aria-label="Site" data-nav="drawer" aria-hidden="true">
      <div class="drawer-head">
        <span class="drawer-title">The Tank Guide</span>
        <button id="ttg-nav-close" class="drawer-close" type="button" aria-label="Close menu"><span aria-hidden="true">×</span></button>
      </div>
      <nav class="drawer-links" aria-label="Mobile">
        <a href="index.html" class="nav__link">Home</a>
        <a href="stocking.html" class="nav__link">Stocking Advisor</a>
        <a href="gear.html" class="nav__link">Gear</a>
        <a href="params.html" class="nav__link">Cycling Coach</a>
        <a href="media.html" class="nav__link">Media</a>
        <a href="contact-feedback.html" class="nav__link">Feedback</a>
        <a href="about.html" class="nav__link">About</a>
      </nav>
    </aside>
    <div id="ttg-overlay" data-nav="overlay" aria-hidden="true"></div>
  </header>

  <main class="page-wrapper">
    <section class="contact-card">
      <h1>Contact &amp; Feedback</h1>

      <!-- Replace with your Formspree endpoint -->
      <form id="feedbackForm" method="POST" action="https://formspree.io/f/XXXXXXXX">
        <div class="field-group">
          <label for="name">Name <span class="required-asterisk">*</span></label>
          <p class="required-note">*Required</p>
          <input type="text" id="name" name="name" autocomplete="name" required />
        </div>

        <div class="field-group">
          <label for="email">Email <span class="required-asterisk">*</span></label>
          <p class="required-note">*Required</p>
          <input type="email" id="email" name="email" autocomplete="email" required />
        </div>

        <div class="field-group subject-group">
          <label for="subject">Subject <span class="required-asterisk">*</span></label>
          <p class="required-note">*Required</p>
          <div class="subject-wrapper">
            <select id="subject" name="subject" required>
              <option value="">Select one…</option>
              <option value="Recommend a Fish">Recommend a Fish</option>
              <option value="Logic Issues">Logic Issues</option>
              <option value="Questions?">Questions?</option>
              <option value="Product Reviews">Product Reviews</option>
              <option value="General (YouTube, article ideas, events, forums, anything related to aquariums)">General (YouTube, article ideas, events, forums, anything related to aquariums)</option>
            </select>
            <span class="chevron" aria-hidden="true">⌄</span>
          </div>
        </div>

        <!-- PANELS -->
        <div class="panel" id="panel-fish">
          <div class="field-group">
            <label for="fishName">Fish Name <span class="required-asterisk">*</span></label>
            <p class="required-note">*Required</p>
            <input type="text" id="fishName" name="fishName" />
            <p class="inline-error hidden" id="fishNameError">Please provide a fish name.</p>
          </div>
          <div class="field-group">
            <label for="scientificName">Scientific Name</label>
            <input type="text" id="scientificName" name="scientificName" />
          </div>
          <div class="field-group">
            <label for="phTempRange">pH / Temp Range</label>
            <input type="text" id="phTempRange" name="phTempRange" />
          </div>
          <div class="field-group">
            <label for="fishNotes">Other Notes</label>
            <textarea id="fishNotes" name="fishNotes"></textarea>
          </div>
        </div>

        <div class="panel" id="panel-logic">
          <div class="field-group">
            <label for="logicPage">Page Selector</label>
            <select id="logicPage" name="logicPage">
              <option value="Stocking Advisor">Stocking Advisor</option>
              <option value="Cycling Coach">Cycling Coach</option>
              <option value="Parameters">Parameters</option>
              <option value="Media">Media</option>
              <option value="Contact &amp; Feedback">Contact &amp; Feedback</option>
            </select>
          </div>
          <div class="field-group">
            <label for="logicIssue">Describe the Issue</label>
            <textarea id="logicIssue" name="logicIssue"></textarea>
          </div>
        </div>

        <div class="panel" id="panel-questions">
          <div class="field-group">
            <label for="generalQuestion">Your Question</label>
            <textarea id="generalQuestion" name="generalQuestion" placeholder="Ask us anything — we’ll get back to you."></textarea>
          </div>
        </div>

        <div class="panel" id="panel-reviews">
          <div class="field-group">
            <label for="productName">Product Name <span class="required-asterisk">*</span></label>
            <p class="required-note">*Required</p>
            <input type="text" id="productName" name="productName" />
            <p class="inline-error hidden" id="productNameError">Please provide the product name.</p>
          </div>
          <div class="field-group">
            <label for="productLink">Product Link</label>
            <input type="url" id="productLink" name="productLink" />
          </div>
          <div class="field-group">
            <label for="productCoverage">What would you like us to cover?</label>
            <textarea id="productCoverage" name="productCoverage" placeholder="Features, pros/cons, ease of use, etc."></textarea>
          </div>
        </div>

        <div class="panel" id="panel-general">
          <div class="field-group">
            <label for="generalIdeas">Share Your Ideas</label>
            <textarea id="generalIdeas" name="generalIdeas" placeholder="Share your idea — YouTube, article, event, forum, or anything aquarium related."></textarea>
          </div>
        </div>

        <!-- STAY IN TOUCH (grid, no ghosts) -->
        <section id="stay-in-touch">
          <h3 class="title">Stay in touch</h3>

          <label class="row" for="consent">
            <input type="checkbox" id="consent" name="consent" required />
            <span class="pill" id="pill_consent" aria-live="polite" aria-atomic="true">No</span>
            <span class="text">I agree that The Tank Guide may contact me about my submission.</span>
          </label>

          <label class="row" for="newsletter">
            <input type="checkbox" id="newsletter" name="newsletter" />
            <span class="pill" id="pill_newsletter" aria-live="polite" aria-atomic="true">No</span>
            <span class="text">Yes, I’d like to receive The Tank Guide newsletter/updates.</span>
          </label>

          <p class="note">
            We value your privacy. Your information will never be sold to third parties.
            We’ll use it only to reply to your message and—if you opt in—to send occasional newsletters.
            You can unsubscribe anytime. See our <a href="https://thetankguide.com/privacy.html">Privacy Policy</a>.
          </p>
        </section>

        <!-- CAPTCHA + hidden fields -->
        <div class="captcha-wrapper">
          <div class="g-recaptcha" data-sitekey="YOUR_RECAPTCHA_SITE_KEY"></div>
          <p class="captcha-error" id="captchaError">Please confirm you’re not a robot.</p>
        </div>

        <input type="text" id="honeypot" name="honeypot" class="hidden" autocomplete="off" tabindex="-1" aria-hidden="true" />
        <input type="hidden" name="can_contact" id="can_contact_hidden" value="No" />
        <input type="hidden" name="newsletter_opt_in" id="newsletter_hidden" value="No" />
        <input type="hidden" name="_subject" id="hiddenSubject" />
        <input type="hidden" name="timestamp" id="timestamp" />

        <div class="actions"><button type="submit" id="submitButton">Send</button></div>
        <hr class="divider" />
        <p class="form-status" id="formStatus" aria-live="polite"></p>
      </form>
    </section>
  </main>

  <!-- FOOTER (uniform) -->
  <footer class="site-footer">
    <div class="inner">
      <p>&copy; <span id="year"></span> The Tank Guide · <a href="privacy.html">Privacy</a> · <a href="about.html">About</a></p>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>
  <script>
    // Year in footer
    document.getElementById('year').textContent = new Date().getFullYear();

    // Initialize nav if available
    document.addEventListener('DOMContentLoaded', () => { window.ttgInitNav?.(); });

    (function(){
      const form = document.getElementById('feedbackForm');
      const subjectSelect = document.getElementById('subject');
      const hiddenSubject = document.getElementById('hiddenSubject');
      const timestampField = document.getElementById('timestamp');
      const formStatus = document.getElementById('formStatus');
      const captchaError = document.getElementById('captchaError');

      const panels = {
        'Recommend a Fish': document.getElementById('panel-fish'),
        'Logic Issues': document.getElementById('panel-logic'),
        'Questions?': document.getElementById('panel-questions'),
        'Product Reviews': document.getElementById('panel-reviews'),
        'General (YouTube, article ideas, events, forums, anything related to aquariums)': document.getElementById('panel-general')
      };

      const fishNameInput = document.getElementById('fishName');
      const fishNameError = document.getElementById('fishNameError');
      const productNameInput = document.getElementById('productName');
      const productNameError = document.getElementById('productNameError');

      function setHasSubject(flag){ form.classList.toggle('has-subject', !!flag); }
      function closeAll(){ Object.values(panels).forEach(p=>p.classList.remove('active')); }
      function openPanel(val){ closeAll(); if(panels[val]) panels[val].classList.add('active'); }

      subjectSelect.addEventListener('change', ()=>{
        const v = subjectSelect.value;
        openPanel(v);
        hiddenSubject.value = v ? `[Contact & Feedback] – ${v}` : '';
        setHasSubject(!!v);
      });

      function validateDynamic(){
        let ok = true;
        if (subjectSelect.value === 'Recommend a Fish'){
          if(!fishNameInput.value.trim()){ fishNameError.classList.remove('hidden'); ok = false; }
          else fishNameError.classList.add('hidden');
        } else fishNameError.classList.add('hidden');

        if (subjectSelect.value === 'Product Reviews'){
          if(!productNameInput.value.trim()){ productNameError.classList.remove('hidden'); ok = false; }
          else productNameError.classList.add('hidden');
        } else productNameError.classList.add('hidden');

        return ok;
      }

      // Auto-grow textareas
      document.querySelectorAll('textarea').forEach(t=>{
        const grow=()=>{ t.style.height='auto'; t.style.height=(t.scrollHeight+2)+'px'; };
        grow(); t.addEventListener('input',grow);
      });

      // Stay in touch sync
      const consent = document.getElementById('consent');
      const newsletter = document.getElementById('newsletter');
      const pillConsent = document.getElementById('pill_consent');
      const pillNews = document.getElementById('pill_newsletter');
      const hidConsent = document.getElementById('can_contact_hidden');
      const hidNews = document.getElementById('newsletter_hidden');

      function setPill(pill,on){ pill.textContent = on?'Yes':'No'; pill.classList.toggle('yes',on); }
      function setHidden(i,on){ i.value = on?'Yes':'No'; }
      function syncPills(){
        setPill(pillConsent, consent.checked);
        setPill(pillNews, newsletter.checked);
        setHidden(hidConsent, consent.checked);
        setHidden(hidNews, newsletter.checked);
      }
      consent.addEventListener('change', ()=>{
        if(!consent.checked && newsletter.checked) newsletter.checked = false;
        syncPills();
      });
      newsletter.addEventListener('change', ()=>{
        if(newsletter.checked && !consent.checked) consent.checked = true;
        syncPills();
      });
      syncPills();

      // Submit
      form.addEventListener('submit', async (e)=>{
        e.preventDefault();
        formStatus.textContent=''; formStatus.classList.remove('error');

        if(!validateDynamic()) return;

        if(!subjectSelect.value){ subjectSelect.focus(); return; }

        // Honeypot
        if(document.getElementById('honeypot').value) return;

        // Captcha
        const token = grecaptcha.getResponse?.() || '';
        if(!token){ captchaError.classList.add('visible'); return; }
        captchaError.classList.remove('visible');

        // Stamp
        timestampField.value = new Date().toLocaleString();

        const fd = new FormData(form);
        try{
          const r = await fetch(form.action, { method:'POST', body:fd, headers:{Accept:'application/json'} });
          if(!r.ok) throw new Error('Network');
          formStatus.textContent='Thank you — message sent. Please check your inbox (and spam folder just in case) for our reply.';
          form.reset(); closeAll(); setHasSubject(false); syncPills(); hiddenSubject.value=''; timestampField.value='';
          grecaptcha.reset?.();
        }catch(err){
          formStatus.textContent='Sorry — your message could not be sent. Please try again later.';
          formStatus.classList.add('error');
        }
      });
    })();
  </script>
</body>
</html>
