<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="robots" content="noindex,nofollow" />
  <title>Aquarium Cycling Coach &amp; Nitrogen Cycle Tracker | The Tank Guide</title>
  <meta
    name="description"
    content="Use the Cycling Coach to log ammonia, nitrite, nitrate, and temperature results, unlock the 24-hour challenge checklist, and confirm your aquarium is safe for new fish."
  />
  <link rel="canonical" href="https://thetankguide.com/staging/cycling-coach/" />
  <link rel="icon" href="/favicon.ico" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="The Tank Guide" />
  <meta property="og:title" content="Aquarium Cycling Coach &amp; Nitrogen Cycle Tracker | The Tank Guide" />
  <meta
    property="og:description"
    content="Stage your aquarium with the Cycling Coach: track test inputs, read AI-ready results, and pass the 24-hour challenge before adding fish."
  />
  <meta property="og:url" content="https://thetankguide.com/staging/cycling-coach/" />
  <meta
    property="og:image"
    content="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1200' height='630'><rect width='100%' height='100%' fill='%230a0e1a'/><text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' font-size='48' fill='%23ffffff'>Cycling Coach</text></svg>"
  />
  <meta property="og:image:alt" content="Cycling Coach staging preview title graphic." />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@fishkeepinglife" />
  <meta name="twitter:title" content="Aquarium Cycling Coach &amp; Nitrogen Cycle Tracker | The Tank Guide" />
  <meta
    name="twitter:description"
    content="Follow the Cycling Coach staging flow, record readings, and check the 24-hour challenge for a fish-ready aquarium."
  />
  <meta
    name="twitter:image"
    content="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1200' height='630'><rect width='100%' height='100%' fill='%230a0e1a'/><text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' font-size='48' fill='%23ffffff'>Cycling Coach</text></svg>"
  />
  <meta name="twitter:image:alt" content="Cycling Coach staging preview title graphic." />
  <link rel="stylesheet" href="/css/style.css?v=1.0.9" />
  <link rel="stylesheet" href="/assets/css/utilities.css?v=2025-11-07" />
  <script defer src="/js/nav.js?v=1.1.0"></script>
  <style>
    :root {
      --cycling-bg: linear-gradient(165deg, #061525 0%, #0a314a 55%, #0f4b4c 100%);
      --cycling-panel: rgba(11, 28, 44, 0.78);
      --cycling-panel-border: rgba(255, 255, 255, 0.12);
      --cycling-text: rgba(232, 244, 255, 0.94);
      --cycling-muted: rgba(216, 235, 255, 0.72);
    }

    body.page--cycling-coach {
      min-height: 100vh;
      background: var(--cycling-bg);
      color: var(--cycling-text);
      display: flex;
      flex-direction: column;
    }

    .skip-link {
      position: absolute;
      top: -40px;
      left: 16px;
      padding: 10px 16px;
      background: rgba(9, 19, 36, 0.86);
      color: #ffffff;
      text-decoration: none;
      border-radius: 8px;
      font-weight: 600;
      transition: top 0.25s ease;
      z-index: 9999;
    }

    .skip-link:focus {
      top: 12px;
    }

    main {
      flex: 1;
      padding: clamp(48px, 8vw, 92px) 20px clamp(84px, 12vw, 140px);
    }

    .stage-wrap {
      width: min(1080px, 100%);
      margin: 0 auto;
      display: grid;
      gap: clamp(32px, 6vw, 64px);
    }

    .stage-hero {
      display: grid;
      gap: 16px;
      text-align: left;
    }

    .stage-hero h1 {
      margin: 0;
      font-size: clamp(2.15rem, 4vw, 3rem);
      line-height: 1.1;
      letter-spacing: -0.01em;
      color: #ffffff;
    }

    .stage-hero p {
      margin: 0;
      font-size: clamp(1.05rem, 1.6vw, 1.25rem);
      color: var(--cycling-muted);
      max-width: 65ch;
    }

    .panel {
      background: var(--cycling-panel);
      border: 1px solid var(--cycling-panel-border);
      border-radius: 22px;
      padding: clamp(20px, 5vw, 36px);
      box-shadow: 0 24px 60px rgba(4, 14, 24, 0.35);
    }

    .panel h2 {
      margin-top: 0;
      font-size: clamp(1.6rem, 2.8vw, 2.1rem);
      color: #ffffff;
    }

    .panel p,
    .panel li,
    .panel dt,
    .panel dd {
      color: var(--cycling-muted);
      line-height: 1.7;
    }

    .inputs-grid {
      display: grid;
      gap: 18px;
    }

    .input-group {
      display: grid;
      gap: 8px;
    }

    .cc-results-head {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      flex-wrap: wrap;
    }

    .cc-results-head .card__title {
      margin: 0;
    }

    .label-row {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .label-row label {
      font-weight: 700;
      font-size: 1.05rem;
      letter-spacing: -0.005em;
    }

    .input-row {
      display: grid;
      gap: 12px;
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
    }

    .cc-advanced {
      display: grid;
      gap: 0.75rem;
    }

    .cc-advanced .field {
      display: grid;
      gap: 0.35rem;
    }

    .cc-advanced input[type="text"],
    .cc-advanced input[type="number"] {
      width: 100%;
    }

    .cc-advanced .temp-toggle {
      display: grid;
      grid-template-columns: 1fr auto;
      gap: 0.35rem;
      align-items: center;
    }

    label span {
      display: block;
      font-weight: 600;
      color: #ffffff;
      margin-bottom: 4px;
    }

    input[type="number"],
    input[type="date"],
    select {
      width: 100%;
      padding: 10px 12px;
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, 0.18);
      background: rgba(6, 20, 34, 0.7);
      color: #e9f9ff;
      font-size: 1rem;
    }

    .form-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      align-items: center;
    }

    .form-grid + .form-actions {
      margin-top: 12px;
    }

    .challenge-header {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .challenge-grid .field {
      margin-bottom: 12px;
    }

    .cc-faqs {
      display: grid;
      gap: 0.75rem;
    }

    .cc-faqs .card__header {
      margin-bottom: 0;
    }

    .cc-faqs .card__body {
      display: grid;
      gap: 0.5rem;
      margin: 0;
    }

    .cc-accordion {
      border: 1px solid rgba(255, 255, 255, 0.12);
      border-radius: 12px;
      background: rgba(15, 23, 42, 0.55);
      padding: 0.5rem 0.75rem;
    }

    .cc-accordion summary {
      cursor: pointer;
      font-weight: 600;
      list-style: none;
      outline: none;
      color: #ffffff;
      margin: 0;
    }

    .cc-accordion summary::-webkit-details-marker {
      display: none;
    }

    .cc-accordion summary:focus-visible {
      outline: 2px solid rgba(140, 196, 255, 0.85);
      outline-offset: 2px;
      border-radius: 6px;
    }

    .cc-accordion[open] {
      background: rgba(15, 23, 42, 0.7);
    }

    .cc-accordion-body {
      padding: 0.5rem 0.25rem 0.25rem;
      display: grid;
      gap: 0.5rem;
    }

    .cc-accordion-body p {
      margin: 0;
      color: var(--cycling-muted);
    }

    #challenge-check {
      margin-top: 12px;
    }

    .form-actions .btn,
    .form-actions .btn.btn--secondary {
      padding: 10px 18px;
      border-radius: 18px;
      font-size: 0.95rem;
    }

    .results-grid {
      display: grid;
      gap: 20px;
    }

    .result-card {
      background: rgba(6, 20, 34, 0.72);
      border-radius: 16px;
      border: 1px solid rgba(98, 225, 255, 0.24);
      padding: 18px;
    }

    .result-card h3 {
      margin: 0 0 8px;
      font-size: 1.1rem;
      color: #8befff;
    }

    .status-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 12px;
      border-radius: 999px;
      background: rgba(38, 210, 174, 0.18);
      color: #26d2ae;
      font-weight: 600;
      font-size: 0.9rem;
    }

    .challenge-steps {
      display: grid;
      gap: 14px;
      margin-top: 16px;
      padding-left: 20px;
    }

    details.advanced {
      background: rgba(5, 20, 36, 0.8);
      border-radius: 16px;
      border: 1px solid rgba(255, 255, 255, 0.18);
      padding: 16px;
    }

    details.advanced summary {
      cursor: pointer;
      font-weight: 700;
      color: #e1f7ff;
      outline: none;
    }

    details.advanced p {
      margin-top: 12px;
    }

    .how-to-list {
      display: grid;
      gap: 12px;
      padding-left: 20px;
    }

    .how-links {
      display: grid;
      gap: 10px;
      margin-top: 16px;
    }

    .how-links a {
      color: #76efff;
      font-weight: 700;
      text-decoration: none;
    }

    .how-links a:hover,
    .how-links a:focus-visible {
      text-decoration: underline;
    }

    #cycling-faq .qa {
      display: grid;
      gap: 6px;
    }

    #cycling-faq h3 {
      margin: 16px 0 4px;
      font-size: 1.1rem;
      color: #8befff;
    }

    .proto-legal {
      margin-top: clamp(36px, 8vw, 68px);
      text-align: center;
      font-size: 0.9rem;
      color: rgba(200, 224, 240, 0.72);
    }

    .proto-legal a {
      color: inherit;
      text-decoration: none;
      font-weight: 600;
    }

    .proto-legal a:hover,
    .proto-legal a:focus-visible {
      text-decoration: underline;
    }

    @media (max-width: 720px) {
      .stage-pill-group {
        flex-direction: column;
        align-items: flex-start;
      }

      .stage-pill {
        width: 100%;
        justify-content: center;
      }
    }
  </style>
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebPage",
      "@id": "https://thetankguide.com/staging/cycling-coach/#webpage",
      "url": "https://thetankguide.com/staging/cycling-coach/",
      "name": "Aquarium Cycling Coach & Nitrogen Cycle Tracker | The Tank Guide",
      "description": "Use the Cycling Coach to log ammonia, nitrite, nitrate, and temperature readings, unlock the 24-hour challenge, and confirm your aquarium is ready for fish.",
      "isPartOf": {
        "@type": "WebSite",
        "@id": "https://thetankguide.com/#website",
        "name": "The Tank Guide",
        "url": "https://thetankguide.com/"
      },
      "inLanguage": "en-US"
    }
  </script>
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "@id": "https://thetankguide.com/staging/cycling-coach/#breadcrumb",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Home",
          "item": "https://thetankguide.com/"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Cycling Coach",
          "item": "https://thetankguide.com/staging/cycling-coach/"
        }
      ]
    }
  </script>
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "@id": "https://thetankguide.com/staging/cycling-coach/#faq",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "What does the Cycling Coach track?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Cycling Coach logs ammonia, nitrite, nitrate, pH, and temperature so you can see how close your tank is to completing the nitrogen cycle."
          }
        },
        {
          "@type": "Question",
          "name": "How often should I test my aquarium during cycling?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Test daily until both ammonia and nitrite read 0 ppm after a 24-hour challenge dose; logging results in Cycling Coach helps highlight trends."
          }
        },
        {
          "@type": "Question",
          "name": "Can the Cycling Coach help with fish-in cycling?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes. The tool flags when to add water conditioner, partial water changes, or bacteria boosters to protect fish while bacteria establish."
          }
        },
        {
          "@type": "Question",
          "name": "What is the 24-hour challenge?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "It is a safety check where you add a measured dose of ammonia, then confirm ammonia and nitrite return to 0 ppm within 24 hours before adding fish."
          }
        },
        {
          "@type": "Question",
          "name": "Does Cycling Coach cover advanced metrics like toxic NH3?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "An optional advanced panel estimates un-ionized ammonia (NH3) based on temperature and pH so experienced keepers can gauge stress risks."
          }
        },
        {
          "@type": "Question",
          "name": "Where can I get more aquarium education?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Explore our guides in the media library for deep dives on cycling science and beginner-friendly how-tos."
          }
        }
      ]
    }
  </script>
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "HowTo",
      "@id": "https://thetankguide.com/staging/cycling-coach/#howto",
      "name": "24-Hour Challenge Readiness Test",
      "description": "Confirm your aquarium is ready for fish by completing the Cycling Coach 24-hour challenge steps.",
      "step": [
        {
          "@type": "HowToStep",
          "position": 1,
          "name": "Dose ammonia to 2 ppm",
          "itemListElement": {
            "@type": "HowToDirection",
            "text": "Add a precise ammonia source or fish food equivalent to reach 2 ppm, then record the value in Cycling Coach."
          }
        },
        {
          "@type": "HowToStep",
          "position": 2,
          "name": "Log the zero-hour readings",
          "itemListElement": {
            "@type": "HowToDirection",
            "text": "Enter ammonia, nitrite, nitrate, pH, and temperature immediately after dosing so the challenge timer begins."
          }
        },
        {
          "@type": "HowToStep",
          "position": 3,
          "name": "Retest at the 24-hour mark",
          "itemListElement": {
            "@type": "HowToDirection",
            "text": "After 24 hours, retest the same parameters and update Cycling Coach to compare against target thresholds."
          }
        },
        {
          "@type": "HowToStep",
          "position": 4,
          "name": "Review the readiness verdict",
          "itemListElement": {
            "@type": "HowToDirection",
            "text": "Confirm both ammonia and nitrite are 0 ppm and nitrate is rising. Cycling Coach will mark the tank fish-ready when all goals are met."
          }
        }
      ],
      "tool": [
        "Liquid test kit",
        "Thermometer",
        "Cycling Coach dashboard"
      ],
      "totalTime": "P1D"
    }
  </script>
  <script src="/assets/js/consent-mode.js" defer></script>
  <!--#include virtual="/includes/ga4.html" -->
  <!-- AdSense disabled on staging -->
  <!-- <script
    async
    src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9905718149811880"
    crossorigin="anonymous"></script> -->
  <script defer src="https://static.cloudflareinsights.com/beacon.min.js" data-cf-beacon='{"token": "YOUR_CLOUDFLARE_TOKEN"}'></script>
  <script async src="https://fundingchoicesmessages.google.com/i/pub-9905718149811880?ers=1"></script>
  <script>
    (function() {
      function signalGooglefcPresent() {
        if (!window.frames['googlefcPresent']) {
          if (document.body) {
            const iframe = document.createElement('iframe');
            iframe.style.cssText = 'display:none';
            iframe.name = 'googlefcPresent';
            document.body.appendChild(iframe);
          } else {
            setTimeout(signalGooglefcPresent, 0);
          }
        }
      }
      signalGooglefcPresent();
    })();
  </script>
</head>
<body class="page--cycling-coach">
  <a class="skip-link" href="#main-content">Skip to content</a>
  <div id="site-nav"></div>

  <main id="main-content" aria-labelledby="cycling-coach-title">
    <div class="stage-wrap">
      <section class="stage-hero">
        <h1 id="cycling-coach-title">Cycling Coach &amp; 24-Hour Challenge</h1>
        <p>
          The Cycling Coach guides you through the nitrogen cycle with structured inputs, clear AI-ready summaries, and a
          science-backed readiness check. Log daily readings, understand what your data means, and finish the 24-hour challenge
          before introducing fish.
        </p>
      </section>

      <section class="card" aria-labelledby="inputs-heading">
        <div class="card__header">
          <h2 class="card__title" id="inputs-heading">Inputs</h2>
        </div>
        <form id="coach-form" novalidate data-testid="coach-form">
          <div class="form-grid">
            <div class="field">
              <div class="label-row">
                <label for="ammonia">Ammonia (NH₃/NH₄⁺)</label>
                <button
                  type="button"
                  class="info-btn ttg-tooltip-trigger"
                  aria-label="More info about Ammonia"
                  aria-expanded="false"
                  data-tooltip-id="tt-ammonia"
                  aria-controls="tt-ammonia"
                  data-testid="info-ammonia"
                >i</button>
              </div>
              <input type="number" id="ammonia" name="ammonia" step="0.01" min="0" inputmode="decimal" data-testid="ammonia" />
              <div id="tt-ammonia" class="ttg-tooltip" data-tooltip-panel role="tooltip" hidden>Waste from fish/food. Even tiny amounts are toxic.</div>
            </div>
            <div class="field">
              <div class="label-row">
                <label for="nitrite">Nitrite (NO₂⁻)</label>
                <button
                  type="button"
                  class="info-btn ttg-tooltip-trigger"
                  aria-label="More info about Nitrite"
                  aria-expanded="false"
                  data-tooltip-id="tt-nitrite"
                  aria-controls="tt-nitrite"
                  data-testid="info-nitrite"
                >i</button>
              </div>
              <input type="number" id="nitrite" name="nitrite" step="0.01" min="0" inputmode="decimal" data-testid="nitrite" />
              <div id="tt-nitrite" class="ttg-tooltip" data-tooltip-panel role="tooltip" hidden>Mid-stage of the cycle; also toxic.</div>
            </div>
            <div class="field">
              <div class="label-row">
                <label for="nitrate">Nitrate (NO₃⁻)</label>
                <button
                  type="button"
                  class="info-btn ttg-tooltip-trigger"
                  aria-label="More info about Nitrate"
                  aria-expanded="false"
                  data-tooltip-id="tt-nitrate"
                  aria-controls="tt-nitrate"
                  data-testid="info-nitrate"
                >i</button>
              </div>
              <input type="number" id="nitrate" name="nitrate" step="0.1" min="0" inputmode="decimal" data-testid="nitrate" />
              <div id="tt-nitrate" class="ttg-tooltip" data-tooltip-panel role="tooltip" hidden>End product; safer but must be controlled with water changes. In planted tanks, a steady nitrate target around 10–20 ppm is common; Cycling Coach evaluates cycle completion independently of plants.</div>
            </div>
            <div class="field">
              <div class="label-row">
                <label for="cycle-method">Cycle Method</label>
                <button
                  type="button"
                  class="info-btn ttg-tooltip-trigger"
                  aria-label="More info about Cycle Method"
                  aria-expanded="false"
                  data-tooltip-id="tt-method"
                  aria-controls="tt-method"
                  data-testid="info-cycle-method"
                >i</button>
              </div>
              <select id="cycle-method" name="cycle-method">
                <option value="fishless" selected>Fishless</option>
                <option value="fish-in">Fish-in</option>
              </select>
              <div id="tt-method" class="ttg-tooltip" data-tooltip-panel role="tooltip" hidden>Fishless equals adding ammonia without fish. Fish-in means cycling with fish and requires extra care.</div>
            </div>
          </div>
          <div class="form-actions">
            <button type="button" class="btn" id="check-button">Check</button>
            <button type="button" class="btn btn--secondary" id="clear-button">Clear</button>
          </div>
        </form>
      </section>

      <section class="card" aria-labelledby="results-heading">
        <div class="card__header">
          <div class="status-label cc-results-head">
            <h2 class="card__title" id="results-heading">Results</h2>
            <button
              type="button"
              class="info-btn ttg-tooltip-trigger"
              aria-label="More info about Results status"
              aria-expanded="false"
              data-tooltip-id="tt-status"
              aria-controls="tt-status"
              data-testid="info-status"
            >i</button>
          </div>
          <div id="tt-status" class="ttg-tooltip" data-tooltip-panel role="tooltip" hidden>High-level snapshot of where your tank stands.</div>
        </div>
        <div class="status-row" aria-live="polite" data-testid="result-status">
          <span class="status-badge" id="status-badge">⚪ Incomplete</span>
          <p class="results-summary" id="results-summary">Ammonia: — ppm • Nitrite: — ppm • Nitrate: — ppm • Method: Fishless</p>
        </div>
        <div class="actions-block" id="actions-block" hidden data-testid="result-actions">
          <header>
            <span>Action steps</span>
            <button
              type="button"
              class="info-btn ttg-tooltip-trigger"
              aria-label="More info about Action steps"
              aria-expanded="false"
              data-tooltip-id="tt-actions"
              aria-controls="tt-actions"
              data-testid="info-actions"
            >i</button>
          </header>
          <div id="tt-actions" class="ttg-tooltip" data-tooltip-panel role="tooltip" hidden>Quick, practical steps based on your readings.</div>
          <ul class="actions-list" id="actions-list"></ul>
        </div>
      </section>

      <section class="card" id="challengeCard" aria-labelledby="challenge-heading" hidden>
        <div class="card__header challenge-header">
          <h2 class="card__title" id="challenge-heading">24-Hour Challenge</h2>
          <button
            type="button"
            class="info-btn ttg-tooltip-trigger"
            aria-label="More info about the Challenge"
            aria-expanded="false"
            data-tooltip-id="tt-challenge"
            aria-controls="tt-challenge"
            data-testid="info-challenge"
          >i</button>
        </div>
        <div id="tt-challenge" class="ttg-tooltip" data-tooltip-panel role="tooltip" hidden>Shows your filter can process two ppm ammonia to zero ammonia and zero nitrite in twenty-four hours.</div>
        <div class="challenge-card">
          <p class="challenge-instructions" id="challengeInstruction">Dose to ~2 ppm, wait 24 hours, then enter the readings below.</p>
          <button type="button" class="btn" id="challenge-start">Start 24-Hour Challenge</button>
          <div class="challenge-grid" id="challenge-form" hidden>
            <div class="field">
              <label for="challengeAmmonia">Ammonia after 24h</label>
              <input type="number" id="challengeAmmonia" step="0.01" min="0" inputmode="decimal" />
              <p class="field-error" id="challenge-ammonia-error" hidden></p>
            </div>
            <div class="field">
              <label for="challengeNitrite">Nitrite after 24h</label>
              <input type="number" id="challengeNitrite" step="0.01" min="0" inputmode="decimal" />
              <p class="field-error" id="challenge-nitrite-error" hidden></p>
            </div>
          </div>
          <button type="button" class="btn" id="challenge-check" hidden>Check results</button>
          <div id="challengeMessage"></div>
          <div class="actions-block" id="challenge-results" hidden>
            <header>
              <span>Challenge test</span>
              <button
                type="button"
                class="info-btn ttg-tooltip-trigger"
                aria-label="More info about the Challenge test"
                aria-expanded="false"
                data-tooltip-id="tt-challenge-inline"
                aria-controls="tt-challenge-inline"
                data-testid="info-challenge-inline"
              >i</button>
            </header>
            <div id="tt-challenge-inline" class="ttg-tooltip" data-tooltip-panel role="tooltip" hidden>Shows your filter can process two ppm ammonia to zero ammonia and zero nitrite in twenty-four hours.</div>
            <ul class="actions-list" id="challenge-list"></ul>
          </div>
          <ol class="challenge-steps">
            <li>Dose pure ammonia (or equivalent food) to 2 ppm and log the start time.</li>
            <li>Check ammonia and nitrite at the 12-hour midpoint to confirm downward movement.</li>
            <li>Retest at 24 hours. Both ammonia and nitrite must read 0 ppm; nitrate should climb.</li>
            <li>Perform a final polishing water change and stabilize temperature before adding fish.</li>
          </ol>
        </div>
      </section>

      <details class="advanced" id="advanced-panel">
        <summary aria-controls="advanced-content" aria-expanded="false">Advanced (optional)</summary>
        <div class="advanced-body" id="advanced-content">
          <div class="advanced-grid cc-advanced">
            <div class="field">
              <label for="ph">pH</label>
              <input type="number" id="ph" name="ph" step="0.1" inputmode="decimal" data-testid="ph" />
            </div>
            <div class="field">
              <label for="temperature">Temperature</label>
              <div class="temp-toggle">
                <input type="number" id="temperature" name="temperature" step="0.1" inputmode="decimal" data-testid="temp" />
                <button type="button" id="temp-toggle" aria-label="Switch temperature unit">°F</button>
              </div>
            </div>
          </div>
          <div class="advanced-output" aria-live="polite">
            <span>Estimated toxic NH₃:</span>
            <span class="value" id="nh3-value">—</span>
            <span class="nh3-badge" id="nh3-badge" hidden>⚠️ Caution</span>
            <button
              type="button"
              class="info-btn ttg-tooltip-trigger"
              aria-label="More info about toxic NH3 estimate"
              aria-expanded="false"
              data-tooltip-id="tt-advanced"
              aria-controls="tt-advanced"
              data-testid="info-advanced"
            >i</button>
            <div id="tt-advanced" class="ttg-tooltip" data-tooltip-panel role="tooltip" hidden>Test kits read TAN, which is NH3 plus NH4. Only NH3 is toxic and increases with pH and temperature.</div>
          </div>
          <p class="advanced-note"><a href="/media.html" target="_blank" rel="noopener">See Media page for Sources &amp; Further Reading.</a></p>
          <p>
            Cycling Coach calculates un-ionized ammonia (NH₃) using the Emerson formula, combining pH, temperature, and total ammonia. Values above 0.02 ppm may stress fish; pause stocking plans and increase aeration if you approach that threshold.
          </p>
          <p>
            Experienced keepers can compare readings against expert interviews and lab data in our <a href="/media.html">Media library</a>. Use this insight alongside your own judgement before making significant livestock decisions.
          </p>
        </div>
      </details>

      <section class="panel" id="how-to" aria-labelledby="how-to-heading">
        <h2 id="how-to-heading">How to Use the Cycling Coach &amp; Understand the Nitrogen Cycle</h2>
        <p>
          Cycling Coach turns raw measurements into guidance so you stay ahead of spikes and keep beneficial bacteria thriving.
          Follow this loop each time you test.
        </p>
        <ol class="how-to-list">
          <li>Run liquid tests for ammonia, nitrite, nitrate, pH, and temperature, then add data to the dashboard.</li>
          <li>Read the generated insights to see whether you should dose bacteria, perform water changes, or wait.</li>
          <li>After the 24-hour challenge, confirm nitrates rise while ammonia and nitrite stay at 0 ppm for a full day.</li>
        </ol>
      </section>

      <section class="panel card cc-faqs" id="cycling-faq" aria-labelledby="faq-heading">
        <div class="card__header"><h2 id="faq-heading">Cycling Coach FAQs</h2></div>
        <div class="card__body">
          <details class="cc-accordion">
            <summary>How does Cycling Coach keep my nitrogen cycle on track?</summary>
            <div class="cc-accordion-body">
              <p>It highlights ammonia and nitrite spikes, suggests corrective actions, and confirms when conditions meet stocking goals.</p>
            </div>
          </details>
          <details class="cc-accordion">
            <summary>What if my readings plateau?</summary>
            <div class="cc-accordion-body">
              <p>Review your log for missing bacteria boosters or insufficient aeration, then retest after adjusting temperature and flow.</p>
            </div>
          </details>
          <details class="cc-accordion">
            <summary>Can I use Cycling Coach for planted tanks?</summary>
            <div class="cc-accordion-body">
              <p>Yes—just record CO₂ dosing and plant mass notes so you understand how fast nutrients convert during cycling.</p>
            </div>
          </details>
          <details class="cc-accordion">
            <summary>Do I still need water changes during cycling?</summary>
            <div class="cc-accordion-body">
              <p>Yes. Partial water changes keep nitrite and nitrate below stress levels and refresh trace minerals for bacteria.</p>
            </div>
          </details>
          <details class="cc-accordion">
            <summary>What happens after the 24-hour challenge?</summary>
            <div class="cc-accordion-body">
              <p>Perform a polishing water change, match temperature, and acclimate fish slowly while continuing to log readings.</p>
            </div>
          </details>
          <details class="cc-accordion">
            <summary>Where can I get more aquarium education?</summary>
            <div class="cc-accordion-body">
              <p>Explore our guides in the <a href="/media.html">Media library</a> for deep dives on cycling science and beginner-friendly how-tos.</p>
            </div>
          </details>
        </div>
      </section>
    </div>
  </main>

  <div id="site-footer" data-footer-src="/footer.html?v=1.4.9"></div>

  <div id="ttg-consent" class="ttg-consent" data-consent-banner>
    <div class="ttg-consent__inner" role="dialog" aria-labelledby="ttg-consent-title" aria-describedby="ttg-consent-desc">
      <h3 id="ttg-consent-title">Cookies &amp; Advertising</h3>
      <p id="ttg-consent-desc">
        We use cookies to run this site and (if you allow) to show relevant ads from Google AdSense. You can accept all cookies,
        reject personalized ads, or manage preferences anytime.
      </p>
      <div class="ttg-consent__actions">
        <button type="button" class="ttg-btn ttg-btn--secondary js-consent-reject" id="ttg-consent-reject">Reject (Non-personalized)</button>
        <button type="button" class="ttg-btn ttg-btn--ghost" id="ttg-consent-manage">Manage</button>
        <button type="button" class="ttg-btn ttg-btn--primary js-consent-accept" id="ttg-consent-accept">Accept All</button>
      </div>
    </div>
  </div>

  <div id="ttg-consent-modal" class="ttg-consent-modal" hidden aria-modal="true" role="dialog" aria-labelledby="ttg-consent-modal-title">
    <div class="ttg-consent-modal__panel">
      <h3 id="ttg-consent-modal-title">Cookie Preferences</h3>
      <form id="ttg-consent-form">
        <label class="ttg-row">
          <input type="checkbox" checked disabled />
          <span><strong>Essential</strong> — required for core site functions.</span>
        </label>
        <label class="ttg-row">
          <input type="checkbox" id="ttg-c-analytics" />
          <span><strong>Analytics</strong> — understand usage (if enabled later).</span>
        </label>
        <label class="ttg-row">
          <input type="checkbox" id="ttg-c-ads" />
          <span><strong>Advertising</strong> — allow personalized ads (Google AdSense).</span>
        </label>
        <div class="ttg-consent-modal__actions">
          <button type="button" class="ttg-btn ttg-btn--ghost" id="ttg-consent-cancel">Cancel</button>
          <button type="submit" class="ttg-btn ttg-btn--primary">Save Preferences</button>
        </div>
      </form>
    </div>
  </div>

  <script type="module" src="/staging/cycling-coach/params.staging.js?v=0.1.0"></script>
  <script defer src="/assets/js/consent-banner.js"></script>
  <script>
    (function(){
      var allowNPA = true;

      function setAdConsent(granted){
        document.documentElement.setAttribute('data-ad-consent', granted ? 'granted' : 'denied');
        document.documentElement.classList.toggle('is-ads-disabled', !granted);
        window.__TTG_ADS_DISABLED__ = !granted;
        window.dispatchEvent(new CustomEvent('ttg:consent-change', {detail:{granted}}));
      }

      function hookTCF(){
        if (typeof window.__tcfapi !== 'function') return false;

        try{
          var banner = document.getElementById('ttg-consent');
          var modal  = document.getElementById('ttg-consent-modal');
          if (banner){ banner.hidden = true; banner.classList.remove('is-open'); }
          if (modal)  modal.hidden  = true;
        }catch(e){}

        window.__tcfapi('addEventListener', 2, function(tcData, ok){
          if(!ok || !tcData) return;
          var p = (tcData.purpose && tcData.purpose.consents) || {};
          var hasP1 = !!p[1];
          var hasP4 = !!p[4];
          var granted = allowNPA ? hasP1 : (hasP1 && hasP4);
          setAdConsent(granted);
        });

        window.__tcfapi('getTCData', 2, function(tcData, ok){
          if(!ok || !tcData) return;
          var p = (tcData.purpose && tcData.purpose.consents) || {};
          var hasP1 = !!p[1];
          var hasP4 = !!p[4];
          var granted = allowNPA ? hasP1 : (hasP1 && hasP4);
          setAdConsent(granted);
        });

        return true;
      }

      function init(){
        if (hookTCF()) {
          return;
        }

        var stored = localStorage.getItem('ttg-ad-consent');
        if (stored) {
          setAdConsent(stored === 'granted');
          return;
        }

        setAdConsent(false);
      }

      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', init, { once: true });
      } else {
        init();
      }
    })();
  </script>

  <script src="/js/footer-loader.js?v=1.4.9" defer></script>
</body>
</html>
