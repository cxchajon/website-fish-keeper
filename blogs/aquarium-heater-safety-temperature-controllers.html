<!doctype html>
<html lang="en">
<head>
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-KTRVCMQN');</script>
  <!-- End Google Tag Manager -->
  <link rel="preload" href="/footer.html?v=1.5.2" as="fetch" crossorigin="anonymous">
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Aquarium Heater Safety: Why Temperature Controllers Matter | The Tank Guide</title>
  <meta name="description" content="Aquarium heaters often fail silently. Learn why temperature controllers provide visibility and time to respond before failures become a crisis." />
  <link rel="canonical" href="https://thetankguide.com/blogs/aquarium-heater-safety-temperature-controllers.html" />
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/img/logos/favicon-16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/img/logos/favicon-32.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/img/Logo-Master-180x180.PNG">
  <link rel="apple-touch-icon" sizes="512x512" href="/assets/img/Logo-Master-512x512.PNG">

  <meta property="og:site_name" content="The Tank Guide" />

  <!--#include virtual="/includes/schema-organization.html" -->
  <meta name="robots" content="max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
  <meta property="og:type" content="article" />
  <meta property="og:locale" content="en_US" />
  <meta property="og:title" content="Aquarium Heater Safety: Why Temperature Controllers Matter" />
  <meta property="og:description" content="Aquarium heaters often fail silently. Learn why temperature controllers provide visibility and time to respond before failures become a crisis." />
  <meta property="og:url" content="https://thetankguide.com/blogs/aquarium-heater-safety-temperature-controllers.html" />
  <meta property="og:image" content="https://thetankguide.com/assets/img/logos/logo-1200x630.png" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property="og:image:alt" content="FishKeepingLifeCo logo (1200×630)." />
  <meta property="article:published_time" content="2025-12-24" />
  <meta property="article:modified_time" content="2025-12-24" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:url" content="https://thetankguide.com/blogs/aquarium-heater-safety-temperature-controllers.html" />
  <meta name="twitter:title" content="Aquarium Heater Safety: Why Temperature Controllers Matter" />
  <meta name="twitter:description" content="Aquarium heaters often fail silently. Learn why temperature controllers provide visibility and time to respond before failures become a crisis." />
  <meta name="twitter:image" content="https://thetankguide.com/assets/img/logos/logo-1200x630.png" />
  <meta name="twitter:image:alt" content="FishKeepingLifeCo logo (1200×630)." />
  <meta name="author" content="The Tank Guide Team" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/css/blog-theme.css?v=1.2">
  <link rel="stylesheet" href="/css/style.css?v=1.0.10">
  <link rel="stylesheet" href="/css/blogs.css?v=1.5.2">
  <style>
    .skip-link {
      position: absolute;
      left: -999px;
      top: 10px;
      padding: 10px 14px;
      background: #0c1424;
      color: #ffffff;
      font-weight: 600;
      border-radius: 8px;
      z-index: 1000;
      text-decoration: none;
      box-shadow: 0 6px 14px rgba(0, 0, 0, 0.35);
    }

    .skip-link:focus {
      left: 16px;
    }

    .article-layout {
      display: flex;
      flex-direction: column;
    }

    .article-layout article {
      display: flex;
      flex-direction: column;
      gap: clamp(1.4rem, 3vw, 2rem);
    }

    .back-link {
      align-self: flex-start;
      color: var(--blog-accent);
      text-decoration: none;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
    }

    .back-link:hover,
    .back-link:focus {
      text-decoration: underline;
    }

    .article-header {
      text-align: center;
      display: flex;
      flex-direction: column;
      gap: 1rem;
      margin-bottom: clamp(1.5rem, 4vw, 2.2rem);
    }

    .article-header h1 {
      margin: 0;
      font-size: clamp(2.1rem, 4.8vw, 3rem);
      line-height: 1.1;
    }

    .deck {
      margin: 0;
      font-size: clamp(1.05rem, 2.3vw, 1.3rem);
      line-height: 1.5;
      color: var(--blog-text);
    }

    .article-layout h2,
    .article-layout h3 {
      margin-top: clamp(2.2rem, 5vw, 3rem);
    }

    .article-header .affiliate-disclosure {
      margin: 0;
      font-size: 0.95rem;
      color: var(--blog-muted-strong, #e2e6ee);
    }

    .article-layout p {
      margin: clamp(0.9rem, 2.4vw, 1.2rem) 0;
    }

    .article-layout ul {
      margin: clamp(1.1rem, 2.8vw, 1.5rem) 0;
      padding-left: 1.2rem;
    }

    .article-layout ul li {
      margin: 0.55rem 0;
    }

    .article-layout a {
      color: var(--blog-accent);
    }

    .tg-figure {
      margin: 28px 0;
      background: #333;
      border-radius: 14px;
      overflow: hidden;
      border: 1px solid rgba(255,255,255,.1)
    }

    .tg-figure--hero {
      margin-top: 0;
    }

    .tg-figure figcaption {
      font-size: .95rem;
      color: var(--blog-muted-strong, #e2e6ee);
      padding: 12px 14px;
      background: #2a2a2a
    }

    .tg-img {
      display: block;
      width: 100%;
      height: auto
    }

    .tg-img--hero {
      aspect-ratio: 16/9;
      object-fit: cover;
      object-position: center;
      border-radius: 12px 12px 0 0
    }

    .section-split {
      height: 1px;
      background: linear-gradient(90deg,transparent,rgba(255,255,255,.12),transparent);
      margin: 28px 0
    }

    /* Scoped to this article page */
    main {
      max-width: 880px;
      margin: auto;
      padding: 40px 20px;
    }

    .blog-body {
      position: relative;
      background: rgba(25,25,25,0.35);
      border-radius: 14px;
      padding: 28px 22px;
      margin: 24px auto;
      max-width: 900px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.25);
      backdrop-filter: blur(6px);
      -webkit-backdrop-filter: blur(6px);
      overflow: hidden;
    }

    .blog-body::after {
      content: "";
      position: absolute;
      left: 0;
      right: 0;
      bottom: 0;
      height: 120px;
      background: linear-gradient(to bottom,
        rgba(25,25,25,0.3) 0%,
        rgba(25,25,25,0.15) 40%,
        rgba(25,25,25,0.0) 100%);
      pointer-events: none;
      z-index: 0;
    }

    .blog-body p {
      line-height: 1.7;
      color: #d8d8d8;
      position: relative;
      z-index: 1;
    }

    .blog-body h2,
    .blog-body h3 {
      margin-top: 36px;
      color: #ffffff;
      position: relative;
      z-index: 1;
    }

    .blog-body ul,
    .blog-body ol {
      position: relative;
      z-index: 1;
    }

    .blog-inline-cta {
      position: relative;
      z-index: 1;
      margin: clamp(1.6rem, 4vw, 2.4rem) 0 clamp(1.6rem, 4vw, 2.4rem);
      padding: clamp(1.1rem, 3vw, 1.6rem);
      border-radius: 14px;
      background: linear-gradient(135deg, rgba(0, 195, 182, 0.1), rgba(12, 20, 36, 0.55));
      border: 1px solid rgba(255, 255, 255, 0.08);
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.28);
      display: flex;
      flex-direction: column;
      gap: 0.65rem;
    }

    .blog-inline-cta h3 {
      margin: 0;
      font-size: 1.15rem;
      color: #ffffff;
    }

    .blog-inline-cta p {
      margin: 0;
      color: #d8e6f2;
      line-height: 1.6;
    }

    .blog-inline-cta .cta-actions {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      flex-wrap: wrap;
    }

    .blog-inline-cta .tool-card-cta {
      background: rgba(255, 255, 255, 0.18);
      border-color: rgba(255, 255, 255, 0.65);
      color: #ffffff;
      padding: 0.7rem 1.4rem;
      font-size: 1rem;
      text-decoration: none;
    }

    .blog-inline-cta .tool-card-cta:focus-visible {
      outline: 2px solid #ffffff;
      outline-offset: 3px;
    }


    @media (max-width: 640px) {
      main {
        padding-inline: clamp(1.2rem, 6vw, 2rem);
      }

      .article-header {
        text-align: left;
      }

      .tg-figure figcaption {
        padding: 0;
      }

      .blog-body {
        padding: 20px 16px;
        border-radius: 12px;
      }
    }

    .photo-gallery {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 16px;
      margin: 22px 0;
    }

    .photo-gallery .tg-figure {
      margin: 0;
    }

    .tg-img--tall {
      aspect-ratio: 10 / 21;
      object-fit: cover;
    }
  </style>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "Aquarium Heater Safety: Why Temperature Controllers Matter",
    "description": "Aquarium heaters often fail silently. Learn why temperature controllers provide visibility and time to respond before failures become a crisis.",
    "image": [
      "https://thetankguide.com/assets/images/inkbird-aquarium-temperature-controller-app-live-reading.png",
      "https://thetankguide.com/assets/images/inkbird-aquarium-temperature-controller-app-power-off.png",
      "https://thetankguide.com/assets/images/inkbird-itc-306a-aquarium-temperature-controller-installed.png",
      "https://thetankguide.com/assets/images/inkbird-itc-306a-dual-probe-aquarium-temperature-controller.png"
    ],
    "author": {
      "@type": "Organization",
      "@id": "https://thetankguide.com/#brand",
      "name": "The Tank Guide Team",
      "url": "https://thetankguide.com"
    },
    "publisher": { "@id": "https://thetankguide.com/#organization" },
    "datePublished": "2025-12-24",
    "dateModified": "2025-12-24",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://thetankguide.com/blogs/aquarium-heater-safety-temperature-controllers.html"
    },
    "isPartOf": { "@id": "https://thetankguide.com/#website" }
  }
  </script>
  <script defer src="/js/nav.js?v=1.1.0"></script>
  <!-- Consent Mode defaults (runs after GA loader) -->
  <script src="/assets/js/consent-mode.js?v=1.5.2" defer></script>
  <!-- --- Google CMP (Funding Choices) START --- -->
  <script async src="https://fundingchoicesmessages.google.com/i/pub-9905718149811880?ers=1"></script>
  <script>
    // Required bootstrap per Google; signals CMP presence
    (function() {
      function signalGooglefcPresent() {
        if (!window.frames['googlefcPresent']) {
          if (document.body) {
            const iframe = document.createElement('iframe');
            iframe.style.cssText = 'display:none';
            iframe.name = 'googlefcPresent';
            document.body.appendChild(iframe);
          } else {
            setTimeout(signalGooglefcPresent, 0);
          }
        }
      }
      signalGooglefcPresent();
    })();
  </script>
  <!-- --- Google CMP (Funding Choices) END --- -->
</head>
<body class="blog-article">
  <a href="#main-content" class="skip-link">Skip to content</a>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KTRVCMQN"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
  <div id="site-nav"></div>

  <nav aria-label="Breadcrumb" class="breadcrumb" style="max-width: 880px; margin: 20px auto 0; padding: 0 20px;">
    <ol style="list-style: none; padding: 0; margin: 0; display: flex; flex-wrap: wrap; gap: 0.5rem; font-size: 0.9rem; color: var(--blog-muted-strong, #e2e6ee);">
      <li><a href="/" style="color: var(--blog-accent, #00c3b6); text-decoration: none;">Home</a></li>
      <li style="color: #666;">/</li>
      <li><a href="/blogs/" style="color: var(--blog-accent, #00c3b6); text-decoration: none;">Blog</a></li>
      <li style="color: #666;">/</li>
      <li aria-current="page">Aquarium Heater Safety: Why Temperature Controllers Matter</li>
    </ol>
  </nav>

  <main class="article-layout" id="main-content">
    <article>
      <a class="back-link" href="/blogs/" aria-label="Back to all blog posts">← Back to all posts</a>

      <header class="article-header">
        <h1>Aquarium Heater Safety: Why Temperature Controllers Matter</h1>
        <p class="deck">Aquarium heaters are one of the most common single-point failures in fishkeeping. When they fail, they often don’t shut off — they stay on.</p>
      </header>

      <figure class="tg-figure tg-figure--hero">
        <img
          src="/assets/images/inkbird-aquarium-temperature-controller-app-live-reading.png"
          alt="Inkbird aquarium temperature controller app showing a live 76.5°F reading"
          class="tg-img tg-img--hero"
          width="1290"
          height="2796"
          loading="eager"
          decoding="async"
        >
        <figcaption>Live reading from the Inkbird temperature controller app showing stable 76.5°F aquarium temperature.</figcaption>
      </figure>

      <div class="section-split" aria-hidden="true"></div>

      <div class="blog-body">
        <p>Aquarium heaters are one of the most common single-point failures in fishkeeping.</p>

        <p>When they fail, they often don’t shut off — they stay on. This can cause water temperature to rise slowly and quietly. By the time the issue is noticed, fish have often already experienced stress from prolonged exposure to unsafe conditions.</p>

        <p>This article isn’t a product ranking or a sales pitch. It’s an educational look at why temperature controllers exist, how they function as a safety layer, and why they are commonly recommended to protect long-term fish welfare.</p>

        <div class="section-split" aria-hidden="true"></div>

        <h3>Photo Gallery: How the Inkbird App Looks in Use</h3>
        <div class="photo-gallery">
          <figure class="tg-figure">
            <img
              class="tg-img tg-img--tall"
              src="/assets/images/inkbird-aquarium-temperature-controller-app-live-reading.png"
              alt="Inkbird app showing live aquarium temperature reading."
              width="1290"
              height="2796"
              loading="lazy"
              decoding="async"
            >
            <figcaption>Live temperature visibility makes it easy to spot slow drifts before livestock are stressed.</figcaption>
          </figure>
          <figure class="tg-figure">
            <img
              class="tg-img tg-img--tall"
              src="/assets/images/inkbird-aquarium-temperature-controller-app-power-off.png"
              alt="Inkbird app screen showing heater power off state."
              width="1290"
              height="2796"
              loading="lazy"
              decoding="async"
            >
            <figcaption>The controller can cut power and alert you when temperatures move outside the safe range.</figcaption>
          </figure>
        </div>

        <div class="section-split" aria-hidden="true"></div>

        <h2>What Is an Aquarium Temperature Controller?</h2>
        <p>A temperature controller is an external device that independently monitors aquarium water temperature and cuts power to the heater if unsafe conditions are detected.</p>

        <p>Instead of relying solely on the heater’s internal thermostat, the controller acts as a second checkpoint — a redundant layer designed to intervene when something goes wrong.</p>

        <div class="section-split" aria-hidden="true"></div>

        <h2>Borrowing a Safety Practice from Saltwater Systems</h2>
        <p>Temperature controllers have long been standard equipment in saltwater reef systems, where stability is critical and equipment redundancy is expected.</p>

        <p>The risk they address, however, isn’t unique to saltwater tanks. Heater malfunction affects freshwater aquariums in exactly the same way. Fish experience physiological stress from rapid or sustained temperature changes regardless of salinity.</p>

        <p>By adopting this safety practice, freshwater hobbyists can move away from relying on a single component and toward a more resilient system.</p>

        <div class="section-split" aria-hidden="true"></div>

        <h2>How a Temperature Controller Functions</h2>
        <p>In our experience with units like the <a href="https://www.amazon.com/dp/B07X1JT372/ref=cm_sw_r_as_gl_api_gl_i_TA8WPY3ZKGSTAJ6NS2C1?linkCode=ml1&amp;tag=fishkeepingli-20&amp;linkId=aeaf5b020e5a77d3349bff97ce07d9f3" target="_blank" rel="nofollow sponsored noopener">Inkbird ITC-306A</a>, the value lies in independent monitoring.</p>

        <p>The controller sits between your heater and the power outlet. A temperature probe measures the actual water temperature, not the heater’s internal reading. You set a safe operating range, and the controller ensures power is only supplied when conditions are within that range.</p>

        <p>Modern controllers with Wi-Fi capability add visibility without increasing complexity:</p>
        <ul>
          <li>Live temperature readings from your phone</li>
          <li>Instant alerts if temperatures move outside safe limits</li>
          <li>Trend awareness, helping you see how seasonal or household changes affect your tank</li>
        </ul>

        <p>This technology isn’t about micromanaging — it’s about visibility and giving yourself time to respond before a failure becomes a crisis.</p>

        <div class="section-split" aria-hidden="true"></div>

        <h2>High-Level Setup Overview</h2>
        <p>Using a temperature controller is straightforward:</p>
        <ol>
          <li>Plug the controller into the wall outlet</li>
          <li>Plug your aquarium heater into the controller</li>
          <li>Place the temperature probes in the aquarium</li>
          <li>Set your target temperature and safety cut-off limits</li>
        </ol>

        <p>If a heater’s internal thermostat fails and remains on, the controller detects the rising temperature and physically cuts power to the heater.</p>

        <figure class="tg-figure">
          <img
            class="tg-img tg-img--tall"
            src="/assets/images/inkbird-itc-306a-aquarium-temperature-controller-installed.png"
            alt="Inkbird ITC-306A temperature controller mounted near aquarium setup."
            width="1290"
            height="2796"
            loading="lazy"
            decoding="async"
          >
          <figcaption>The controller sits between the outlet and heater, providing a cutoff layer that doesn’t change your maintenance routine.</figcaption>
        </figure>

        <div class="section-split" aria-hidden="true"></div>

        <h2>Why Probe Placement Matters</h2>
        <p>The Inkbird ITC-306A uses dual temperature probes, which are designed to cross-reference each other and detect abnormal or faulty readings.</p>

        <p>For that safety check to work properly:</p>
        <ul>
          <li>Keep both probes near each other, reading the same water mass</li>
          <li>Place them in an area with active water flow</li>
          <li>Avoid positioning probes directly next to the heater element</li>
        </ul>

        <p>If the probes are separated, this cross-check becomes less reliable. Keeping them clustered ensures accurate readings and effective protection.</p>

        <figure class="tg-figure">
          <img
            class="tg-img tg-img--tall"
            src="/assets/images/inkbird-itc-306a-dual-probe-aquarium-temperature-controller.png"
            alt="Inkbird ITC-306A dual-probe display showing current and set temperature."
            width="1290"
            height="2796"
            loading="lazy"
            decoding="async"
          >
          <figcaption>Dual probes allow the controller to verify readings and shut off power when temperatures drift outside your safe range.</figcaption>
        </figure>

        <div class="section-split" aria-hidden="true"></div>

        <h2>Probe Construction Is a Safety Detail That Matters</h2>
        <p>Not all temperature controllers are built for aquarium use.</p>

        <p>Some generic models use exposed metal probes designed for air or industrial environments. For aquariums, probes should be plastic-coated and rated for continuous submersion to prevent corrosion or material leaching.</p>

        <p>This is one of the reasons we reference the Inkbird ITC-306A specifically — its probes are designed for long-term aquarium use.</p>

        <div class="section-split" aria-hidden="true"></div>

        <h2>When a Temperature Controller Makes Sense</h2>
        <p>A temperature controller isn’t required for every setup, but it is strongly recommended in certain situations:</p>
        <ul>
          <li>Tanks with temperature-sensitive species</li>
          <li>Aquariums in rooms with seasonal temperature swings</li>
          <li>Larger or heavily stocked tanks</li>
          <li>Systems where livestock value or long-term stability matters</li>
          <li>Hobbyists who have experienced heater failure in the past</li>
        </ul>

        <p>For very small or temporary setups, a high-quality heater may be sufficient. A controller is an added layer of protection — not a barrier to entry.</p>

        <div class="section-split" aria-hidden="true"></div>

        <h2>Final Thoughts</h2>
        <p>Good aquarium design focuses on reducing single points of failure.</p>

        <p>A temperature controller won’t prevent a heater from breaking, but it can prevent a broken heater from destabilizing an entire ecosystem. That margin of protection is often the difference between catching a problem early and discovering it too late.</p>

        <div class="section-split" aria-hidden="true"></div>

        <h2>Affiliate Disclosure</h2>
        <p>This article contains affiliate links. We participate in the Amazon Associates and Hygger affiliate programs, which means we may earn a small commission from qualifying purchases at no extra cost to you. These commissions help support the creation of free educational resources. Our recommendations are always based on real-world use and fish welfare considerations.</p>

        <section class="blog-inline-cta" aria-label="Gear Guide call to action">
          <div>
            <h3>Put This Into Practice</h3>
            <p>Ready to apply what you learned? Use our Gear Guide to match heaters and controllers to your tank size—built with safety in mind.</p>
          </div>
          <div class="cta-actions">
            <a class="tool-card-cta" href="/gear/">Explore the Gear Guide</a>
          </div>
        </section>

      </div>
    </article>
  </main>

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      {
        "@type": "ListItem",
        "position": 1,
        "name": "Home",
        "item": "https://thetankguide.com/"
      },
      {
        "@type": "ListItem",
        "position": 2,
        "name": "Blog",
        "item": "https://thetankguide.com/blogs/"
      },
      {
        "@type": "ListItem",
        "position": 3,
        "name": "Aquarium Heater Safety: Why Temperature Controllers Matter",
        "item": "https://thetankguide.com/blogs/aquarium-heater-safety-temperature-controllers.html"
      }
    ]
  }
  </script>

  <div class="blog-footer-fade" aria-hidden="true"></div>
  <script src="/js/footer-loader.js?v=1.5.2" defer></script>
  <section class="legal-links" aria-label="Site legal links">
    <a href="/privacy-legal.html">Privacy Policy</a>
    <a href="/terms.html">Terms</a>
    <a href="/contact-feedback.html">Contact</a>
  </section>
  <noscript>
    <section class="legal-links" aria-label="Site legal links (noscript)">
      <a href="/privacy-legal.html">Privacy Policy</a>
      <a href="/terms.html">Terms</a>
      <a href="/contact-feedback.html">Contact</a>
    </section>
  </noscript>

  <div class="inhouse-ad-wrap">
    <section class="footer-ad-band">
      <div class="ttg-ad-slot ttg-house-ad-slot"
           id="ad-aquarium-heater-safety-footer-band"
           data-ttg-ad-rotator="true"
           data-ttg-ad-manifest="/assets/ads/manifest.json"
           data-ttg-ad-interval="10000"
           aria-label="Advertisement">
        <a class="ttg-ad-banner-link" href="/store.html">
          <img class="ttg-ad-img inhouse-ad-img"
               src="/assets/img/ads/Daily-tank-journal-ad.PNG"
               alt="Daily Tank Journal promotion"
               loading="lazy">
        </a>
      </div>
    </section>
  </div>

  <div id="site-footer" data-footer-src="/footer.html?v=1.5.2"></div>
<!-- === TTG CMP Consent Bridge START === -->
<script>
(function(){
  // Helper: map TCF consent to our single "ads granted" flag.
  // We consider "granted" only when Purpose 1 (storage) AND Purpose 4 (select personalised ads)
  // are consented. If you want to allow NON-personalised ads when only Purpose 1 is granted,
  // set allowNPA=true below.
  var allowNPA = true; // if true, we'll treat Purpose 1 only as "granted" for showing slots (Google will serve NPA ads).

  function setAdConsent(granted){
    // Google CMP interface (Funding Choices) — set consent for ads_storage and ad_user_data
    var consentState = granted ? 'granted' : 'denied';
    var payload = {
      'ad_storage': consentState,
      'ad_user_data': consentState,
      'ad_personalization': consentState
    };
    if (typeof window.__ttgUpdateConsentState__ === 'function') {
      window.__ttgUpdateConsentState__(payload);
    } else if (typeof window.gtag === 'function') {
      window.gtag('consent', 'update', payload);
    } else {
      (window.__ttgDeferredConsentUpdates__ = window.__ttgDeferredConsentUpdates__ || []).push(payload);
    }
  }

  function hookTCF(){
    // Funding Choices exposes the IAB TCF v2 interface.
    // We hook into it to map Purpose consent to Google consent mode.
    if (typeof __tcfapi !== 'function') return;

    __tcfapi('addEventListener', 2, function(tcData, success){
      if(!success || !tcData || tcData.eventStatus !== 'tcloaded') return;

      // Purpose IDs: 1 = Storage and Access, 4 = Select Personalised Ads
      var p1 = tcData.purpose && tcData.purpose.consents && tcData.purpose.consents[1];
      var p4 = tcData.purpose && tcData.purpose.consents && tcData.purpose.consents[4];
      var granted = !!(p1 && (p4 || allowNPA));

      setAdConsent(granted);
    });
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', hookTCF);
  } else {
    hookTCF();
  }
})();
</script>
<!-- === TTG CMP Consent Bridge END === -->
</body>
</html>
